var Bh=e=>{throw TypeError(e)};var fc=(e,t,n)=>t.has(e)||Bh("Cannot "+n);var N=(e,t,n)=>(fc(e,t,"read from private field"),n?n.call(e):t.get(e)),Z=(e,t,n)=>t.has(e)?Bh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),G=(e,t,n,r)=>(fc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Oe=(e,t,n)=>(fc(e,t,"access private method"),n);var Li=(e,t,n,r)=>({set _(s){G(e,t,s,n)},get _(){return N(e,t,r)}});function jS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var xg={exports:{}},dl={},bg={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),TS=Symbol.for("react.portal"),AS=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),IS=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),FS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),zh=Symbol.iterator;function BS(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var Sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_g=Object.assign,Cg={};function zs(e,t,n){this.props=e,this.context=t,this.refs=Cg,this.updater=n||Sg}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eg(){}Eg.prototype=zs.prototype;function Bd(e,t,n){this.props=e,this.context=t,this.refs=Cg,this.updater=n||Sg}var zd=Bd.prototype=new Eg;zd.constructor=Bd;_g(zd,zs.prototype);zd.isPureReactComponent=!0;var Vh=Array.isArray,kg=Object.prototype.hasOwnProperty,Vd={current:null},Pg={key:!0,ref:!0,__self:!0,__source:!0};function Ng(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)kg.call(t,r)&&!Pg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xi,type:e,key:o,ref:i,props:s,_owner:Vd.current}}function zS(e,t){return{$$typeof:xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hd(e){return typeof e=="object"&&e!==null&&e.$$typeof===xi}function VS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hh=/\/+/g;function hc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VS(""+e.key):t.toString(36)}function pa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xi:case TS:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+hc(i,0):r,Vh(s)?(n="",e!=null&&(n=e.replace(Hh,"$&/")+"/"),pa(s,t,n,"",function(c){return c})):s!=null&&(Hd(s)&&(s=zS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Hh,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Vh(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+hc(o,a);i+=pa(o,t,n,l,s)}else if(l=BS(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+hc(o,a++),i+=pa(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Fi(e,t,n){if(e==null)return e;var r=[],s=0;return pa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function HS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},ma={transition:null},WS={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ma,ReactCurrentOwner:Vd};function jg(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Fi,forEach:function(e,t,n){Fi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fi(e,function(){t++}),t},toArray:function(e){return Fi(e,function(t){return t})||[]},only:function(e){if(!Hd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=zs;Q.Fragment=AS;Q.Profiler=IS;Q.PureComponent=Bd;Q.StrictMode=OS;Q.Suspense=FS;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS;Q.act=jg;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_g({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Vd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)kg.call(t,l)&&!Pg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xi,type:e.type,key:s,ref:o,props:r,_owner:i}};Q.createContext=function(e){return e={$$typeof:MS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DS,_context:e},e.Consumer=e};Q.createElement=Ng;Q.createFactory=function(e){var t=Ng.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:LS,render:e}};Q.isValidElement=Hd;Q.lazy=function(e){return{$$typeof:US,_payload:{_status:-1,_result:e},_init:HS}};Q.memo=function(e,t){return{$$typeof:$S,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ma.transition;ma.transition={};try{e()}finally{ma.transition=t}};Q.unstable_act=jg;Q.useCallback=function(e,t){return Qe.current.useCallback(e,t)};Q.useContext=function(e){return Qe.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Qe.current.useEffect(e,t)};Q.useId=function(){return Qe.current.useId()};Q.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Qe.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};Q.useRef=function(e){return Qe.current.useRef(e)};Q.useState=function(e){return Qe.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Qe.current.useTransition()};Q.version="18.3.1";bg.exports=Q;var h=bg.exports;const Le=wg(h),Wd=jS({__proto__:null,default:Le},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=h,qS=Symbol.for("react.element"),GS=Symbol.for("react.fragment"),QS=Object.prototype.hasOwnProperty,YS=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JS={key:!0,ref:!0,__self:!0,__source:!0};function Rg(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)QS.call(t,r)&&!JS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qS,type:e,key:o,ref:i,props:s,_owner:YS.current}}dl.Fragment=GS;dl.jsx=Rg;dl.jsxs=Rg;xg.exports=dl;var u=xg.exports,Tg={exports:{}},ht={},Ag={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,A){var L=P.length;P.push(A);e:for(;0<L;){var B=L-1>>>1,ne=P[B];if(0<s(ne,A))P[B]=A,P[L]=ne,L=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],L=P.pop();if(L!==A){P[0]=L;e:for(var B=0,ne=P.length,Ue=ne>>>1;B<Ue;){var be=2*(B+1)-1,Ft=P[be],Be=be+1,$=P[Be];if(0>s(Ft,L))Be<ne&&0>s($,Ft)?(P[B]=$,P[Be]=L,B=Be):(P[B]=Ft,P[be]=L,B=be);else if(Be<ne&&0>s($,L))P[B]=$,P[Be]=L,B=Be;else break e}}return A}function s(P,A){var L=P.sortIndex-A.sortIndex;return L!==0?L:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,x=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=P)r(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(c)}}function S(P){if(m=!1,b(P),!x)if(n(l)!==null)x=!0,M(_);else{var A=n(c);A!==null&&V(S,A.startTime-P)}}function _(P,A){x=!1,m&&(m=!1,v(k),k=-1),g=!0;var L=p;try{for(b(A),f=n(l);f!==null&&(!(f.expirationTime>A)||P&&!F());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var ne=B(f.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),b(A)}else r(l);f=n(l)}if(f!==null)var Ue=!0;else{var be=n(c);be!==null&&V(S,be.startTime-A),Ue=!1}return Ue}finally{f=null,p=L,g=!1}}var E=!1,C=null,k=-1,j=5,T=-1;function F(){return!(e.unstable_now()-T<j)}function I(){if(C!==null){var P=e.unstable_now();T=P;var A=!0;try{A=C(!0,P)}finally{A?U():(E=!1,C=null)}}else E=!1}var U;if(typeof y=="function")U=function(){y(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,z=O.port2;O.port1.onmessage=I,U=function(){z.postMessage(null)}}else U=function(){w(I,0)};function M(P){C=P,E||(E=!0,U())}function V(P,A){k=w(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,M(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var L=p;p=A;try{return P()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=p;p=P;try{return A()}finally{p=L}},e.unstable_scheduleCallback=function(P,A,L){var B=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=L+ne,P={id:d++,callback:A,priorityLevel:P,startTime:L,expirationTime:ne,sortIndex:-1},L>B?(P.sortIndex=L,t(c,P),n(l)===null&&P===n(c)&&(m?(v(k),k=-1):m=!0,V(S,L-B))):(P.sortIndex=ne,t(l,P),x||g||(x=!0,M(_))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var A=p;return function(){var L=p;p=A;try{return P.apply(this,arguments)}finally{p=L}}}})(Og);Ag.exports=Og;var XS=Ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=h,ft=XS;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ig=new Set,Uo={};function Br(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(Uo[e]=t,e=0;e<t.length;e++)Ig.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=Object.prototype.hasOwnProperty,e1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Kh={};function t1(e){return uu.call(Kh,e)?!0:uu.call(Wh,e)?!1:e1.test(e)?Kh[e]=!0:(Wh[e]=!0,!1)}function n1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r1(e,t,n,r){if(t===null||typeof t>"u"||n1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function qd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kd,qd);Te[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kd,qd);Te[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kd,qd);Te[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gd(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r1(t,n,s,r)&&(n=null),r||s===null?t1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vn=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),fu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),qh=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,pc;function yo(e){if(pc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pc=t&&t[1]||""}return`
`+pc+e}var mc=!1;function gc(e,t){if(!e||mc)return"";mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{mc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yo(e):""}function s1(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=gc(e.type,!1),e;case 11:return e=gc(e.type.render,!1),e;case 1:return e=gc(e.type,!0),e;default:return""}}function pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zr:return"Portal";case du:return"Profiler";case Qd:return"StrictMode";case fu:return"Suspense";case hu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mg:return(e.displayName||"Context")+".Consumer";case Dg:return(e._context.displayName||"Context")+".Provider";case Yd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:pu(e.type)||"Memo";case Pn:t=e._payload,e=e._init;try{return pu(e(t))}catch{}}return null}function o1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pu(t);case 8:return t===Qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i1(e){var t=Fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ui(e){e._valueTracker||(e._valueTracker=i1(e))}function $g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mu(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ug(e,t){t=t.checked,t!=null&&Gd(e,"checked",t,!1)}function gu(e,t){Ug(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vu(e,t.type,n):t.hasOwnProperty("defaultValue")&&vu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vu(e,t,n){(t!=="number"||Ta(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wo=Array.isArray;function ds(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(wo(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Bg(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bi,Vg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a1=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(e){a1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eo[t]=Eo[e]})});function Hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Eo.hasOwnProperty(e)&&Eo[e]?(""+t).trim():t+"px"}function Wg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var l1=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xu(e,t){if(t){if(l1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=null;function Xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _u=null,fs=null,hs=null;function Xh(e){if(e=_i(e)){if(typeof _u!="function")throw Error(R(280));var t=e.stateNode;t&&(t=gl(t),_u(e.stateNode,e.type,t))}}function Kg(e){fs?hs?hs.push(e):hs=[e]:fs=e}function qg(){if(fs){var e=fs,t=hs;if(hs=fs=null,Xh(e),t)for(e=0;e<t.length;e++)Xh(t[e])}}function Gg(e,t){return e(t)}function Qg(){}var vc=!1;function Yg(e,t,n){if(vc)return e(t,n);vc=!0;try{return Gg(e,t,n)}finally{vc=!1,(fs!==null||hs!==null)&&(Qg(),qg())}}function zo(e,t){var n=e.stateNode;if(n===null)return null;var r=gl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Cu=!1;if(dn)try{var io={};Object.defineProperty(io,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Cu=!1}function c1(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ko=!1,Aa=null,Oa=!1,Eu=null,u1={onError:function(e){ko=!0,Aa=e}};function d1(e,t,n,r,s,o,i,a,l){ko=!1,Aa=null,c1.apply(u1,arguments)}function f1(e,t,n,r,s,o,i,a,l){if(d1.apply(this,arguments),ko){if(ko){var c=Aa;ko=!1,Aa=null}else throw Error(R(198));Oa||(Oa=!0,Eu=c)}}function zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zh(e){if(zr(e)!==e)throw Error(R(188))}function h1(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Zh(s),e;if(o===r)return Zh(s),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Xg(e){return e=h1(e),e!==null?Zg(e):null}function Zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zg(e);if(t!==null)return t;e=e.sibling}return null}var ev=ft.unstable_scheduleCallback,ep=ft.unstable_cancelCallback,p1=ft.unstable_shouldYield,m1=ft.unstable_requestPaint,we=ft.unstable_now,g1=ft.unstable_getCurrentPriorityLevel,Zd=ft.unstable_ImmediatePriority,tv=ft.unstable_UserBlockingPriority,Ia=ft.unstable_NormalPriority,v1=ft.unstable_LowPriority,nv=ft.unstable_IdlePriority,fl=null,Qt=null;function y1(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fl,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:b1,w1=Math.log,x1=Math.LN2;function b1(e){return e>>>=0,e===0?32:31-(w1(e)/x1|0)|0}var zi=64,Vi=4194304;function xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Da(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=xo(a):(o&=i,o!==0&&(r=xo(o)))}else i=n&~s,i!==0?r=xo(i):o!==0&&(r=xo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-At(t),s=1<<n,r|=e[n],t&=~s;return r}function S1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-At(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=S1(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rv(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function yc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=n}function C1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-At(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ef(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-At(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ee=0;function sv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ov,tf,iv,av,lv,Pu=!1,Hi=[],Bn=null,zn=null,Vn=null,Vo=new Map,Ho=new Map,Rn=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function ao(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=_i(t),t!==null&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k1(e,t,n,r,s){switch(t){case"focusin":return Bn=ao(Bn,e,t,n,r,s),!0;case"dragenter":return zn=ao(zn,e,t,n,r,s),!0;case"mouseover":return Vn=ao(Vn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Vo.set(o,ao(Vo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ho.set(o,ao(Ho.get(o)||null,e,t,n,r,s)),!0}return!1}function cv(e){var t=yr(e.target);if(t!==null){var n=zr(t);if(n!==null){if(t=n.tag,t===13){if(t=Jg(n),t!==null){e.blockedOn=t,lv(e.priority,function(){iv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Su=r,n.target.dispatchEvent(r),Su=null}else return t=_i(n),t!==null&&tf(t),e.blockedOn=n,!1;t.shift()}return!0}function np(e,t,n){ga(e)&&n.delete(t)}function P1(){Pu=!1,Bn!==null&&ga(Bn)&&(Bn=null),zn!==null&&ga(zn)&&(zn=null),Vn!==null&&ga(Vn)&&(Vn=null),Vo.forEach(np),Ho.forEach(np)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,P1)))}function Wo(e){function t(s){return lo(s,e)}if(0<Hi.length){lo(Hi[0],e);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&lo(Bn,e),zn!==null&&lo(zn,e),Vn!==null&&lo(Vn,e),Vo.forEach(t),Ho.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)cv(n),n.blockedOn===null&&Rn.shift()}var ps=vn.ReactCurrentBatchConfig,Ma=!0;function N1(e,t,n,r){var s=ee,o=ps.transition;ps.transition=null;try{ee=1,nf(e,t,n,r)}finally{ee=s,ps.transition=o}}function j1(e,t,n,r){var s=ee,o=ps.transition;ps.transition=null;try{ee=4,nf(e,t,n,r)}finally{ee=s,ps.transition=o}}function nf(e,t,n,r){if(Ma){var s=Nu(e,t,n,r);if(s===null)Nc(e,t,r,La,n),tp(e,r);else if(k1(s,e,t,n,r))r.stopPropagation();else if(tp(e,r),t&4&&-1<E1.indexOf(e)){for(;s!==null;){var o=_i(s);if(o!==null&&ov(o),o=Nu(e,t,n,r),o===null&&Nc(e,t,r,La,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Nc(e,t,r,null,n)}}var La=null;function Nu(e,t,n,r){if(La=null,e=Xd(r),e=yr(e),e!==null)if(t=zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return La=e,null}function uv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g1()){case Zd:return 1;case tv:return 4;case Ia:case v1:return 16;case nv:return 536870912;default:return 16}default:return 16}}var Fn=null,rf=null,va=null;function dv(){if(va)return va;var e,t=rf,n=t.length,r,s="value"in Fn?Fn.value:Fn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return va=s.slice(e,1<r?1-r:void 0)}function ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function rp(){return!1}function pt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wi:rp,this.isPropagationStopped=rp,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=pt(Vs),Si=ge({},Vs,{view:0,detail:0}),R1=pt(Si),wc,xc,co,hl=ge({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(wc=e.screenX-co.screenX,xc=e.screenY-co.screenY):xc=wc=0,co=e),wc)},movementY:function(e){return"movementY"in e?e.movementY:xc}}),sp=pt(hl),T1=ge({},hl,{dataTransfer:0}),A1=pt(T1),O1=ge({},Si,{relatedTarget:0}),bc=pt(O1),I1=ge({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),D1=pt(I1),M1=ge({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L1=pt(M1),F1=ge({},Vs,{data:0}),op=pt(F1),$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B1[e])?!!t[e]:!1}function of(){return z1}var V1=ge({},Si,{key:function(e){if(e.key){var t=$1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H1=pt(V1),W1=ge({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=pt(W1),K1=ge({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),q1=pt(K1),G1=ge({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q1=pt(G1),Y1=ge({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J1=pt(Y1),X1=[9,13,27,32],af=dn&&"CompositionEvent"in window,Po=null;dn&&"documentMode"in document&&(Po=document.documentMode);var Z1=dn&&"TextEvent"in window&&!Po,fv=dn&&(!af||Po&&8<Po&&11>=Po),ap=" ",lp=!1;function hv(e,t){switch(e){case"keyup":return X1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function e_(e,t){switch(e){case"compositionend":return pv(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function t_(e,t){if(ts)return e==="compositionend"||!af&&hv(e,t)?(e=dv(),va=rf=Fn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fv&&t.locale!=="ko"?null:t.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n_[e.type]:t==="textarea"}function mv(e,t,n,r){Kg(r),t=Fa(t,"onChange"),0<t.length&&(n=new sf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var No=null,Ko=null;function r_(e){kv(e,0)}function pl(e){var t=ss(e);if($g(t))return e}function s_(e,t){if(e==="change")return t}var gv=!1;if(dn){var Sc;if(dn){var _c="oninput"in document;if(!_c){var up=document.createElement("div");up.setAttribute("oninput","return;"),_c=typeof up.oninput=="function"}Sc=_c}else Sc=!1;gv=Sc&&(!document.documentMode||9<document.documentMode)}function dp(){No&&(No.detachEvent("onpropertychange",vv),Ko=No=null)}function vv(e){if(e.propertyName==="value"&&pl(Ko)){var t=[];mv(t,Ko,e,Xd(e)),Yg(r_,t)}}function o_(e,t,n){e==="focusin"?(dp(),No=t,Ko=n,No.attachEvent("onpropertychange",vv)):e==="focusout"&&dp()}function i_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pl(Ko)}function a_(e,t){if(e==="click")return pl(t)}function l_(e,t){if(e==="input"||e==="change")return pl(t)}function c_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:c_;function qo(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uu.call(t,s)||!It(e[s],t[s]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var n=fp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fp(n)}}function yv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wv(){for(var e=window,t=Ta();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ta(e.document)}return t}function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u_(e){var t=wv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yv(n.ownerDocument.documentElement,n)){if(r!==null&&lf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=hp(n,o);var i=hp(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d_=dn&&"documentMode"in document&&11>=document.documentMode,ns=null,ju=null,jo=null,Ru=!1;function pp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||ns==null||ns!==Ta(r)||(r=ns,"selectionStart"in r&&lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&qo(jo,r)||(jo=r,r=Fa(ju,"onSelect"),0<r.length&&(t=new sf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ns)))}function Ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionend:Ki("Transition","TransitionEnd")},Cc={},xv={};dn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function ml(e){if(Cc[e])return Cc[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xv)return Cc[e]=t[n];return e}var bv=ml("animationend"),Sv=ml("animationiteration"),_v=ml("animationstart"),Cv=ml("transitionend"),Ev=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Ev.set(e,t),Br(t,[e])}for(var Ec=0;Ec<mp.length;Ec++){var kc=mp[Ec],f_=kc.toLowerCase(),h_=kc[0].toUpperCase()+kc.slice(1);sr(f_,"on"+h_)}sr(bv,"onAnimationEnd");sr(Sv,"onAnimationIteration");sr(_v,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(Cv,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function gp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f1(r,t,void 0,e),e.currentTarget=null}function kv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;gp(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;gp(s,a,c),o=l}}}if(Oa)throw e=Eu,Oa=!1,Eu=null,e}function de(e,t){var n=t[Du];n===void 0&&(n=t[Du]=new Set);var r=e+"__bubble";n.has(r)||(Pv(t,e,2,!1),n.add(r))}function Pc(e,t,n){var r=0;t&&(r|=4),Pv(n,e,r,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[qi]){e[qi]=!0,Ig.forEach(function(n){n!=="selectionchange"&&(p_.has(n)||Pc(n,!1,e),Pc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Pc("selectionchange",!1,t))}}function Pv(e,t,n,r){switch(uv(t)){case 1:var s=N1;break;case 4:s=j1;break;default:s=nf}n=s.bind(null,t,n,e),s=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Nc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=yr(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Yg(function(){var c=o,d=Xd(n),f=[];e:{var p=Ev.get(e);if(p!==void 0){var g=sf,x=e;switch(e){case"keypress":if(ya(n)===0)break e;case"keydown":case"keyup":g=H1;break;case"focusin":x="focus",g=bc;break;case"focusout":x="blur",g=bc;break;case"beforeblur":case"afterblur":g=bc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=q1;break;case bv:case Sv:case _v:g=D1;break;case Cv:g=Q1;break;case"scroll":g=R1;break;case"wheel":g=J1;break;case"copy":case"cut":case"paste":g=L1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ip}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?p!==null?p+"Capture":null:p;m=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=zo(y,v),S!=null&&m.push(Qo(y,S,b)))),w)break;y=y.return}0<m.length&&(p=new g(p,x,null,n,d),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Su&&(x=n.relatedTarget||n.fromElement)&&(yr(x)||x[fn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?yr(x):null,x!==null&&(w=zr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(m=sp,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=ip,S="onPointerLeave",v="onPointerEnter",y="pointer"),w=g==null?p:ss(g),b=x==null?p:ss(x),p=new m(S,y+"leave",g,n,d),p.target=w,p.relatedTarget=b,S=null,yr(d)===c&&(m=new m(v,y+"enter",x,n,d),m.target=b,m.relatedTarget=w,S=m),w=S,g&&x)t:{for(m=g,v=x,y=0,b=m;b;b=Wr(b))y++;for(b=0,S=v;S;S=Wr(S))b++;for(;0<y-b;)m=Wr(m),y--;for(;0<b-y;)v=Wr(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Wr(m),v=Wr(v)}m=null}else m=null;g!==null&&vp(f,p,g,m,!1),x!==null&&w!==null&&vp(f,w,x,m,!0)}}e:{if(p=c?ss(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var _=s_;else if(cp(p))if(gv)_=l_;else{_=i_;var E=o_}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=a_);if(_&&(_=_(e,c))){mv(f,_,n,d);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&vu(p,"number",p.value)}switch(E=c?ss(c):window,e){case"focusin":(cp(E)||E.contentEditable==="true")&&(ns=E,ju=c,jo=null);break;case"focusout":jo=ju=ns=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,pp(f,n,d);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":pp(f,n,d)}var C;if(af)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ts?hv(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(fv&&n.locale!=="ko"&&(ts||k!=="onCompositionStart"?k==="onCompositionEnd"&&ts&&(C=dv()):(Fn=d,rf="value"in Fn?Fn.value:Fn.textContent,ts=!0)),E=Fa(c,k),0<E.length&&(k=new op(k,e,null,n,d),f.push({event:k,listeners:E}),C?k.data=C:(C=pv(n),C!==null&&(k.data=C)))),(C=Z1?e_(e,n):t_(e,n))&&(c=Fa(c,"onBeforeInput"),0<c.length&&(d=new op("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}kv(f,t)})}function Qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=zo(e,n),o!=null&&r.unshift(Qo(e,o,s)),o=zo(e,t),o!=null&&r.push(Qo(e,o,s))),e=e.return}return r}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vp(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=zo(n,o),l!=null&&i.unshift(Qo(n,l,a))):s||(l=zo(n,o),l!=null&&i.push(Qo(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var m_=/\r\n?/g,g_=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(m_,`
`).replace(g_,"")}function Gi(e,t,n){if(t=yp(t),yp(e)!==t&&n)throw Error(R(425))}function $a(){}var Tu=null,Au=null;function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,v_=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(w_)}:Iu;function w_(e){setTimeout(function(){throw e})}function jc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wo(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),qt="__reactFiber$"+Hs,Yo="__reactProps$"+Hs,fn="__reactContainer$"+Hs,Du="__reactEvents$"+Hs,x_="__reactListeners$"+Hs,b_="__reactHandles$"+Hs;function yr(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xp(e);e!==null;){if(n=e[qt])return n;e=xp(e)}return t}e=n,n=e.parentNode}return null}function _i(e){return e=e[qt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function gl(e){return e[Yo]||null}var Mu=[],os=-1;function or(e){return{current:e}}function fe(e){0>os||(e.current=Mu[os],Mu[os]=null,os--)}function le(e,t){os++,Mu[os]=e.current,e.current=t}var Xn={},$e=or(Xn),tt=or(!1),Rr=Xn;function Os(e,t){var n=e.type.contextTypes;if(!n)return Xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nt(e){return e=e.childContextTypes,e!=null}function Ua(){fe(tt),fe($e)}function bp(e,t,n){if($e.current!==Xn)throw Error(R(168));le($e,t),le(tt,n)}function Nv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,o1(e)||"Unknown",s));return ge({},n,r)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Rr=$e.current,le($e,e),le(tt,tt.current),!0}function Sp(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Nv(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=e,fe(tt),fe($e),le($e,e)):fe(tt),le(tt,n)}var an=null,vl=!1,Rc=!1;function jv(e){an===null?an=[e]:an.push(e)}function S_(e){vl=!0,jv(e)}function ir(){if(!Rc&&an!==null){Rc=!0;var e=0,t=ee;try{var n=an;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,vl=!1}catch(s){throw an!==null&&(an=an.slice(e+1)),ev(Zd,ir),s}finally{ee=t,Rc=!1}}return null}var is=[],as=0,za=null,Va=0,gt=[],vt=0,Tr=null,ln=1,cn="";function pr(e,t){is[as++]=Va,is[as++]=za,za=e,Va=t}function Rv(e,t,n){gt[vt++]=ln,gt[vt++]=cn,gt[vt++]=Tr,Tr=e;var r=ln;e=cn;var s=32-At(r)-1;r&=~(1<<s),n+=1;var o=32-At(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ln=1<<32-At(t)+s|n<<s|r,cn=o+e}else ln=1<<o|n<<s|r,cn=e}function cf(e){e.return!==null&&(pr(e,1),Rv(e,1,0))}function uf(e){for(;e===za;)za=is[--as],is[as]=null,Va=is[--as],is[as]=null;for(;e===Tr;)Tr=gt[--vt],gt[vt]=null,cn=gt[--vt],gt[vt]=null,ln=gt[--vt],gt[vt]=null}var ut=null,ct=null,he=!1,Tt=null;function Tv(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _p(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Tr!==null?{id:ln,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,ct=null,!0):!1;default:return!1}}function Lu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fu(e){if(he){var t=ct;if(t){var n=t;if(!_p(e,t)){if(Lu(e))throw Error(R(418));t=Hn(n.nextSibling);var r=ut;t&&_p(e,t)?Tv(r,n):(e.flags=e.flags&-4097|2,he=!1,ut=e)}}else{if(Lu(e))throw Error(R(418));e.flags=e.flags&-4097|2,he=!1,ut=e}}}function Cp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Qi(e){if(e!==ut)return!1;if(!he)return Cp(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ou(e.type,e.memoizedProps)),t&&(t=ct)){if(Lu(e))throw Av(),Error(R(418));for(;t;)Tv(e,t),t=Hn(t.nextSibling)}if(Cp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Hn(e.stateNode.nextSibling):null;return!0}function Av(){for(var e=ct;e;)e=Hn(e.nextSibling)}function Is(){ct=ut=null,he=!1}function df(e){Tt===null?Tt=[e]:Tt.push(e)}var __=vn.ReactCurrentBatchConfig;function uo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function Ov(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Gn(v,y),v.index=0,v.sibling=null,v}function o(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=Lc(b,v.mode,S),y.return=v,y):(y=s(y,b),y.return=v,y)}function l(v,y,b,S){var _=b.type;return _===es?d(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pn&&Ep(_)===y.type)?(S=s(y,b.props),S.ref=uo(v,y,b),S.return=v,S):(S=Ea(b.type,b.key,b.props,null,v.mode,S),S.ref=uo(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Fc(b,v.mode,S),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function d(v,y,b,S,_){return y===null||y.tag!==7?(y=Pr(b,v.mode,S,_),y.return=v,y):(y=s(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lc(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $i:return b=Ea(y.type,y.key,y.props,null,v.mode,b),b.ref=uo(v,null,y),b.return=v,b;case Zr:return y=Fc(y,v.mode,b),y.return=v,y;case Pn:var S=y._init;return f(v,S(y._payload),b)}if(wo(y)||oo(y))return y=Pr(y,v.mode,b,null),y.return=v,y;Yi(v,y)}return null}function p(v,y,b,S){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $i:return b.key===_?l(v,y,b,S):null;case Zr:return b.key===_?c(v,y,b,S):null;case Pn:return _=b._init,p(v,y,_(b._payload),S)}if(wo(b)||oo(b))return _!==null?null:d(v,y,b,S,null);Yi(v,b)}return null}function g(v,y,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $i:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,_);case Zr:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,_);case Pn:var E=S._init;return g(v,y,b,E(S._payload),_)}if(wo(S)||oo(S))return v=v.get(b)||null,d(y,v,S,_,null);Yi(y,S)}return null}function x(v,y,b,S){for(var _=null,E=null,C=y,k=y=0,j=null;C!==null&&k<b.length;k++){C.index>k?(j=C,C=null):j=C.sibling;var T=p(v,C,b[k],S);if(T===null){C===null&&(C=j);break}e&&C&&T.alternate===null&&t(v,C),y=o(T,y,k),E===null?_=T:E.sibling=T,E=T,C=j}if(k===b.length)return n(v,C),he&&pr(v,k),_;if(C===null){for(;k<b.length;k++)C=f(v,b[k],S),C!==null&&(y=o(C,y,k),E===null?_=C:E.sibling=C,E=C);return he&&pr(v,k),_}for(C=r(v,C);k<b.length;k++)j=g(C,v,k,b[k],S),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?k:j.key),y=o(j,y,k),E===null?_=j:E.sibling=j,E=j);return e&&C.forEach(function(F){return t(v,F)}),he&&pr(v,k),_}function m(v,y,b,S){var _=oo(b);if(typeof _!="function")throw Error(R(150));if(b=_.call(b),b==null)throw Error(R(151));for(var E=_=null,C=y,k=y=0,j=null,T=b.next();C!==null&&!T.done;k++,T=b.next()){C.index>k?(j=C,C=null):j=C.sibling;var F=p(v,C,T.value,S);if(F===null){C===null&&(C=j);break}e&&C&&F.alternate===null&&t(v,C),y=o(F,y,k),E===null?_=F:E.sibling=F,E=F,C=j}if(T.done)return n(v,C),he&&pr(v,k),_;if(C===null){for(;!T.done;k++,T=b.next())T=f(v,T.value,S),T!==null&&(y=o(T,y,k),E===null?_=T:E.sibling=T,E=T);return he&&pr(v,k),_}for(C=r(v,C);!T.done;k++,T=b.next())T=g(C,v,k,T.value,S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?k:T.key),y=o(T,y,k),E===null?_=T:E.sibling=T,E=T);return e&&C.forEach(function(I){return t(v,I)}),he&&pr(v,k),_}function w(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===es&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case $i:e:{for(var _=b.key,E=y;E!==null;){if(E.key===_){if(_=b.type,_===es){if(E.tag===7){n(v,E.sibling),y=s(E,b.props.children),y.return=v,v=y;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pn&&Ep(_)===E.type){n(v,E.sibling),y=s(E,b.props),y.ref=uo(v,E,b),y.return=v,v=y;break e}n(v,E);break}else t(v,E);E=E.sibling}b.type===es?(y=Pr(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=Ea(b.type,b.key,b.props,null,v.mode,S),S.ref=uo(v,y,b),S.return=v,v=S)}return i(v);case Zr:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Fc(b,v.mode,S),y.return=v,v=y}return i(v);case Pn:return E=b._init,w(v,y,E(b._payload),S)}if(wo(b))return x(v,y,b,S);if(oo(b))return m(v,y,b,S);Yi(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,b),y.return=v,v=y):(n(v,y),y=Lc(b,v.mode,S),y.return=v,v=y),i(v)):n(v,y)}return w}var Ds=Ov(!0),Iv=Ov(!1),Ha=or(null),Wa=null,ls=null,ff=null;function hf(){ff=ls=Wa=null}function pf(e){var t=Ha.current;fe(Ha),e._currentValue=t}function $u(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ms(e,t){Wa=e,ff=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(ff!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Wa===null)throw Error(R(308));ls=e,Wa.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var wr=null;function mf(e){wr===null?wr=[e]:wr.push(e)}function Dv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mf(t)):(n.next=s.next,s.next=n),t.interleaved=n,hn(e,r)}function hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nn=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hn(e,n)}return s=r.interleaved,s===null?(t.next=t,mf(r)):(t.next=s.next,s.next=t),r.interleaved=t,hn(e,n)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ef(e,n)}}function kp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ka(e,t,n,r){var s=e.updateQueue;Nn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,d=c=l=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(p=t,g=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=ge({},f,p);break e;case 2:Nn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Or|=i,e.lanes=i,e.memoizedState=f}}function Pp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Ci={},Yt=or(Ci),Jo=or(Ci),Xo=or(Ci);function xr(e){if(e===Ci)throw Error(R(174));return e}function vf(e,t){switch(le(Xo,t),le(Jo,e),le(Yt,Ci),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wu(t,e)}fe(Yt),le(Yt,t)}function Ms(){fe(Yt),fe(Jo),fe(Xo)}function Lv(e){xr(Xo.current);var t=xr(Yt.current),n=wu(t,e.type);t!==n&&(le(Jo,e),le(Yt,n))}function yf(e){Jo.current===e&&(fe(Yt),fe(Jo))}var pe=or(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tc=[];function wf(){for(var e=0;e<Tc.length;e++)Tc[e]._workInProgressVersionPrimary=null;Tc.length=0}var xa=vn.ReactCurrentDispatcher,Ac=vn.ReactCurrentBatchConfig,Ar=0,me=null,Se=null,Pe=null,Ga=!1,Ro=!1,Zo=0,C_=0;function Ie(){throw Error(R(321))}function xf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!It(e[n],t[n]))return!1;return!0}function bf(e,t,n,r,s,o){if(Ar=o,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?N_:j_,e=n(r,s),Ro){o=0;do{if(Ro=!1,Zo=0,25<=o)throw Error(R(301));o+=1,Pe=Se=null,t.updateQueue=null,xa.current=R_,e=n(r,s)}while(Ro)}if(xa.current=Qa,t=Se!==null&&Se.next!==null,Ar=0,Pe=Se=me=null,Ga=!1,t)throw Error(R(300));return e}function Sf(){var e=Zo!==0;return Zo=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function St(){if(Se===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Pe===null?me.memoizedState:Pe.next;if(t!==null)Pe=t,Se=e;else{if(e===null)throw Error(R(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function ei(e,t){return typeof t=="function"?t(e):t}function Oc(e){var t=St(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Se,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Ar&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,me.lanes|=d,Or|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,It(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,me.lanes|=o,Or|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ic(e){var t=St(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);It(o,t.memoizedState)||(et=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fv(){}function $v(e,t){var n=me,r=St(),s=t(),o=!It(r.memoizedState,s);if(o&&(r.memoizedState=s,et=!0),r=r.queue,_f(zv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,ti(9,Bv.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(R(349));Ar&30||Uv(n,t,s)}return s}function Uv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bv(e,t,n,r){t.value=n,t.getSnapshot=r,Vv(t)&&Hv(e)}function zv(e,t,n){return n(function(){Vv(t)&&Hv(e)})}function Vv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!It(e,n)}catch{return!0}}function Hv(e){var t=hn(e,1);t!==null&&Ot(t,e,1,-1)}function Np(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t.queue=e,e=e.dispatch=P_.bind(null,me,e),[t.memoizedState,e]}function ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wv(){return St().memoizedState}function ba(e,t,n,r){var s=zt();me.flags|=e,s.memoizedState=ti(1|t,n,void 0,r===void 0?null:r)}function yl(e,t,n,r){var s=St();r=r===void 0?null:r;var o=void 0;if(Se!==null){var i=Se.memoizedState;if(o=i.destroy,r!==null&&xf(r,i.deps)){s.memoizedState=ti(t,n,o,r);return}}me.flags|=e,s.memoizedState=ti(1|t,n,o,r)}function jp(e,t){return ba(8390656,8,e,t)}function _f(e,t){return yl(2048,8,e,t)}function Kv(e,t){return yl(4,2,e,t)}function qv(e,t){return yl(4,4,e,t)}function Gv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qv(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,Gv.bind(null,t,e),n)}function Cf(){}function Yv(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jv(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xv(e,t,n){return Ar&21?(It(n,t)||(n=rv(),me.lanes|=n,Or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function E_(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Ac.transition;Ac.transition={};try{e(!1),t()}finally{ee=n,Ac.transition=r}}function Zv(){return St().memoizedState}function k_(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ey(e))ty(t,n);else if(n=Dv(e,t,n,r),n!==null){var s=qe();Ot(n,e,r,s),ny(n,t,r)}}function P_(e,t,n){var r=qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ey(e))ty(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,It(a,i)){var l=t.interleaved;l===null?(s.next=s,mf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Dv(e,t,s,r),n!==null&&(s=qe(),Ot(n,e,r,s),ny(n,t,r))}}function ey(e){var t=e.alternate;return e===me||t!==null&&t===me}function ty(e,t){Ro=Ga=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ny(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ef(e,n)}}var Qa={readContext:bt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},N_={readContext:bt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:jp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ba(4194308,4,Gv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=k_.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Np,useDebugValue:Cf,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Np(!1),t=e[0];return e=E_.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,s=zt();if(he){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ne===null)throw Error(R(349));Ar&30||Uv(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,jp(zv.bind(null,r,o,e),[e]),r.flags|=2048,ti(9,Bv.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zt(),t=Ne.identifierPrefix;if(he){var n=cn,r=ln;n=(r&~(1<<32-At(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=C_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j_={readContext:bt,useCallback:Yv,useContext:bt,useEffect:_f,useImperativeHandle:Qv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:Jv,useReducer:Oc,useRef:Wv,useState:function(){return Oc(ei)},useDebugValue:Cf,useDeferredValue:function(e){var t=St();return Xv(t,Se.memoizedState,e)},useTransition:function(){var e=Oc(ei)[0],t=St().memoizedState;return[e,t]},useMutableSource:Fv,useSyncExternalStore:$v,useId:Zv,unstable_isNewReconciler:!1},R_={readContext:bt,useCallback:Yv,useContext:bt,useEffect:_f,useImperativeHandle:Qv,useInsertionEffect:Kv,useLayoutEffect:qv,useMemo:Jv,useReducer:Ic,useRef:Wv,useState:function(){return Ic(ei)},useDebugValue:Cf,useDeferredValue:function(e){var t=St();return Se===null?t.memoizedState=e:Xv(t,Se.memoizedState,e)},useTransition:function(){var e=Ic(ei)[0],t=St().memoizedState;return[e,t]},useMutableSource:Fv,useSyncExternalStore:$v,useId:Zv,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Uu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wl={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),s=qn(e),o=un(r,s);o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,s),t!==null&&(Ot(t,e,s,r),wa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),s=qn(e),o=un(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,s),t!==null&&(Ot(t,e,s,r),wa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=qn(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wn(e,s,r),t!==null&&(Ot(t,e,r,n),wa(t,e,r))}};function Rp(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!qo(n,r)||!qo(s,o):!0}function ry(e,t,n){var r=!1,s=Xn,o=t.contextType;return typeof o=="object"&&o!==null?o=bt(o):(s=nt(t)?Rr:$e.current,r=t.contextTypes,o=(r=r!=null)?Os(e,s):Xn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function Bu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},gf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=bt(o):(o=nt(t)?Rr:$e.current,s.context=Os(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Uu(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wl.enqueueReplaceState(s,s.state,null),Ka(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",r=t;do n+=s1(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Dc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var T_=typeof WeakMap=="function"?WeakMap:Map;function sy(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ja||(Ja=!0,Xu=r),zu(e,t)},n}function oy(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zu(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ap(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new T_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=W_.bind(null,e,t,n),t.then(e,e))}function Op(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ip(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Wn(n,t,1))),n.lanes|=1),e)}var A_=vn.ReactCurrentOwner,et=!1;function He(e,t,n,r){t.child=e===null?Iv(t,null,n,r):Ds(t,e.child,n,r)}function Dp(e,t,n,r,s){n=n.render;var o=t.ref;return ms(t,s),r=bf(e,t,n,r,o,s),n=Sf(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(he&&n&&cf(t),t.flags|=1,He(e,t,r,s),t.child)}function Mp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Af(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,iy(e,t,o,r,s)):(e=Ea(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(i,r)&&e.ref===t.ref)return pn(e,t,s)}return t.flags|=1,e=Gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function iy(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(qo(o,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,pn(e,t,s)}return Vu(e,t,n,r,s)}function ay(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(us,it),it|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(us,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,le(us,it),it|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,le(us,it),it|=r;return He(e,t,s,n),t.child}function ly(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vu(e,t,n,r,s){var o=nt(n)?Rr:$e.current;return o=Os(t,o),ms(t,s),n=bf(e,t,n,r,o,s),r=Sf(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pn(e,t,s)):(he&&r&&cf(t),t.flags|=1,He(e,t,n,s),t.child)}function Lp(e,t,n,r,s){if(nt(n)){var o=!0;Ba(t)}else o=!1;if(ms(t,s),t.stateNode===null)Sa(e,t),ry(t,n,r),Bu(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=bt(c):(c=nt(n)?Rr:$e.current,c=Os(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Tp(t,i,r,c),Nn=!1;var p=t.memoizedState;i.state=p,Ka(t,r,i,s),l=t.memoizedState,a!==r||p!==l||tt.current||Nn?(typeof d=="function"&&(Uu(t,n,d,r),l=t.memoizedState),(a=Nn||Rp(t,n,a,r,p,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Mv(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:kt(t.type,a),i.props=c,f=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=bt(l):(l=nt(n)?Rr:$e.current,l=Os(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Tp(t,i,r,l),Nn=!1,p=t.memoizedState,i.state=p,Ka(t,r,i,s);var x=t.memoizedState;a!==f||p!==x||tt.current||Nn?(typeof g=="function"&&(Uu(t,n,g,r),x=t.memoizedState),(c=Nn||Rp(t,n,c,r,p,x,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Hu(e,t,n,r,o,s)}function Hu(e,t,n,r,s,o){ly(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Sp(t,n,!1),pn(e,t,o);r=t.stateNode,A_.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ds(t,e.child,null,o),t.child=Ds(t,null,a,o)):He(e,t,a,o),t.memoizedState=r.state,s&&Sp(t,n,!0),t.child}function cy(e){var t=e.stateNode;t.pendingContext?bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bp(e,t.context,!1),vf(e,t.containerInfo)}function Fp(e,t,n,r,s){return Is(),df(s),t.flags|=256,He(e,t,n,r),t.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Ku(e){return{baseLanes:e,cachePool:null,transitions:null}}function uy(e,t,n){var r=t.pendingProps,s=pe.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(pe,s&1),e===null)return Fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Sl(i,r,0,null),e=Pr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ku(n),t.memoizedState=Wu,e):Ef(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return O_(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Gn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Gn(a,o):(o=Pr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ku(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Wu,r}return o=e.child,e=o.sibling,r=Gn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ef(e,t){return t=Sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,n,r){return r!==null&&df(r),Ds(t,e.child,null,n),e=Ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O_(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Dc(Error(R(422))),Ji(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Sl({mode:"visible",children:r.children},s,0,null),o=Pr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ds(t,e.child,null,i),t.child.memoizedState=Ku(i),t.memoizedState=Wu,o);if(!(t.mode&1))return Ji(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(R(419)),r=Dc(o,r,void 0),Ji(e,t,i,r)}if(a=(i&e.childLanes)!==0,et||a){if(r=Ne,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,hn(e,s),Ot(r,e,s,-1))}return Tf(),r=Dc(Error(R(421))),Ji(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=K_.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ct=Hn(s.nextSibling),ut=t,he=!0,Tt=null,e!==null&&(gt[vt++]=ln,gt[vt++]=cn,gt[vt++]=Tr,ln=e.id,cn=e.overflow,Tr=t),t=Ef(t,r.children),t.flags|=4096,t)}function $p(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$u(e.return,t,n)}function Mc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function dy(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(He(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,n,t);else if(e.tag===19)$p(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qa(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qa(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mc(t,!0,n,null,o);break;case"together":Mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I_(e,t,n){switch(t.tag){case 3:cy(t),Is();break;case 5:Lv(t);break;case 1:nt(t.type)&&Ba(t);break;case 4:vf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;le(Ha,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?uy(e,t,n):(le(pe,pe.current&1),e=pn(e,t,n),e!==null?e.sibling:null);le(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,ay(e,t,n)}return pn(e,t,n)}var fy,qu,hy,py;fy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qu=function(){};hy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,xr(Yt.current);var o=null;switch(n){case"input":s=mu(e,s),r=mu(e,r),o=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),o=[];break;case"textarea":s=yu(e,s),r=yu(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$a)}xu(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Uo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};py=function(e,t,n,r){n!==r&&(t.flags|=4)};function fo(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function D_(e,t,n){var r=t.pendingProps;switch(uf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return nt(t.type)&&Ua(),De(t),null;case 3:return r=t.stateNode,Ms(),fe(tt),fe($e),wf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(td(Tt),Tt=null))),qu(e,t),De(t),null;case 5:yf(t);var s=xr(Xo.current);if(n=t.type,e!==null&&t.stateNode!=null)hy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return De(t),null}if(e=xr(Yt.current),Qi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qt]=t,r[Yo]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<bo.length;s++)de(bo[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Gh(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":Yh(r,o),de("invalid",r)}xu(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Gi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Gi(r.textContent,a,e),s=["children",""+a]):Uo.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&de("scroll",r)}switch(n){case"input":Ui(r),Qh(r,o,!0);break;case"textarea":Ui(r),Jh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$a)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[qt]=t,e[Yo]=r,fy(e,t,!1,!1),t.stateNode=e;e:{switch(i=bu(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<bo.length;s++)de(bo[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":Gh(e,r),s=mu(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),de("invalid",e);break;case"textarea":Yh(e,r),s=yu(e,r),de("invalid",e);break;default:s=r}xu(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Wg(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vg(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bo(e,l):typeof l=="number"&&Bo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&de("scroll",e):l!=null&&Gd(e,o,l,i))}switch(n){case"input":Ui(e),Qh(e,r,!1);break;case"textarea":Ui(e),Jh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ds(e,!!r.multiple,o,!1):r.defaultValue!=null&&ds(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$a)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)py(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=xr(Xo.current),xr(Yt.current),Qi(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(o=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Gi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gi(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return De(t),null;case 13:if(fe(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&ct!==null&&t.mode&1&&!(t.flags&128))Av(),Is(),t.flags|=98560,o=!1;else if(o=Qi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[qt]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else Tt!==null&&(td(Tt),Tt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?_e===0&&(_e=3):Tf())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Ms(),qu(e,t),e===null&&Go(t.stateNode.containerInfo),De(t),null;case 10:return pf(t.type._context),De(t),null;case 17:return nt(t.type)&&Ua(),De(t),null;case 19:if(fe(pe),o=t.memoizedState,o===null)return De(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)fo(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qa(e),i!==null){for(t.flags|=128,fo(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>Fs&&(t.flags|=128,r=!0,fo(o,!1),t.lanes=4194304)}else{if(!r)if(e=qa(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!he)return De(t),null}else 2*we()-o.renderingStartTime>Fs&&n!==1073741824&&(t.flags|=128,r=!0,fo(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=pe.current,le(pe,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Rf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function M_(e,t){switch(uf(t),t.tag){case 1:return nt(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),fe(tt),fe($e),wf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yf(t),null;case 13:if(fe(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(pe),null;case 4:return Ms(),null;case 10:return pf(t.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var Xi=!1,Fe=!1,L_=typeof WeakSet=="function"?WeakSet:Set,D=null;function cs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Up=!1;function F_(e,t){if(Tu=Ma,e=wv(),lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++c===s&&(a=i),p===o&&++d===r&&(l=i),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:e,selectionRange:n},Ma=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,w=x.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:kt(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=Up,Up=!1,x}function To(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Gu(t,n,o)}s=s.next}while(s!==r)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function my(e){var t=e.alternate;t!==null&&(e.alternate=null,my(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Yo],delete t[Du],delete t[x_],delete t[b_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gy(e){return e.tag===5||e.tag===3||e.tag===4}function Bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$a));else if(r!==4&&(e=e.child,e!==null))for(Yu(e,t,n),e=e.sibling;e!==null;)Yu(e,t,n),e=e.sibling}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}var je=null,jt=!1;function xn(e,t,n){for(n=n.child;n!==null;)vy(e,t,n),n=n.sibling}function vy(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fl,n)}catch{}switch(n.tag){case 5:Fe||cs(n,t);case 6:var r=je,s=jt;je=null,xn(e,t,n),je=r,jt=s,je!==null&&(jt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(jt?(e=je,n=n.stateNode,e.nodeType===8?jc(e.parentNode,n):e.nodeType===1&&jc(e,n),Wo(e)):jc(je,n.stateNode));break;case 4:r=je,s=jt,je=n.stateNode.containerInfo,jt=!0,xn(e,t,n),je=r,jt=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Gu(n,t,i),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!Fe&&(cs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,xn(e,t,n),Fe=r):xn(e,t,n);break;default:xn(e,t,n)}}function zp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new L_),t.forEach(function(r){var s=q_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,jt=!1;break e;case 3:je=a.stateNode.containerInfo,jt=!0;break e;case 4:je=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(je===null)throw Error(R(160));vy(o,i,s),je=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ye(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yy(t,e),t=t.sibling}function yy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Ut(e),r&4){try{To(3,e,e.return),xl(3,e)}catch(m){ye(e,e.return,m)}try{To(5,e,e.return)}catch(m){ye(e,e.return,m)}}break;case 1:Ct(t,e),Ut(e),r&512&&n!==null&&cs(n,n.return);break;case 5:if(Ct(t,e),Ut(e),r&512&&n!==null&&cs(n,n.return),e.flags&32){var s=e.stateNode;try{Bo(s,"")}catch(m){ye(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ug(s,o),bu(a,i);var c=bu(a,o);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Wg(s,f):d==="dangerouslySetInnerHTML"?Vg(s,f):d==="children"?Bo(s,f):Gd(s,d,f,c)}switch(a){case"input":gu(s,o);break;case"textarea":Bg(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ds(s,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?ds(s,!!o.multiple,o.defaultValue,!0):ds(s,!!o.multiple,o.multiple?[]:"",!1))}s[Yo]=o}catch(m){ye(e,e.return,m)}}break;case 6:if(Ct(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){ye(e,e.return,m)}}break;case 3:if(Ct(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(m){ye(e,e.return,m)}break;case 4:Ct(t,e),Ut(e);break;case 13:Ct(t,e),Ut(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Nf=we())),r&4&&zp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(c=Fe)||d,Ct(t,e),Fe=c):Ct(t,e),Ut(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(f=D=d;D!==null;){switch(p=D,g=p.child,p.tag){case 0:case 11:case 14:case 15:To(4,p,p.return);break;case 1:cs(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:cs(p,p.return);break;case 22:if(p.memoizedState!==null){Hp(f);continue}}g!==null?(g.return=p,D=g):Hp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hg("display",i))}catch(m){ye(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){ye(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ct(t,e),Ut(e),r&4&&zp(e);break;case 21:break;default:Ct(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gy(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bo(s,""),r.flags&=-33);var o=Bp(e);Ju(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Bp(e);Yu(e,a,i);break;default:throw Error(R(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $_(e,t,n){D=e,wy(e)}function wy(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Xi;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Fe;a=Xi;var c=Fe;if(Xi=i,(Fe=l)&&!c)for(D=s;D!==null;)i=D,l=i.child,i.tag===22&&i.memoizedState!==null?Wp(s):l!==null?(l.return=i,D=l):Wp(s);for(;o!==null;)D=o,wy(o),o=o.sibling;D=s,Xi=a,Fe=c}Vp(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,D=o):Vp(e)}}function Vp(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Pp(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pp(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Fe||t.flags&512&&Qu(t)}catch(p){ye(t,t.return,p)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Hp(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Wp(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ye(t,s,l)}}var o=t.return;try{Qu(t)}catch(l){ye(t,o,l)}break;case 5:var i=t.return;try{Qu(t)}catch(l){ye(t,i,l)}}}catch(l){ye(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var U_=Math.ceil,Ya=vn.ReactCurrentDispatcher,kf=vn.ReactCurrentOwner,wt=vn.ReactCurrentBatchConfig,X=0,Ne=null,xe=null,Re=0,it=0,us=or(0),_e=0,ni=null,Or=0,bl=0,Pf=0,Ao=null,Xe=null,Nf=0,Fs=1/0,sn=null,Ja=!1,Xu=null,Kn=null,Zi=!1,$n=null,Xa=0,Oo=0,Zu=null,_a=-1,Ca=0;function qe(){return X&6?we():_a!==-1?_a:_a=we()}function qn(e){return e.mode&1?X&2&&Re!==0?Re&-Re:__.transition!==null?(Ca===0&&(Ca=rv()),Ca):(e=ee,e!==0||(e=window.event,e=e===void 0?16:uv(e.type)),e):1}function Ot(e,t,n,r){if(50<Oo)throw Oo=0,Zu=null,Error(R(185));bi(e,n,r),(!(X&2)||e!==Ne)&&(e===Ne&&(!(X&2)&&(bl|=n),_e===4&&Tn(e,Re)),rt(e,r),n===1&&X===0&&!(t.mode&1)&&(Fs=we()+500,vl&&ir()))}function rt(e,t){var n=e.callbackNode;_1(e,t);var r=Da(e,e===Ne?Re:0);if(r===0)n!==null&&ep(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ep(n),t===1)e.tag===0?S_(Kp.bind(null,e)):jv(Kp.bind(null,e)),y_(function(){!(X&6)&&ir()}),n=null;else{switch(sv(r)){case 1:n=Zd;break;case 4:n=tv;break;case 16:n=Ia;break;case 536870912:n=nv;break;default:n=Ia}n=Py(n,xy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xy(e,t){if(_a=-1,Ca=0,X&6)throw Error(R(327));var n=e.callbackNode;if(gs()&&e.callbackNode!==n)return null;var r=Da(e,e===Ne?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Za(e,r);else{t=r;var s=X;X|=2;var o=Sy();(Ne!==e||Re!==t)&&(sn=null,Fs=we()+500,kr(e,t));do try{V_();break}catch(a){by(e,a)}while(!0);hf(),Ya.current=o,X=s,xe!==null?t=0:(Ne=null,Re=0,t=_e)}if(t!==0){if(t===2&&(s=ku(e),s!==0&&(r=s,t=ed(e,s))),t===1)throw n=ni,kr(e,0),Tn(e,r),rt(e,we()),n;if(t===6)Tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!B_(s)&&(t=Za(e,r),t===2&&(o=ku(e),o!==0&&(r=o,t=ed(e,o))),t===1))throw n=ni,kr(e,0),Tn(e,r),rt(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:mr(e,Xe,sn);break;case 3:if(Tn(e,r),(r&130023424)===r&&(t=Nf+500-we(),10<t)){if(Da(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Iu(mr.bind(null,e,Xe,sn),t);break}mr(e,Xe,sn);break;case 4:if(Tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-At(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U_(r/1960))-r,10<r){e.timeoutHandle=Iu(mr.bind(null,e,Xe,sn),r);break}mr(e,Xe,sn);break;case 5:mr(e,Xe,sn);break;default:throw Error(R(329))}}}return rt(e,we()),e.callbackNode===n?xy.bind(null,e):null}function ed(e,t){var n=Ao;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=Za(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&td(t)),e}function td(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function B_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!It(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~Pf,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-At(t),r=1<<n;e[n]=-1,t&=~r}}function Kp(e){if(X&6)throw Error(R(327));gs();var t=Da(e,0);if(!(t&1))return rt(e,we()),null;var n=Za(e,t);if(e.tag!==0&&n===2){var r=ku(e);r!==0&&(t=r,n=ed(e,r))}if(n===1)throw n=ni,kr(e,0),Tn(e,t),rt(e,we()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,Xe,sn),rt(e,we()),null}function jf(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Fs=we()+500,vl&&ir())}}function Ir(e){$n!==null&&$n.tag===0&&!(X&6)&&gs();var t=X;X|=1;var n=wt.transition,r=ee;try{if(wt.transition=null,ee=1,e)return e()}finally{ee=r,wt.transition=n,X=t,!(X&6)&&ir()}}function Rf(){it=us.current,fe(us)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v_(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(uf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:Ms(),fe(tt),fe($e),wf();break;case 5:yf(r);break;case 4:Ms();break;case 13:fe(pe);break;case 19:fe(pe);break;case 10:pf(r.type._context);break;case 22:case 23:Rf()}n=n.return}if(Ne=e,xe=e=Gn(e.current,null),Re=it=t,_e=0,ni=null,Pf=bl=Or=0,Xe=Ao=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}wr=null}return e}function by(e,t){do{var n=xe;try{if(hf(),xa.current=Qa,Ga){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ga=!1}if(Ar=0,Pe=Se=me=null,Ro=!1,Zo=0,kf.current=null,n===null||n.return===null){_e=1,ni=t,xe=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Op(i);if(g!==null){g.flags&=-257,Ip(g,i,a,o,t),g.mode&1&&Ap(o,c,t),t=g,l=c;var x=t.updateQueue;if(x===null){var m=new Set;m.add(l),t.updateQueue=m}else x.add(l);break e}else{if(!(t&1)){Ap(o,c,t),Tf();break e}l=Error(R(426))}}else if(he&&a.mode&1){var w=Op(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ip(w,i,a,o,t),df(Ls(l,a));break e}}o=l=Ls(l,a),_e!==4&&(_e=2),Ao===null?Ao=[o]:Ao.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=sy(o,l,t);kp(o,v);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kn===null||!Kn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=oy(o,a,t);kp(o,S);break e}}o=o.return}while(o!==null)}Cy(n)}catch(_){t=_,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Sy(){var e=Ya.current;return Ya.current=Qa,e===null?Qa:e}function Tf(){(_e===0||_e===3||_e===2)&&(_e=4),Ne===null||!(Or&268435455)&&!(bl&268435455)||Tn(Ne,Re)}function Za(e,t){var n=X;X|=2;var r=Sy();(Ne!==e||Re!==t)&&(sn=null,kr(e,t));do try{z_();break}catch(s){by(e,s)}while(!0);if(hf(),X=n,Ya.current=r,xe!==null)throw Error(R(261));return Ne=null,Re=0,_e}function z_(){for(;xe!==null;)_y(xe)}function V_(){for(;xe!==null&&!p1();)_y(xe)}function _y(e){var t=ky(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Cy(e):xe=t,kf.current=null}function Cy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=M_(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,xe=null;return}}else if(n=D_(n,t,it),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);_e===0&&(_e=5)}function mr(e,t,n){var r=ee,s=wt.transition;try{wt.transition=null,ee=1,H_(e,t,n,r)}finally{wt.transition=s,ee=r}return null}function H_(e,t,n,r){do gs();while($n!==null);if(X&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(C1(e,o),e===Ne&&(xe=Ne=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,Py(Ia,function(){return gs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wt.transition,wt.transition=null;var i=ee;ee=1;var a=X;X|=4,kf.current=null,F_(e,n),yy(n,e),u_(Au),Ma=!!Tu,Au=Tu=null,e.current=n,$_(n),m1(),X=a,ee=i,wt.transition=o}else e.current=n;if(Zi&&(Zi=!1,$n=e,Xa=s),o=e.pendingLanes,o===0&&(Kn=null),y1(n.stateNode),rt(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ja)throw Ja=!1,e=Xu,Xu=null,e;return Xa&1&&e.tag!==0&&gs(),o=e.pendingLanes,o&1?e===Zu?Oo++:(Oo=0,Zu=e):Oo=0,ir(),null}function gs(){if($n!==null){var e=sv(Xa),t=wt.transition,n=ee;try{if(wt.transition=null,ee=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,Xa=0,X&6)throw Error(R(331));var s=X;for(X|=4,D=e.current;D!==null;){var o=D,i=o.child;if(D.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:To(8,d,o)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var p=d.sibling,g=d.return;if(my(d),d===c){D=null;break}if(p!==null){p.return=g,D=p;break}D=g}}}var x=o.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}D=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,D=i;else e:for(;D!==null;){if(o=D,o.flags&2048)switch(o.tag){case 0:case 11:case 15:To(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,D=v;break e}D=o.return}}var y=e.current;for(D=y;D!==null;){i=D;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,D=b;else e:for(i=y;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xl(9,a)}}catch(_){ye(a,a.return,_)}if(a===i){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if(X=s,ir(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fl,e)}catch{}r=!0}return r}finally{ee=n,wt.transition=t}}return!1}function qp(e,t,n){t=Ls(n,t),t=sy(e,t,1),e=Wn(e,t,1),t=qe(),e!==null&&(bi(e,1,t),rt(e,t))}function ye(e,t,n){if(e.tag===3)qp(e,e,n);else for(;t!==null;){if(t.tag===3){qp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Ls(n,e),e=oy(t,e,1),t=Wn(t,e,1),e=qe(),t!==null&&(bi(t,1,e),rt(t,e));break}}t=t.return}}function W_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Re&n)===n&&(_e===4||_e===3&&(Re&130023424)===Re&&500>we()-Nf?kr(e,0):Pf|=n),rt(e,t)}function Ey(e,t){t===0&&(e.mode&1?(t=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):t=1);var n=qe();e=hn(e,t),e!==null&&(bi(e,t,n),rt(e,n))}function K_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ey(e,n)}function q_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Ey(e,n)}var ky;ky=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,I_(e,t,n);et=!!(e.flags&131072)}else et=!1,he&&t.flags&1048576&&Rv(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sa(e,t),e=t.pendingProps;var s=Os(t,$e.current);ms(t,n),s=bf(null,t,r,e,s,n);var o=Sf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(o=!0,Ba(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gf(t),s.updater=wl,t.stateNode=s,s._reactInternals=t,Bu(t,r,e,n),t=Hu(null,t,r,!0,o,n)):(t.tag=0,he&&o&&cf(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Q_(r),e=kt(r,e),s){case 0:t=Vu(null,t,r,e,n);break e;case 1:t=Lp(null,t,r,e,n);break e;case 11:t=Dp(null,t,r,e,n);break e;case 14:t=Mp(null,t,r,kt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Vu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Lp(e,t,r,s,n);case 3:e:{if(cy(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Mv(e,t),Ka(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ls(Error(R(423)),t),t=Fp(e,t,r,n,s);break e}else if(r!==s){s=Ls(Error(R(424)),t),t=Fp(e,t,r,n,s);break e}else for(ct=Hn(t.stateNode.containerInfo.firstChild),ut=t,he=!0,Tt=null,n=Iv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===s){t=pn(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Lv(t),e===null&&Fu(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ou(r,s)?i=null:o!==null&&Ou(r,o)&&(t.flags|=32),ly(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Fu(t),null;case 13:return uy(e,t,n);case 4:return vf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ds(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Dp(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,le(Ha,r._currentValue),r._currentValue=i,o!==null)if(It(o.value,i)){if(o.children===s.children&&!tt.current){t=pn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=un(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$u(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(R(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),$u(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ms(t,n),s=bt(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=kt(r,t.pendingProps),s=kt(r.type,s),Mp(e,t,r,s,n);case 15:return iy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kt(r,s),Sa(e,t),t.tag=1,nt(r)?(e=!0,Ba(t)):e=!1,ms(t,n),ry(t,r,s),Bu(t,r,s,n),Hu(null,t,r,!0,e,n);case 19:return dy(e,t,n);case 22:return ay(e,t,n)}throw Error(R(156,t.tag))};function Py(e,t){return ev(e,t)}function G_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new G_(e,t,n,r)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q_(e){if(typeof e=="function")return Af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yd)return 11;if(e===Jd)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ea(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Af(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case es:return Pr(n.children,s,o,t);case Qd:i=8,s|=8;break;case du:return e=yt(12,n,t,s|2),e.elementType=du,e.lanes=o,e;case fu:return e=yt(13,n,t,s),e.elementType=fu,e.lanes=o,e;case hu:return e=yt(19,n,t,s),e.elementType=hu,e.lanes=o,e;case Lg:return Sl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dg:i=10;break e;case Mg:i=9;break e;case Yd:i=11;break e;case Jd:i=14;break e;case Pn:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=yt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Pr(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function Sl(e,t,n,r){return e=yt(22,e,r,t),e.elementType=Lg,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Fc(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc(0),this.expirationTimes=yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Of(e,t,n,r,s,o,i,a,l){return e=new Y_(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(o),e}function J_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ny(e){if(!e)return Xn;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(nt(n))return Nv(e,n,t)}return t}function jy(e,t,n,r,s,o,i,a,l){return e=Of(n,r,!0,e,s,o,i,a,l),e.context=Ny(null),n=e.current,r=qe(),s=qn(n),o=un(r,s),o.callback=t??null,Wn(n,o,s),e.current.lanes=s,bi(e,s,r),rt(e,r),e}function _l(e,t,n,r){var s=t.current,o=qe(),i=qn(s);return n=Ny(n),t.context===null?t.context=n:t.pendingContext=n,t=un(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wn(s,t,i),e!==null&&(Ot(e,s,i,o),wa(e,s,i)),i}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function If(e,t){Gp(e,t),(e=e.alternate)&&Gp(e,t)}function X_(){return null}var Ry=typeof reportError=="function"?reportError:function(e){console.error(e)};function Df(e){this._internalRoot=e}Cl.prototype.render=Df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));_l(e,t,null,null)};Cl.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){_l(null,e,null,null)}),t[fn]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var t=av();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&cv(e)}};function Mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qp(){}function Z_(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=el(i);o.call(c)}}var i=jy(t,r,e,0,null,!1,!1,"",Qp);return e._reactRootContainer=i,e[fn]=i.current,Go(e.nodeType===8?e.parentNode:e),Ir(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=el(l);a.call(c)}}var l=Of(e,0,!1,null,null,!1,!1,"",Qp);return e._reactRootContainer=l,e[fn]=l.current,Go(e.nodeType===8?e.parentNode:e),Ir(function(){_l(t,l,n,r)}),l}function kl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=el(i);a.call(l)}}_l(t,i,e,s)}else i=Z_(n,t,e,s,r);return el(i)}ov=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xo(t.pendingLanes);n!==0&&(ef(t,n|1),rt(t,we()),!(X&6)&&(Fs=we()+500,ir()))}break;case 13:Ir(function(){var r=hn(e,1);if(r!==null){var s=qe();Ot(r,e,1,s)}}),If(e,1)}};tf=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var n=qe();Ot(t,e,134217728,n)}If(e,134217728)}};iv=function(e){if(e.tag===13){var t=qn(e),n=hn(e,t);if(n!==null){var r=qe();Ot(n,e,t,r)}If(e,t)}};av=function(){return ee};lv=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};_u=function(e,t,n){switch(t){case"input":if(gu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=gl(r);if(!s)throw Error(R(90));$g(r),gu(r,s)}}}break;case"textarea":Bg(e,n);break;case"select":t=n.value,t!=null&&ds(e,!!n.multiple,t,!1)}};Gg=jf;Qg=Ir;var eC={usingClientEntryPoint:!1,Events:[_i,ss,gl,Kg,qg,jf]},ho={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xg(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||X_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ea.isDisabled&&ea.supportsFiber)try{fl=ea.inject(tC),Qt=ea}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(t))throw Error(R(200));return J_(e,t,null,n)};ht.createRoot=function(e,t){if(!Mf(e))throw Error(R(299));var n=!1,r="",s=Ry;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Of(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,Go(e.nodeType===8?e.parentNode:e),new Df(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Xg(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return Ir(e)};ht.hydrate=function(e,t,n){if(!El(t))throw Error(R(200));return kl(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!Mf(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Ry;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=jy(t,null,e,1,n??null,s,!1,o,i),e[fn]=t.current,Go(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Cl(t)};ht.render=function(e,t,n){if(!El(t))throw Error(R(200));return kl(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!El(e))throw Error(R(40));return e._reactRootContainer?(Ir(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};ht.unstable_batchedUpdates=jf;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!El(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return kl(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function Ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ty)}catch(e){console.error(e)}}Ty(),Tg.exports=ht;var ar=Tg.exports;const Ay=wg(ar);var Lf,Yp=ar;Lf=Yp.createRoot,Yp.hydrateRoot;var Pl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nl=typeof window>"u"||"Deno"in globalThis;function Pt(){}function nC(e,t){return typeof e=="function"?e(t):e}function rC(e){return typeof e=="number"&&e>=0&&e!==1/0}function sC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jp(e,t){return typeof e=="function"?e(t):e}function oC(e,t){return typeof e=="function"?e(t):e}function Xp(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Ff(i,t.options))return!1}else if(!si(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Zp(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ri(t.options.mutationKey)!==ri(o))return!1}else if(!si(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ff(e,t){return((t==null?void 0:t.queryKeyHashFn)||ri)(e)}function ri(e){return JSON.stringify(e,(t,n)=>nd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function si(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!si(e[n],t[n])):!1}function Oy(e,t){if(e===t)return e;const n=em(e)&&em(t);if(n||nd(e)&&nd(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,l++):(a[d]=Oy(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&l++)}return s===i&&l===s?e:a}return t}function em(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nd(e){if(!tm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tm(e){return Object.prototype.toString.call(e)==="[object Object]"}function iC(e){return new Promise(t=>{setTimeout(t,e)})}function aC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Oy(e,t):t}function lC(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $f=Symbol();function Iy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$f?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Sr,On,_s,dg,uC=(dg=class extends Pl{constructor(){super();Z(this,Sr);Z(this,On);Z(this,_s);G(this,_s,t=>{if(!Nl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,On)||this.setEventListener(N(this,_s))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,On))==null||t.call(this),G(this,On,void 0))}setEventListener(t){var n;G(this,_s,t),(n=N(this,On))==null||n.call(this),G(this,On,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){N(this,Sr)!==t&&(G(this,Sr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,Sr)=="boolean"?N(this,Sr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Sr=new WeakMap,On=new WeakMap,_s=new WeakMap,dg),Dy=new uC,Cs,In,Es,fg,dC=(fg=class extends Pl{constructor(){super();Z(this,Cs,!0);Z(this,In);Z(this,Es);G(this,Es,t=>{if(!Nl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,In)||this.setEventListener(N(this,Es))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,In))==null||t.call(this),G(this,In,void 0))}setEventListener(t){var n;G(this,Es,t),(n=N(this,In))==null||n.call(this),G(this,In,t(this.setOnline.bind(this)))}setOnline(t){N(this,Cs)!==t&&(G(this,Cs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return N(this,Cs)}},Cs=new WeakMap,In=new WeakMap,Es=new WeakMap,fg),tl=new dC;function fC(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function hC(e){return Math.min(1e3*2**e,3e4)}function My(e){return(e??"online")==="online"?tl.isOnline():!0}var Ly=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $c(e){return e instanceof Ly}function Fy(e){let t=!1,n=0,r=!1,s;const o=fC(),i=m=>{var w;r||(p(new Ly(m)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Dy.isFocused()&&(e.networkMode==="always"||tl.isOnline())&&e.canRun(),d=()=>My(e.networkMode)&&e.canRun(),f=m=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,m),s==null||s(),o.resolve(m))},p=m=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,m),s==null||s(),o.reject(m))},g=()=>new Promise(m=>{var w;s=v=>{(r||c())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(r)return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var E;if(r)return;const y=e.retry??(Nl?0:3),b=e.retryDelay??hC,S=typeof b=="function"?b(n,v):b,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!_){p(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),iC(S).then(()=>c()?void 0:g()).then(()=>{t?p(v):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():g().then(x),o)}}function pC(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var We=pC(),_r,hg,$y=(hg=class{constructor(){Z(this,_r)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rC(this.gcTime)&&G(this,_r,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nl?1/0:5*60*1e3))}clearGcTimeout(){N(this,_r)&&(clearTimeout(N(this,_r)),G(this,_r,void 0))}},_r=new WeakMap,hg),ks,Ps,mt,Me,yi,Cr,Nt,rn,pg,mC=(pg=class extends $y{constructor(t){super();Z(this,Nt);Z(this,ks);Z(this,Ps);Z(this,mt);Z(this,Me);Z(this,yi);Z(this,Cr);G(this,Cr,!1),G(this,yi,t.defaultOptions),this.setOptions(t.options),this.observers=[],G(this,mt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,G(this,ks,vC(this.options)),this.state=t.state??N(this,ks),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Me))==null?void 0:t.promise}setOptions(t){this.options={...N(this,yi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,mt).remove(this)}setData(t,n){const r=aC(this.state.data,t,this.options);return Oe(this,Nt,rn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Oe(this,Nt,rn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=N(this,Me))==null?void 0:r.promise;return(s=N(this,Me))==null||s.cancel(t),n?n.then(Pt).catch(Pt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ks))}isActive(){return this.observers.some(t=>oC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$f||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!sC(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Me))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Me))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,mt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,Me)&&(N(this,Cr)?N(this,Me).cancel({revert:!0}):N(this,Me).cancelRetry()),this.scheduleGc()),N(this,mt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,Nt,rn).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Me))return N(this,Me).continueRetry(),N(this,Me).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(G(this,Cr,!0),r.signal)})},o=()=>{const f=Iy(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),G(this,Cr,!1),this.options.persister?this.options.persister(f,p,this):f(p)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(l=this.options.behavior)==null||l.onFetch(i,this),G(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&Oe(this,Nt,rn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var p,g,x,m;$c(f)&&f.silent||Oe(this,Nt,rn).call(this,{type:"error",error:f}),$c(f)||((g=(p=N(this,mt).config).onError)==null||g.call(p,f,this),(m=(x=N(this,mt).config).onSettled)==null||m.call(x,this.state.data,f,this)),this.scheduleGc()};return G(this,Me,Fy({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,g,x,m;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){a(w);return}(g=(p=N(this,mt).config).onSuccess)==null||g.call(p,f,this),(m=(x=N(this,mt).config).onSettled)==null||m.call(x,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{Oe(this,Nt,rn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Oe(this,Nt,rn).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Nt,rn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),N(this,Me).start()}},ks=new WeakMap,Ps=new WeakMap,mt=new WeakMap,Me=new WeakMap,yi=new WeakMap,Cr=new WeakMap,Nt=new WeakSet,rn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gC(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return $c(s)&&s.revert&&N(this,Ps)?{...N(this,Ps),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),We.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,mt).notify({query:this,type:"updated",action:t})})},pg);function gC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:My(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vt,mg,yC=(mg=class extends Pl{constructor(t={}){super();Z(this,Vt);this.config=t,G(this,Vt,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Ff(s,n);let i=this.get(o);return i||(i=new mC({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){N(this,Vt).has(t.queryHash)||(N(this,Vt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,Vt).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,Vt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Vt).get(t)}getAll(){return[...N(this,Vt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Xp(t,r)):n}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vt=new WeakMap,mg),Ht,Ve,Er,Wt,_n,gg,wC=(gg=class extends $y{constructor(t){super();Z(this,Wt);Z(this,Ht);Z(this,Ve);Z(this,Er);this.mutationId=t.mutationId,G(this,Ve,t.mutationCache),G(this,Ht,[]),this.state=t.state||xC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Ht).includes(t)||(N(this,Ht).push(t),this.clearGcTimeout(),N(this,Ve).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){G(this,Ht,N(this,Ht).filter(n=>n!==t)),this.scheduleGc(),N(this,Ve).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Ht).length||(this.state.status==="pending"?this.scheduleGc():N(this,Ve).remove(this))}continue(){var t;return((t=N(this,Er))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,l,c,d,f,p,g,x,m,w,v,y,b,S,_,E,C;G(this,Er,Fy({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,j)=>{Oe(this,Wt,_n).call(this,{type:"failed",failureCount:k,error:j})},onPause:()=>{Oe(this,Wt,_n).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Wt,_n).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Ve).canRun(this)}));const n=this.state.status==="pending",r=!N(this,Er).canStart();try{if(!n){Oe(this,Wt,_n).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=N(this,Ve).config).onMutate)==null?void 0:o.call(s,t,this));const j=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));j!==this.state.context&&Oe(this,Wt,_n).call(this,{type:"pending",context:j,variables:t,isPaused:r})}const k=await N(this,Er).start();return await((c=(l=N(this,Ve).config).onSuccess)==null?void 0:c.call(l,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((g=(p=N(this,Ve).config).onSettled)==null?void 0:g.call(p,k,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,k,null,t,this.state.context)),Oe(this,Wt,_n).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(w=N(this,Ve).config).onError)==null?void 0:v.call(w,k,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,k,t,this.state.context)),await((_=(S=N(this,Ve).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,k,t,this.state.context)),k}finally{Oe(this,Wt,_n).call(this,{type:"error",error:k})}}finally{N(this,Ve).runNext(this)}}},Ht=new WeakMap,Ve=new WeakMap,Er=new WeakMap,Wt=new WeakSet,_n=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),We.batch(()=>{N(this,Ht).forEach(r=>{r.onMutationUpdate(t)}),N(this,Ve).notify({mutation:this,type:"updated",action:t})})},gg);function xC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ot,wi,vg,bC=(vg=class extends Pl{constructor(t={}){super();Z(this,ot);Z(this,wi);this.config=t,G(this,ot,new Map),G(this,wi,Date.now())}build(t,n,r){const s=new wC({mutationCache:this,mutationId:++Li(this,wi)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=ta(t),r=N(this,ot).get(n)??[];r.push(t),N(this,ot).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=ta(t);if(N(this,ot).has(n)){const s=(r=N(this,ot).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?N(this,ot).delete(n):N(this,ot).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=N(this,ot).get(ta(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=N(this,ot).get(ta(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...N(this,ot).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zp(n,r))}findAll(t={}){return this.getAll().filter(n=>Zp(t,n))}notify(t){We.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return We.batch(()=>Promise.all(t.map(n=>n.continue().catch(Pt))))}},ot=new WeakMap,wi=new WeakMap,vg);function ta(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function nm(e){return{onFetch:(t,n)=>{var d,f,p,g,x;const r=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=Iy(t.options,t.fetchOptions),y=async(b,S,_)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const E={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};w(E);const C=await v(E),{maxPages:k}=t.options,j=_?cC:lC;return{pages:j(b.pages,C,k),pageParams:j(b.pageParams,S,k)}};if(s&&o.length){const b=s==="backward",S=b?SC:rm,_={pages:o,pageParams:i},E=S(r,_);a=await y(_,E,b)}else{const b=e??o.length;do{const S=l===0?i[0]??r.initialPageParam:rm(r,a);if(l>0&&S==null)break;a=await y(a,S),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function rm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function SC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ve,Dn,Mn,Ns,js,Ln,Rs,Ts,yg,_C=(yg=class{constructor(e={}){Z(this,ve);Z(this,Dn);Z(this,Mn);Z(this,Ns);Z(this,js);Z(this,Ln);Z(this,Rs);Z(this,Ts);G(this,ve,e.queryCache||new yC),G(this,Dn,e.mutationCache||new bC),G(this,Mn,e.defaultOptions||{}),G(this,Ns,new Map),G(this,js,new Map),G(this,Ln,0)}mount(){Li(this,Ln)._++,N(this,Ln)===1&&(G(this,Rs,Dy.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ve).onFocus())})),G(this,Ts,tl.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,ve).onOnline())})))}unmount(){var e,t;Li(this,Ln)._--,N(this,Ln)===0&&((e=N(this,Rs))==null||e.call(this),G(this,Rs,void 0),(t=N(this,Ts))==null||t.call(this),G(this,Ts,void 0))}isFetching(e){return N(this,ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,Dn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=N(this,ve).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Jp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return N(this,ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=N(this,ve).get(r.queryHash),o=s==null?void 0:s.state.data,i=nC(t,o);if(i!==void 0)return N(this,ve).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return We.batch(()=>N(this,ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,ve);We.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,ve),r={type:"active",...e};return We.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=We.batch(()=>N(this,ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Pt).catch(Pt)}invalidateQueries(e={},t={}){return We.batch(()=>{if(N(this,ve).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=We.batch(()=>N(this,ve).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Pt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Pt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,ve).build(this,t);return n.isStaleByTime(Jp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pt).catch(Pt)}fetchInfiniteQuery(e){return e.behavior=nm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pt).catch(Pt)}ensureInfiniteQueryData(e){return e.behavior=nm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tl.isOnline()?N(this,Dn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,ve)}getMutationCache(){return N(this,Dn)}getDefaultOptions(){return N(this,Mn)}setDefaultOptions(e){G(this,Mn,e)}setQueryDefaults(e,t){N(this,Ns).set(ri(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,Ns).values()];let n={};return t.forEach(r=>{si(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){N(this,js).set(ri(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,js).values()];let n={};return t.forEach(r=>{si(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,Mn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ff(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$f&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,Mn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,ve).clear(),N(this,Dn).clear()}},ve=new WeakMap,Dn=new WeakMap,Mn=new WeakMap,Ns=new WeakMap,js=new WeakMap,Ln=new WeakMap,Rs=new WeakMap,Ts=new WeakMap,yg),CC=h.createContext(void 0),EC=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(CC.Provider,{value:e,children:t}));function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function sm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Uy(...e){return t=>{let n=!1;const r=e.map(s=>{const o=sm(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():sm(e[s],null)}}}}function Dr(...e){return h.useCallback(Uy(...e),e)}function By(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];const c=f=>{var v;const{scope:p,children:g,...x}=f,m=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,w=h.useMemo(()=>x,Object.values(x));return u.jsx(m.Provider,{value:w,children:g})};c.displayName=o+"Provider";function d(f,p){var m;const g=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,x=h.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,kC(s,...t)]}function kC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function rd(e){const t=PC(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,a=h.Children.toArray(o),l=a.find(jC);if(l){const c=l.props.children,d=a.map(f=>f===l?h.Children.count(c)>1?h.Children.only(null):h.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...i,ref:s,children:h.isValidElement(c)?h.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function PC(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=TC(s),a=RC(o,s.props);return s.type!==h.Fragment&&(a.ref=r?Uy(r,i):i),h.cloneElement(s,a)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NC=Symbol("radix.slottable");function jC(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NC}function RC(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function TC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function AC(e){const t=e+"CollectionProvider",[n,r]=By(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:w,children:v}=m,y=Le.useRef(null),b=Le.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:b,collectionRef:y,children:v})};i.displayName=t;const a=e+"CollectionSlot",l=rd(a),c=Le.forwardRef((m,w)=>{const{scope:v,children:y}=m,b=o(a,v),S=Dr(w,b.collectionRef);return u.jsx(l,{ref:S,children:y})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=rd(d),g=Le.forwardRef((m,w)=>{const{scope:v,children:y,...b}=m,S=Le.useRef(null),_=Dr(w,S),E=o(d,v);return Le.useEffect(()=>(E.itemMap.set(S,{ref:S,...b}),()=>void E.itemMap.delete(S))),u.jsx(p,{[f]:"",ref:_,children:y})});g.displayName=d;function x(m){const w=o(e+"CollectionConsumer",m);return Le.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((E,C)=>b.indexOf(E.ref.current)-b.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:g},x,r]}var OC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zt=OC.reduce((e,t)=>{const n=rd(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zy(e,t){e&&ar.flushSync(()=>e.dispatchEvent(t))}function Mr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function IC(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var DC="DismissableLayer",sd="dismissableLayer.update",MC="dismissableLayer.pointerDownOutside",LC="dismissableLayer.focusOutside",om,Vy=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hy=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=h.useContext(Vy),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),x=Dr(t,C=>f(C)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),y=d?m.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,_=$C(C=>{const k=C.target,j=[...c.branches].some(T=>T.contains(k));!S||j||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},p),E=UC(C=>{const k=C.target;[...c.branches].some(T=>T.contains(k))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},p);return IC(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(om=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),im(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=om)}},[d,p,n,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),im())},[d,c]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(sd,C),()=>document.removeEventListener(sd,C)},[]),u.jsx(Zt.div,{...l,ref:x,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,_.onPointerDownCapture)})});Hy.displayName=DC;var FC="DismissableLayerBranch",Wy=h.forwardRef((e,t)=>{const n=h.useContext(Vy),r=h.useRef(null),s=Dr(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(Zt.div,{...e,ref:s})});Wy.displayName=FC;function $C(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Ky(MC,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UC(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&Ky(LC,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function im(){const e=new CustomEvent(sd);document.dispatchEvent(e)}function Ky(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zy(s,o):s.dispatchEvent(o)}var BC=Hy,zC=Wy,oi=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},VC="Portal",qy=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=h.useState(!1);oi(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Ay.createPortal(u.jsx(Zt.div,{...r,ref:t}),i):null});qy.displayName=VC;function HC(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Gy=e=>{const{present:t,children:n}=e,r=WC(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Dr(r.ref,KC(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};Gy.displayName="Presence";function WC(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=HC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=na(r.current);o.current=a==="mounted"?c:"none"},[a]),oi(()=>{const c=r.current,d=s.current;if(d!==e){const p=o.current,g=na(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),oi(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=g=>{const m=na(r.current).includes(g.animationName);if(g.target===t&&m&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(o.current=na(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function na(e){return(e==null?void 0:e.animationName)||"none"}function KC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qC=Wd[" useInsertionEffect ".trim().toString()]||oi;function GC({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=QC({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=h.useCallback(d=>{var f;if(a){const p=YC(d)?d(e):d;p!==e&&((f=i.current)==null||f.call(i,p))}else o(d)},[a,e,o,i]);return[l,c]}function QC({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return qC(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function YC(e){return typeof e=="function"}var JC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XC="VisuallyHidden",Uf=h.forwardRef((e,t)=>u.jsx(Zt.span,{...e,ref:t,style:{...JC,...e.style}}));Uf.displayName=XC;var Bf="ToastProvider",[zf,ZC,eE]=AC("Toast"),[Qy,y2]=By("Toast",[eE]),[tE,jl]=Qy(Bf),Yy=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=h.useState(null),[c,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Bf}\`. Expected non-empty \`string\`.`),u.jsx(zf.Provider,{scope:t,children:u.jsx(tE,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:h.useCallback(()=>d(g=>g+1),[]),onToastRemove:h.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};Yy.displayName=Bf;var Jy="ToastViewport",nE=["F8"],od="toast.viewportPause",id="toast.viewportResume",Xy=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=nE,label:s="Notifications ({hotkey})",...o}=e,i=jl(Jy,n),a=ZC(n),l=h.useRef(null),c=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=Dr(t,f,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;h.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),h.useEffect(()=>{const w=l.current,v=f.current;if(x&&w&&v){const y=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(od);v.dispatchEvent(E),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(id);v.dispatchEvent(E),i.isClosePausedRef.current=!1}},S=E=>{!w.contains(E.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",y),w.addEventListener("focusout",S),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:w})=>{const y=a().map(b=>{const S=b.ref.current,_=[S,...mE(S)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?y.reverse():y).flat()},[a]);return h.useEffect(()=>{const w=f.current;if(w){const v=y=>{var _,E,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const k=document.activeElement,j=y.shiftKey;if(y.target===w&&j){(_=c.current)==null||_.focus();return}const I=m({tabbingDirection:j?"backwards":"forwards"}),U=I.findIndex(O=>O===k);Uc(I.slice(U+1))?y.preventDefault():j?(E=c.current)==null||E.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,m]),u.jsxs(zC,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(ad,{ref:c,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Uc(w)}}),u.jsx(zf.Slot,{scope:n,children:u.jsx(Zt.ol,{tabIndex:-1,...o,ref:p})}),x&&u.jsx(ad,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Uc(w)}})]})});Xy.displayName=Jy;var Zy="ToastFocusProxy",ad=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=jl(Zy,n);return u.jsx(Uf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});ad.displayName=Zy;var Ei="Toast",rE="toast.swipeStart",sE="toast.swipeMove",oE="toast.swipeCancel",iE="toast.swipeEnd",e0=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=GC({prop:r,defaultProp:s??!0,onChange:o,caller:Ei});return u.jsx(Gy,{present:n||a,children:u.jsx(cE,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:Mr(e.onPause),onResume:Mr(e.onResume),onSwipeStart:lt(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(e.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:lt(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(e.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});e0.displayName=Ei;var[aE,lE]=Qy(Ei,{onClose(){}}),cE=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...x}=e,m=jl(Ei,n),[w,v]=h.useState(null),y=Dr(t,O=>v(O)),b=h.useRef(null),S=h.useRef(null),_=s||m.duration,E=h.useRef(0),C=h.useRef(_),k=h.useRef(0),{onToastAdd:j,onToastRemove:T}=m,F=Mr(()=>{var z;(w==null?void 0:w.contains(document.activeElement))&&((z=m.viewport)==null||z.focus()),i()}),I=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(F,O))},[F]);h.useEffect(()=>{const O=m.viewport;if(O){const z=()=>{I(C.current),c==null||c()},M=()=>{const V=new Date().getTime()-E.current;C.current=C.current-V,window.clearTimeout(k.current),l==null||l()};return O.addEventListener(od,M),O.addEventListener(id,z),()=>{O.removeEventListener(od,M),O.removeEventListener(id,z)}}},[m.viewport,_,l,c,I]),h.useEffect(()=>{o&&!m.isClosePausedRef.current&&I(_)},[o,_,m.isClosePausedRef,I]),h.useEffect(()=>(j(),()=>T()),[j,T]);const U=h.useMemo(()=>w?a0(w):null,[w]);return m.viewport?u.jsxs(u.Fragment,{children:[U&&u.jsx(uE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),u.jsx(aE,{scope:n,onClose:F,children:ar.createPortal(u.jsx(zf.ItemSlot,{scope:n,children:u.jsx(BC,{asChild:!0,onEscapeKeyDown:lt(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Zt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lt(e.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:lt(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:lt(e.onPointerMove,O=>{if(!b.current)return;const z=O.clientX-b.current.x,M=O.clientY-b.current.y,V=!!S.current,P=["left","right"].includes(m.swipeDirection),A=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,L=P?A(0,z):0,B=P?0:A(0,M),ne=O.pointerType==="touch"?10:2,Ue={x:L,y:B},be={originalEvent:O,delta:Ue};V?(S.current=Ue,ra(sE,f,be,{discrete:!1})):am(Ue,m.swipeDirection,ne)?(S.current=Ue,ra(rE,d,be,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(z)>ne||Math.abs(M)>ne)&&(b.current=null)}),onPointerUp:lt(e.onPointerUp,O=>{const z=S.current,M=O.target;if(M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),S.current=null,b.current=null,z){const V=O.currentTarget,P={originalEvent:O,delta:z};am(z,m.swipeDirection,m.swipeThreshold)?ra(iE,g,P,{discrete:!0}):ra(oE,p,P,{discrete:!0}),V.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),uE=e=>{const{__scopeToast:t,children:n,...r}=e,s=jl(Ei,t),[o,i]=h.useState(!1),[a,l]=h.useState(!1);return hE(()=>i(!0)),h.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(qy,{asChild:!0,children:u.jsx(Uf,{...r,children:o&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},dE="ToastTitle",t0=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Zt.div,{...r,ref:t})});t0.displayName=dE;var fE="ToastDescription",n0=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Zt.div,{...r,ref:t})});n0.displayName=fE;var r0="ToastAction",s0=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(i0,{altText:n,asChild:!0,children:u.jsx(Vf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r0}\`. Expected non-empty \`string\`.`),null)});s0.displayName=r0;var o0="ToastClose",Vf=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=lE(o0,n);return u.jsx(i0,{asChild:!0,children:u.jsx(Zt.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,s.onClose)})})});Vf.displayName=o0;var i0=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(Zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function a0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pE(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...a0(r))}}),t}function ra(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zy(s,o):s.dispatchEvent(o)}var am=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function hE(e=()=>{}){const t=Mr(e);oi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function pE(e){return e.nodeType===e.ELEMENT_NODE}function mE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Uc(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var gE=Yy,l0=Xy,c0=e0,u0=t0,d0=n0,f0=s0,h0=Vf;function p0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=p0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function m0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=p0(e))&&(r&&(r+=" "),r+=t);return r}const lm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cm=m0,Hf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return cm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const p=lm(d)||lm(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(x=>{let[m,w]=x;return Array.isArray(w)?w.includes({...o,...a}[m]):{...o,...a}[m]===w})?[...c,f,p]:c},[]);return cm(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>h.createElement("svg",{ref:l,...yE,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:g0("lucide",s),...a},[...i.map(([c,d])=>h.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(wE,{ref:o,iconNode:t,className:g0(`lucide-${vE(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=oe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=oe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jf="-",RE=e=>{const t=AE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Jf);return a[0]===""&&a.length!==1&&a.shift(),C0(a,t)||TE(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},C0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?C0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Jf);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},um=/^\[(.+)\]$/,TE=e=>{if(um.test(e)){const t=um.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AE=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return IE(Object.entries(e.classGroups),n).forEach(([o,i])=>{cd(i,r,o,t)}),r},cd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:dm(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(OE(s)){cd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{cd(i,dm(t,o),n,r)})})},dm=(e,t)=>{let n=e;return t.split(Jf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OE=e=>e.isThemeGetter,IE=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,DE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},E0="!",ME=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,d=0,f;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(r||a.slice(w,w+o)===t)){l.push(a.slice(d,w)),d=w+o;continue}if(v==="/"){f=w;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(E0),x=g?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},LE=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},FE=e=>({cache:DE(e.cacheSize),parseClassName:ME(e),...RE(e)}),$E=/\s+/,UE=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split($E);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let x=!!g,m=r(x?p.substring(0,g):p);if(!m){if(!x){a=c+(a.length>0?" "+a:a);continue}if(m=r(p),!m){a=c+(a.length>0?" "+a:a);continue}x=!1}const w=LE(d).join(":"),v=f?w+E0:w,y=v+m;if(o.includes(y))continue;o.push(y);const b=s(m,x);for(let S=0;S<b.length;++S){const _=b[S];o.push(v+_)}a=c+(a.length>0?" "+a:a)}return a};function BE(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=k0(t))&&(r&&(r+=" "),r+=n);return r}const k0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=k0(e[r]))&&(n&&(n+=" "),n+=t);return n};function zE(e,...t){let n,r,s,o=i;function i(l){const c=t.reduce((d,f)=>f(d),e());return n=FE(c),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=UE(l,n);return s(l,d),d}return function(){return o(BE.apply(null,arguments))}}const ue=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},P0=/^\[(?:([a-z-]+):)?(.+)\]$/i,VE=/^\d+\/\d+$/,HE=new Set(["px","full","screen"]),WE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=e=>vs(e)||HE.has(e)||VE.test(e),bn=e=>Ws(e,"length",rk),vs=e=>!!e&&!Number.isNaN(Number(e)),Bc=e=>Ws(e,"number",vs),po=e=>!!e&&Number.isInteger(Number(e)),YE=e=>e.endsWith("%")&&vs(e.slice(0,-1)),W=e=>P0.test(e),Sn=e=>WE.test(e),JE=new Set(["length","size","percentage"]),XE=e=>Ws(e,JE,N0),ZE=e=>Ws(e,"position",N0),ek=new Set(["image","url"]),tk=e=>Ws(e,ek,ok),nk=e=>Ws(e,"",sk),mo=()=>!0,Ws=(e,t,n)=>{const r=P0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},rk=e=>KE.test(e)&&!qE.test(e),N0=()=>!1,sk=e=>GE.test(e),ok=e=>QE.test(e),ik=()=>{const e=ue("colors"),t=ue("spacing"),n=ue("blur"),r=ue("brightness"),s=ue("borderColor"),o=ue("borderRadius"),i=ue("borderSpacing"),a=ue("borderWidth"),l=ue("contrast"),c=ue("grayscale"),d=ue("hueRotate"),f=ue("invert"),p=ue("gap"),g=ue("gradientColorStops"),x=ue("gradientColorStopPositions"),m=ue("inset"),w=ue("margin"),v=ue("opacity"),y=ue("padding"),b=ue("saturate"),S=ue("scale"),_=ue("sepia"),E=ue("skew"),C=ue("space"),k=ue("translate"),j=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",W,t],I=()=>[W,t],U=()=>["",tn,bn],O=()=>["auto",vs,W],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",W],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[vs,W];return{cacheSize:500,separator:":",theme:{colors:[mo],spacing:[tn,bn],blur:["none","",Sn,W],brightness:B(),borderColor:[e],borderRadius:["none","","full",Sn,W],borderSpacing:I(),borderWidth:U(),contrast:B(),grayscale:A(),hueRotate:B(),invert:A(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[YE,bn],inset:F(),margin:F(),opacity:B(),padding:I(),saturate:B(),scale:B(),sepia:A(),skew:B(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[Sn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),W]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",po,W]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",po,W]}],"grid-cols":[{"grid-cols":[mo]}],"col-start-end":[{col:["auto",{span:["full",po,W]},W]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[mo]}],"row-start-end":[{row:["auto",{span:[po,W]},W]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,t]}],"min-w":[{"min-w":[W,t,"min","max","fit"]}],"max-w":[{"max-w":[W,t,"none","full","min","max","fit","prose",{screen:[Sn]},Sn]}],h:[{h:[W,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sn,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Bc]}],"font-family":[{font:[mo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",vs,Bc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,bn]}],"underline-offset":[{"underline-offset":["auto",tn,W]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),ZE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[tn,W]}],"outline-w":[{outline:[tn,bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tn,bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sn,nk]}],"shadow-color":[{shadow:[mo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sn,W]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[po,W]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tn,bn,Bc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ak=zE(ik);function q(...e){return ak(m0(e))}const lk=gE,j0=h.forwardRef(({className:e,...t},n)=>u.jsx(l0,{ref:n,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));j0.displayName=l0.displayName;const ck=Hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),R0=h.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(c0,{ref:r,className:q(ck({variant:t}),e),...n}));R0.displayName=c0.displayName;const uk=h.forwardRef(({className:e,...t},n)=>u.jsx(f0,{ref:n,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));uk.displayName=f0.displayName;const T0=h.forwardRef(({className:e,...t},n)=>u.jsx(h0,{ref:n,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Yf,{className:"h-4 w-4"})}));T0.displayName=h0.displayName;const A0=h.forwardRef(({className:e,...t},n)=>u.jsx(u0,{ref:n,className:q("text-sm font-semibold",e),...t}));A0.displayName=u0.displayName;const O0=h.forwardRef(({className:e,...t},n)=>u.jsx(d0,{ref:n,className:q("text-sm opacity-90",e),...t}));O0.displayName=d0.displayName;const dk=1,fk=1e6;let zc=0;function hk(){return zc=(zc+1)%Number.MAX_SAFE_INTEGER,zc.toString()}const Vc=new Map,fm=e=>{if(Vc.has(e))return;const t=setTimeout(()=>{Vc.delete(e),Io({type:"REMOVE_TOAST",toastId:e})},fk);Vc.set(e,t)},pk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?fm(n):e.toasts.forEach(r=>{fm(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ka=[];let Pa={toasts:[]};function Io(e){Pa=pk(Pa,e),ka.forEach(t=>{t(Pa)})}function I0({...e}){const t=hk(),n=s=>Io({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Io({type:"DISMISS_TOAST",toastId:t});return Io({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function _t(){const[e,t]=h.useState(Pa);return h.useEffect(()=>(ka.push(t),()=>{const n=ka.indexOf(t);n>-1&&ka.splice(n,1)}),[e]),{...e,toast:I0,dismiss:n=>Io({type:"DISMISS_TOAST",toastId:n})}}function mk(){const{toasts:e}=_t();return u.jsxs(lk,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return u.jsxs(R0,{...o,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(A0,{children:n}),r&&u.jsx(O0,{children:r})]}),s,u.jsx(T0,{})]},t)}),u.jsx(j0,{})]})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const hm="popstate";function gk(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return ud("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:M0(s)}return yk(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vk(){return Math.random().toString(36).substr(2,8)}function pm(e,t){return{usr:e.state,key:e.key,idx:t}}function ud(e,t,n,r){return n===void 0&&(n=null),ai({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ks(t):t,{state:n,key:t&&t.key||r||vk()})}function M0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ks(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Un.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(ai({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Un.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:a,location:m.location,delta:v})}function p(w,v){a=Un.Push;let y=ud(m.location,w,v);c=d()+1;let b=pm(y,c),S=m.createHref(y);try{i.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&l&&l({action:a,location:m.location,delta:1})}function g(w,v){a=Un.Replace;let y=ud(m.location,w,v);c=d();let b=pm(y,c),S=m.createHref(y);i.replaceState(b,"",S),o&&l&&l({action:a,location:m.location,delta:0})}function x(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:M0(w);return y=y.replace(/ $/,"%20"),Ee(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return e(s,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hm,f),l=w,()=>{s.removeEventListener(hm,f),l=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(w){return i.go(w)}};return m}var mm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mm||(mm={}));function wk(e,t,n){return n===void 0&&(n="/"),xk(e,t,n,!1)}function xk(e,t,n,r){let s=typeof t=="string"?Ks(t):t,o=$0(s.pathname||"/",n);if(o==null)return null;let i=L0(e);bk(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=Ak(o);a=Rk(i[l],c,r)}return a}function L0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Nr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ee(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),L0(o.children,t,d,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:Nk(c,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of F0(o.path))s(o,i,l)}),t}function F0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=F0(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function bk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sk=/^:[\w-]+$/,_k=3,Ck=2,Ek=1,kk=10,Pk=-2,gm=e=>e==="*";function Nk(e,t){let n=e.split("/"),r=n.length;return n.some(gm)&&(r+=Pk),t&&(r+=Ck),n.filter(s=>!gm(s)).reduce((s,o)=>s+(Sk.test(o)?_k:o===""?Ek:kk),r)}function jk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Rk(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=vm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=vm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Nr([o,f.pathname]),pathnameBase:Fk(Nr([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Nr([o,f.pathnameBase]))}return i}function vm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let m=a[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function Tk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),D0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ak(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return D0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ok(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ks(e):e;return{pathname:n?n.startsWith("/")?n:Ik(n,t):t,search:$k(r),hash:Uk(s)}}function Ik(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mk(e,t){let n=Dk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lk(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ks(e):(s=ai({},e),Ee(!s.pathname||!s.pathname.includes("?"),Hc("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Hc("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Hc("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Ok(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Nr=e=>e.join("/").replace(/\/\/+/g,"/"),Fk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$k=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U0=["post","put","patch","delete"];new Set(U0);const zk=["get",...U0];new Set(zk);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}const Xf=h.createContext(null),Vk=h.createContext(null),Al=h.createContext(null),Ol=h.createContext(null),qs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),B0=h.createContext(null);function Il(){return h.useContext(Ol)!=null}function ki(){return Il()||Ee(!1),h.useContext(Ol).location}function z0(e){h.useContext(Al).static||h.useLayoutEffect(e)}function Gs(){let{isDataRoute:e}=h.useContext(qs);return e?nP():Hk()}function Hk(){Il()||Ee(!1);let e=h.useContext(Xf),{basename:t,future:n,navigator:r}=h.useContext(Al),{matches:s}=h.useContext(qs),{pathname:o}=ki(),i=JSON.stringify(Mk(s,n.v7_relativeSplatPath)),a=h.useRef(!1);return z0(()=>{a.current=!0}),h.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Lk(c,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Wk(e,t){return Kk(e,t)}function Kk(e,t,n,r){Il()||Ee(!1);let{navigator:s}=h.useContext(Al),{matches:o}=h.useContext(qs),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=ki(),d;if(t){var f;let w=typeof t=="string"?Ks(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ee(!1),d=w}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=wk(e,{pathname:g}),m=Jk(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Nr([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Nr([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&m?h.createElement(Ol.Provider,{value:{location:li({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},m):m}function qk(){let e=tP(),t=Bk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const Gk=h.createElement(qk,null);class Qk extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(qs.Provider,{value:this.props.routeContext},h.createElement(B0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yk(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Xf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(qs.Provider,{value:t},r)}function Jk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ee(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,x=!1,m=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||Gk,l&&(c<0&&p===0?(x=!0,w=null):c===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),y=()=>{let b;return g?b=m:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(Yk,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(Qk,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var V0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V0||{}),rl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rl||{});function Xk(e){let t=h.useContext(Xf);return t||Ee(!1),t}function Zk(e){let t=h.useContext(Vk);return t||Ee(!1),t}function eP(e){let t=h.useContext(qs);return t||Ee(!1),t}function H0(e){let t=eP(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function tP(){var e;let t=h.useContext(B0),n=Zk(rl.UseRouteError),r=H0(rl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nP(){let{router:e}=Xk(V0.UseNavigateStable),t=H0(rl.UseNavigateStable),n=h.useRef(!1);return z0(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,li({fromRouteId:t},o)))},[e,t])}function So(e){Ee(!1)}function rP(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Un.Pop,navigator:o,static:i=!1,future:a}=e;Il()&&Ee(!1);let l=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:o,static:i,future:li({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Ks(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:x="default"}=r,m=h.useMemo(()=>{let w=$0(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:x},navigationType:s}},[l,d,f,p,g,x,s]);return m==null?null:h.createElement(Al.Provider,{value:c},h.createElement(Ol.Provider,{children:n,value:m}))}function sP(e){let{children:t,location:n}=e;return Wk(dd(t),n)}new Promise(()=>{});function dd(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,dd(r.props.children,o));return}r.type!==So&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=dd(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function oP(e,t){let n=fd(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const iP="6";try{window.__reactRouterVersion=iP}catch{}const aP="startTransition",ym=Wd[aP];function lP(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=gk({window:s,v5Compat:!0}));let i=o.current,[a,l]=h.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=h.useCallback(f=>{c&&ym?ym(()=>l(f)):l(f)},[l,c]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.createElement(rP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var wm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wm||(wm={}));var xm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xm||(xm={}));function cP(e){let t=h.useRef(fd(e)),n=h.useRef(!1),r=ki(),s=h.useMemo(()=>oP(r.search,n.current?null:t.current),[r.search]),o=Gs(),i=h.useCallback((a,l)=>{const c=fd(typeof a=="function"?a(s):a);n.current=!0,o("?"+c,l)},[o,s]);return[s,i]}function uP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function W0(...e){return t=>e.forEach(n=>uP(n,t))}function te(...e){return h.useCallback(W0(...e),e)}var Zn=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),o=s.find(dP);if(o){const i=o.props.children,a=s.map(l=>l===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:l);return u.jsx(hd,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return u.jsx(hd,{...r,ref:t,children:n})});Zn.displayName="Slot";var hd=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const s=hP(n);return h.cloneElement(n,{...fP(r,n.props),ref:t?W0(t,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});hd.displayName="SlotClone";var K0=({children:e})=>u.jsx(u.Fragment,{children:e});function dP(e){return h.isValidElement(e)&&e.type===K0}function fP(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function hP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Zf=Hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Zn:"button";return u.jsx(i,{className:q(Zf({variant:t,size:n,className:e})),ref:o,...s})});Ce.displayName="Button";const ci=h.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ci.displayName="Card";const ui=h.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:q("flex flex-col space-y-1.5 p-6",e),...t}));ui.displayName="CardHeader";const di=h.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:q("text-2xl font-semibold leading-none tracking-tight",e),...t}));di.displayName="CardTitle";const fi=h.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:q("text-sm text-muted-foreground",e),...t}));fi.displayName="CardDescription";const hi=h.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:q("p-6 pt-0",e),...t}));hi.displayName="CardContent";const pP=h.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:q("flex items-center p-6 pt-0",e),...t}));pP.displayName="CardFooter";const mP="consentFormDB",bm=2,Do="forms",Kt="drafts",pd=(e,t)=>t.some(n=>e instanceof n);let Sm,_m;function gP(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return _m||(_m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const md=new WeakMap,Wc=new WeakMap,Dl=new WeakMap;function yP(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{n(jr(e.result)),s()},i=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",i)});return Dl.set(t,e),t}function wP(e){if(md.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});md.set(e,t)}let gd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return md.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function q0(e){gd=e(gd)}function xP(e){return vP().includes(e)?function(...t){return e.apply(vd(this),t),jr(this.request)}:function(...t){return jr(e.apply(vd(this),t))}}function bP(e){return typeof e=="function"?xP(e):(e instanceof IDBTransaction&&wP(e),pd(e,gP())?new Proxy(e,gd):e)}function jr(e){if(e instanceof IDBRequest)return yP(e);if(Wc.has(e))return Wc.get(e);const t=bP(e);return t!==e&&(Wc.set(e,t),Dl.set(t,e)),t}const vd=e=>Dl.get(e);function SP(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(e,t),a=jr(i);return r&&i.addEventListener("upgradeneeded",l=>{r(jr(i.result),l.oldVersion,l.newVersion,jr(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _P=["get","getKey","getAll","getAllKeys","count"],CP=["put","add","delete","clear"],Kc=new Map;function Cm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Kc.get(t))return Kc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=CP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_P.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Kc.set(t,o),o}q0(e=>({...e,get:(t,n,r)=>Cm(t,n)||e.get(t,n,r),has:(t,n)=>!!Cm(t,n)||e.has(t,n)}));const EP=["continue","continuePrimaryKey","advance"],Em={},yd=new WeakMap,G0=new WeakMap,kP={get(e,t){if(!EP.includes(t))return e[t];let n=Em[t];return n||(n=Em[t]=function(...r){yd.set(this,G0.get(this)[t](...r))}),n}};async function*PP(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,kP);for(G0.set(n,t),Dl.set(n,vd(t));t;)yield n,t=await(yd.get(n)||t.continue()),yd.delete(n)}function km(e,t){return t===Symbol.asyncIterator&&pd(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&pd(e,[IDBIndex,IDBObjectStore])}q0(e=>({...e,get(t,n,r){return km(t,n)?PP:e.get(t,n,r)},has(t,n){return km(t,n)||e.has(t,n)}}));let go=null;const Qs=async()=>{if(go)return console.log("Reusing existing database instance"),go;try{return go=await SP(mP,bm,{upgrade(e,t,n,r){if(console.log(`Upgrading database from version ${t} to ${bm}`),t<1&&(e.objectStoreNames.contains(Do)||(e.createObjectStore(Do,{keyPath:"id",autoIncrement:!0}).createIndex("submissionId","submissionId",{unique:!0}),console.log(`Object store '${Do}' created`)),e.objectStoreNames.contains(Kt)||(e.createObjectStore(Kt,{keyPath:"id",autoIncrement:!0}).createIndex("regionCode","regionCode",{unique:!1}),console.log(`Object store '${Kt}' created`))),t<2&&e.objectStoreNames.contains(Kt)){const o=r.objectStore(Kt);o.indexNames.contains("sessionId")||(o.createIndex("sessionId","id",{unique:!1}),console.log(`Index 'sessionId' created in '${Kt}'`))}},blocked(){console.warn("Database blocked, close other instances")},blocking(){console.warn("Database is blocking, try to close this tab")},terminated(){console.warn("Database terminated")}}),console.log("Database initialized successfully"),go}catch(e){throw console.error("Failed to initialize database:",e),go=null,e}},NP=Object.freeze(Object.defineProperty({__proto__:null,initDB:Qs},Symbol.toStringTag,{value:"Module"})),jP=e=>{try{return btoa(encodeURIComponent(e))}catch{return console.warn("Encryption failed, storing as plain text"),e}},RP=e=>{try{return decodeURIComponent(atob(e))}catch{return e}},Q0=e=>{const t=["patientName","idNumber","contactNumber","email","address"],n={...e};return t.forEach(r=>{n[r]&&(n[r]=jP(n[r]))}),n},TP=e=>{const t=["patientName","idNumber","contactNumber","email","address"],n={...e};return t.forEach(r=>{n[r]&&n.encrypted&&(n[r]=RP(n[r]))}),n},Y0=async(e,t)=>{if(!e)throw new Error(`No form data provided to save to ${t}`);try{const n=await Qs(),r=e.id||Date.now(),s=new Date().toISOString(),i={...Q0(e),id:r,timestamp:s,lastModified:s,encrypted:!0};return await n.put(t,i)}catch(n){throw console.error(`Error saving to ${t}:`,n),n}},J0=async e=>{try{return(await(await Qs()).getAll(e)).map(r=>{try{return r.encrypted?{...r,...TP(r)}:r}catch(s){return console.warn("Failed to decrypt item, returning as is:",s),{...r,decryptionFailed:!0}}})}catch(t){throw console.error(`Error getting all items from ${e}:`,t),t}},AP=async(e,t)=>{try{const n=await Qs();if(!await n.get(t,e))throw new Error(`Item ${e} not found in ${t}`);await n.delete(t,e),console.log(`Item ${e} deleted from ${t}`)}catch(n){throw console.error(`Error deleting item from ${t}:`,n),n}},OP=async(e,t,n)=>{try{const r=await Qs(),s=await r.get(n,e);if(!s)throw new Error(`Item with ID ${e} not found in ${n}`);const o=Q0(t),i={...s,...o,lastModified:new Date().toISOString(),encrypted:!0};await r.put(n,i),console.log(`Item ${e} updated successfully in ${n}`)}catch(r){throw console.error(`Error updating item in ${n}:`,r),r}},IP=async e=>await Y0(e,Do),X0=async()=>await J0(Do),DP=async e=>await Y0(e,Kt),eh=async()=>(await J0(Kt)).sort((t,n)=>{const r=new Date(t.lastModified||t.timestamp);return new Date(n.lastModified||n.timestamp).getTime()-r.getTime()}),Z0=async e=>await AP(e,Kt),MP=async(e,t)=>await OP(e,t,Kt),LP=async()=>{console.log("Sync pending forms called - placeholder implementation")},th=()=>{const[e,t]=h.useState(navigator.onLine),{toast:n}=_t();return h.useEffect(()=>{const r=()=>{t(!0),n({title:"Back Online",description:"You are now online. Your data will sync.",duration:3e3}),LP()},s=()=>{t(!1),n({title:"Offline Mode",description:"You are offline. Data will be saved locally.",duration:3e3})};return window.addEventListener("online",r),window.addEventListener("offline",s),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}},[n]),{isOnline:e}},Ke={CPT:{code:"CPT",name:"Cape Town",doctor:"Dr. Soni",practiceNumber:"1030817"},PTA:{code:"PTA",name:"Pretoria",doctor:"Dr. Vorster",practiceNumber:"1227831"},JHB:{code:"JHB",name:"Johannesburg",doctor:"Dr. Essop",practiceNumber:"1182609"}},FP=async()=>new Promise((e,t)=>{if(!navigator.geolocation){console.log("Geolocation not supported"),t(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(n=>{const{latitude:r,longitude:s}=n.coords,o=$P(r,s);console.log(`Location detected: ${r}, ${s} - Region: ${o.code}`),e(o)},n=>{console.log("Geolocation error:",n),t(n)},{timeout:5e3,maximumAge:3e5,enableHighAccuracy:!1})}),$P=(e,t)=>e>=-34.5&&e<=-33.5&&t>=18&&t<=19?Ke.CPT:e>=-26.5&&e<=-25.5&&t>=27.5&&t<=28.5?Ke.JHB:Ke.PTA,UP=()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return console.log("Detected timezone:",e),Ke.PTA},BP=async()=>{try{return await FP()}catch{if(console.log("Primary geolocation failed, trying timezone fallback"),window.location.hostname.includes("lovable")||window.location.hostname.includes("sandbox")||window.location.hostname.includes("preview"))throw console.log("Detected sandbox/preview environment - requiring manual region selection"),new Error("Manual region selection required in sandbox environment");return UP()}},Ml=()=>{const[e,t]=h.useState(null),[n,r]=h.useState(!1),[s,o]=h.useState(!1),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,f]=h.useState(!1),{toast:p}=_t();h.useEffect(()=>{new URLSearchParams(window.location.search).get("draft")||g()},[]);const g=async v=>{if(v)return t(v),r(!0),o(!0),a(!1),c(!0),f(!1),p({title:"Region Loaded from Draft",description:`Form will be submitted for ${v.name} (${v.code}) - ${v.doctor}`}),v;if(s&&e)return e;try{const y=await BP();return t(y),r(!0),o(!0),a(!1),c(!1),f(!0),p({title:"Region Detected",description:`Form will be submitted for ${y.name} (${y.code}) - ${y.doctor}`}),y}catch(y){return console.error("Region detection failed:",y),t(null),r(!1),o(!1),a(!0),c(!1),f(!1),p({title:"Region Detection Failed",description:"Please select your region manually below",variant:"destructive"}),Ke.PTA}};return{currentRegion:e,regionDetected:n,regionDetectionComplete:s,showManualSelector:i,isRegionFromDraft:l,isRegionDetected:d,detectAndSetRegion:g,setRegionManually:v=>{t(v),r(!0),o(!0),a(!1),c(!1),f(!1),p({title:"Region Selected",description:`Form will be submitted for ${v.name} (${v.code}) - ${v.doctor}`})},showRegionSelector:()=>{a(!0)},hideRegionSelector:()=>{a(!1)}}},zP="modulepreload",VP=function(e){return"/mia-consent-offline-form/"+e},Pm={},Ys=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=VP(l),l in Pm)return;Pm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":zP,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},HP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Js);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class nh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class WP extends nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class KP extends nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qP extends nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wd||(wd={}));var GP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class QP{constructor(t,{headers:n={},customFetch:r,region:s=wd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=HP(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return GP(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=i):typeof i=="string"?(a["Content-Type"]="text/plain",c=i):typeof FormData<"u"&&i instanceof FormData?c=i:(a["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new WP(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new KP(d);if(!d.ok)throw new qP(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ze={},rh={},Ll={},Pi={},Fl={},$l={},YP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$s=YP();const JP=$s.fetch,ew=$s.fetch.bind($s),tw=$s.Headers,XP=$s.Request,ZP=$s.Response,Js=Object.freeze(Object.defineProperty({__proto__:null,Headers:tw,Request:XP,Response:ZP,default:ew,fetch:JP},Symbol.toStringTag,{value:"Module"})),eN=RS(Js);var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});let tN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ul.default=tN;var nw=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0});const nN=nw(eN),rN=nw(Ul);let sN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,l;let c=null,d=null,f=null,p=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(d=[],c=null,p=200,g="OK")}catch{o.status===404&&m===""?(p=204,g="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&this.shouldThrowOnError)throw new rN.default(c)}return{error:c,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,l;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};$l.default=sN;var oN=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fl,"__esModule",{value:!0});const iN=oN($l);let aN=class extends iN.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fl.default=aN;var lN=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});const cN=lN(Fl);let uN=class extends cN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Pi.default=uN;var dN=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ll,"__esModule",{value:!0});const vo=dN(Pi);let fN=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new vo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new vo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new vo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ll.default=fN;var Bl={},zl={};Object.defineProperty(zl,"__esModule",{value:!0});zl.version=void 0;zl.version="0.0.0-automated";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.DEFAULT_HEADERS=void 0;const hN=zl;Bl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hN.version}`};var rw=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const pN=rw(Ll),mN=rw(Pi),gN=Bl;let vN=class sw{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},gN.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new pN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new mN.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};rh.default=vN;var Xs=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const ow=Xs(rh);Ze.PostgrestClient=ow.default;const iw=Xs(Ll);Ze.PostgrestQueryBuilder=iw.default;const aw=Xs(Pi);Ze.PostgrestFilterBuilder=aw.default;const lw=Xs(Fl);Ze.PostgrestTransformBuilder=lw.default;const cw=Xs($l);Ze.PostgrestBuilder=cw.default;const uw=Xs(Ul);Ze.PostgrestError=uw.default;var yN=Ze.default={PostgrestClient:ow.default,PostgrestQueryBuilder:iw.default,PostgrestFilterBuilder:aw.default,PostgrestTransformBuilder:lw.default,PostgrestBuilder:cw.default,PostgrestError:uw.default};const{PostgrestClient:wN,PostgrestQueryBuilder:C2,PostgrestFilterBuilder:E2,PostgrestTransformBuilder:k2,PostgrestBuilder:P2,PostgrestError:N2}=yN;let xd;typeof window>"u"?xd=require("ws"):xd=window.WebSocket;const xN=xd,bN="2.11.10",SN={"X-Client-Info":`realtime-js/${bN}`},_N="1.0.0",dw=1e4,CN=1e3;var ys;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ys||(ys={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rt||(Rt={}));var bd;(function(e){e.websocket="websocket"})(bd||(bd={}));var vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vr||(vr={}));class EN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+o));i=i+o;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class fw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Nm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=kN(i,e,t,s),o),{})},kN=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?hw(o,i):Sd(i)},hw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return RN(t,n)}switch(e){case ae.bool:return PN(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return NN(t);case ae.json:case ae.jsonb:return jN(t);case ae.timestamp:return TN(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Sd(t);default:return Sd(t)}},Sd=e=>e,PN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>hw(t,a))}return e},TN=e=>typeof e=="string"?e.replace(" ","T"):e,pw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class qc{constructor(t,n,r={},s=dw){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jm||(jm={}));class Mo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mo.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Mo.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mo.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=o[c];if(f){const p=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),m=f.filter(w=>p.indexOf(w.presence_ref)<0);x.length>0&&(a[c]=x),m.length>0&&(l[c]=m)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const f=t[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rm||(Rm={}));var Tm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tm||(Tm={}));var on;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));class sh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qc(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new fw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Mo(this),this.broadcastEndpointURL=pw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(on.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(on.CLOSED));const l={},c={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(on.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,x=[];for(let m=0;m<g;m++){const w=p[m],{filter:{event:v,schema:y,table:b,filter:S}}=w,_=d&&d[m];if(_&&_.event===v&&_.schema===y&&_.table===b&&_.filter===S)x.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(on.SUBSCRIBED);return}}).receive("error",d=>{this.state=ze.errored,t==null||t(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new qc(this,Rt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qc(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Rt;if(r&&[a,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,m,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(m=g.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(g=>g.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var x,m,w,v,y,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const S=g.id,_=(x=g.filter)===null||x===void 0?void 0:x.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(y=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:m,table:w,commit_timestamp:v,type:y,errors:b}=x;p=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(p,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&sh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rt.close,{},t)}_onError(t){this._on(Rt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nm(t.columns,t.old_record)),n}}const Am=()=>{},AN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ON{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=SN,this.params={},this.timeout=dw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new EN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Ys(async()=>{const{default:l}=await Promise.resolve().then(()=>Js);return{default:l}},void 0).then(({default:l})=>l(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${bd.websocket}`,this.httpEndpoint=pw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xN),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new IN(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_N}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ys.connecting:return vr.Connecting;case ys.open:return vr.Open;case ys.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new sh(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Rt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(CN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([AN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class IN{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ys.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class oh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DN extends oh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _d extends oh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var MN=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const mw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Js);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LN=()=>MN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>Js),void 0)).Response:Response}),Cd=e=>{if(Array.isArray(e))return e.map(n=>Cd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Cd(r)}),t};var Vr=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Gc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FN=(e,t,n)=>Vr(void 0,void 0,void 0,function*(){const r=yield LN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new DN(Gc(s),e.status||500))}).catch(s=>{t(new _d(Gc(s),s))}):t(new _d(Gc(e),e))}),$N=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ni(e,t,n,r,s,o){return Vr(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,$N(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>FN(l,a,r))})})}function sl(e,t,n,r){return Vr(this,void 0,void 0,function*(){return Ni(e,"GET",t,n,r)})}function jn(e,t,n,r,s){return Vr(this,void 0,void 0,function*(){return Ni(e,"POST",t,r,s,n)})}function UN(e,t,n,r,s){return Vr(this,void 0,void 0,function*(){return Ni(e,"PUT",t,r,s,n)})}function BN(e,t,n,r){return Vr(this,void 0,void 0,function*(){return Ni(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gw(e,t,n,r,s){return Vr(this,void 0,void 0,function*(){return Ni(e,"DELETE",t,r,s,n)})}var Je=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const zN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Om={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VN{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=mw(s)}uploadOrUpdate(t,n,r,s){return Je(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Om),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(ke(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Je(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Om.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield jn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new oh("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}update(t,n,r){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Je(this,void 0,void 0,function*(){try{const s=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}download(t,n){return Je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield sl(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ke(a))return{data:null,error:a};throw a}})}info(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield sl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cd(r),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}exists(t){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield BN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ke(r)&&r instanceof _d){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Je(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}list(t,n,r){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},zN),n),{prefix:t||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const HN="2.7.1",WN={"X-Client-Info":`storage-js/${HN}`};var Kr=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class KN{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},WN),n),this.fetch=mw(r)}listBuckets(){return Kr(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}})}getBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Kr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Kr(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield gw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}})}}class qN extends KN{constructor(t,n={},r){super(t,n,r)}from(t){return new VN(this.url,this.headers,t,this.fetch)}}const GN="2.49.10";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const QN={"X-Client-Info":`supabase-js-${_o}/${GN}`},YN={headers:QN},JN={schema:"public"},XN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZN={};var ej=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const tj=e=>{let t;return e?t=e:typeof fetch>"u"?t=ew:t=fetch,(...n)=>t(...n)},nj=()=>typeof Headers>"u"?tw:Headers,rj=(e,t,n)=>{const r=tj(n),s=nj();return(o,i)=>ej(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},i),{headers:c}))})};var sj=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function oj(e){return e.endsWith("/")?e:e+"/"}function ij(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>sj(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const vw="2.69.1",Xr=30*1e3,Ed=3,Qc=Ed*Xr,aj="http://localhost:9999",lj="supabase.auth.token",cj={"X-Client-Info":`gotrue-js/${vw}`},kd="X-Supabase-Api-Version",yw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dj=6e5;class ih extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fj extends ih{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function hj(e){return K(e)&&e.name==="AuthApiError"}class ww extends ih{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class lr extends ih{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Cn extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pj(e){return K(e)&&e.name==="AuthSessionMissingError"}class Yc extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sa extends lr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oa extends lr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mj(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Im extends lr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pd extends lr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jc(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Dm extends lr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lo extends lr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lm=` 	
\r=`.split(""),gj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Lm.length;t+=1)e[Lm[t].charCodeAt(0)]=-2;for(let t=0;t<Mm.length;t+=1)e[Mm[t].charCodeAt(0)]=t;return e})();function xw(e,t,n){const r=gj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fm(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{wj(i,r,n)};for(let i=0;i<e.length;i+=1)xw(e.charCodeAt(i),s,o);return t.join("")}function vj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}vj(r,t)}}function wj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xj(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)xw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function bj(e){const t=[];return yj(e,n=>t.push(n)),new Uint8Array(t)}function Sj(e){return Math.round(Date.now()/1e3)+e}function _j(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},Fo=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};function Cj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const bw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Js);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Ej=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sw=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ia=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},aa=async(e,t)=>{await e.removeItem(t)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vl.promiseConstructor=Promise;function Xc(e){const t=e.split(".");if(t.length!==3)throw new Lo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!uj.test(t[r]))throw new Lo("JWT not in base64url format");return{header:JSON.parse(Fm(t[0])),payload:JSON.parse(Fm(t[1])),signature:xj(t[2]),raw:{header:t[0],payload:t[1]}}}async function kj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Pj(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function Nj(e){return("0"+e.toString(16)).substr(-2)}function jj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Nj).join("")}async function Rj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Tj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Rj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(e,t,n=!1){const r=jj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Sw(e,`${t}-code-verifier`,s);const o=await Tj(r);return[o,r===o?"plain":"s256"]}const Aj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oj(e){const t=e.headers.get(kd);if(!t||!t.match(Aj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ij(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Dj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Mj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const gr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lj=[502,503,504];async function $m(e){var t;if(!Ej(e))throw new Pd(gr(e),0);if(Lj.includes(e.status))throw new Pd(gr(e),e.status);let n;try{n=await e.json()}catch(o){throw new ww(gr(o),o)}let r;const s=Oj(e);if(s&&s.getTime()>=yw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dm(gr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Dm(gr(n),e.status,n.weak_password.reasons);throw new fj(gr(n),e.status||500,r)}const Fj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[kd]||(o[kd]=yw["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await $j(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function $j(e,t,n,r,s,o){const i=Fj(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new Pd(gr(l),0)}if(a.ok||await $m(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await $m(l)}}function En(e){var t;let n=null;Vj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Sj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Um(e){const t=En(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Uj(e){return{data:e,error:null}}function Bj(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Mj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function zj(e){return e}function Vj(e){return e.access_token&&e.refresh_token&&e.expires_in}var Hj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Wj{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=bw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Hj(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Bj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zj});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(K(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}const Kj={getItem:e=>Fo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fo()&&globalThis.localStorage.removeItem(e)}};function Bm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function qj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gr={debug:!!(globalThis&&Fo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _w extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Gj extends _w{}async function Qj(e,t,n){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Gj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qj();const Yj={url:aj,storageKey:lj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zm(e,t,n){return await n()}class pi{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pi.nextInstanceID,pi.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Yj),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bw(s.fetch),this.lock=s.lock||zm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Qj:this.lock=zm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fo()?this.storage=Kj:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Cj(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Bt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),mj(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new ww("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:En}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await qr(this.storage,this.storageKey)),o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},xform:En})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:En})}else throw new sa("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Um})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Um})}else throw new sa("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ia(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:En});if(await aa(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Yc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(K(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:En}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qr(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new sa("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:En});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await qr(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Uj})}catch(o){if(K(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new sa("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:An})})}catch(n){if(K(n))return pj(n)&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Cn;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await qr(this.storage,this.storageKey));const{data:c,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:An});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Xc(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Bt())throw new oa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Im("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new oa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=Xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=p-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:m,error:w}=await this._getUser(o);if(w)throw w;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ia(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(hj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_j(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qr(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(K(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,c,d;const{data:f,error:p}=o;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Bt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Pj(async s=>(s>0&&await kj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:En})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Jc(o)&&Date.now()+i-r<Xr})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ia(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qc;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Qc}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Jc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vl;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Cn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),K(o)){const i={session:null,error:o};return Jc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await aa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xr}ms, refresh threshold is ${Ed} ticks`),s<=Ed&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _w)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await qr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xc(s.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+dj>Date.now()))return r;const{data:s,error:o}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Lo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Lo("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Xc(r);if(Ij(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const c=Dj(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,i,bj(`${a}.${l}`)))throw new Lo("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}pi.nextInstanceID=0;const Jj=pi;class Xj extends Jj{constructor(t){super(t)}}var Zj=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class eR{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=oj(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:JN,realtime:ZN,auth:Object.assign(Object.assign({},XN),{storageKey:c}),global:YN},f=ij(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=rj(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new wN(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new QP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qN(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Zj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Xj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ON(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tR=(e,t,n)=>new eR(e,t,n),nR="https://jofuqlexuxzamltxxzuq.supabase.co",rR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvZnVxbGV4dXh6YW1sdHh4enVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxMDA2NjAsImV4cCI6MjA2NDY3NjY2MH0.Fq_Sx7NUeZF2k-erwrj_V-2npReXum9Cmuufsco3Cmw",ji=tR(nR,rR),Cw=(e,t=!1)=>({patient_name:e.patientName||"",id_number:e.idNumber||"",marital_status:e.maritalStatus||null,gender:e.gender||"",employer_school:e.employerSchool||null,occupation_grade:e.occupationGrade||null,cell_phone:e.cellPhone||"",email:e.email||"",address:e.address||"",postal_code:e.postalCode||null,responsible_for_payment:e.responsibleForPayment||"",account_holder_name:e.accountHolderName||null,account_holder_age:e.accountHolderAge||null,gp_name:e.gpName||null,gp_contact:e.gpContact||null,allergies:e.allergies||"",medication:e.medication||"",chronic_conditions:e.chronicConditions||[],age:e.age||null,birth_date:e.birthDate||null,payment_preference:e.paymentPreference||null,medical_aid_name:e.medicalAidName||null,medical_aid_no:e.medicalAidNo||null,medical_aid_plan:e.medicalAidPlan||null,main_member:e.mainMember||null,dependant_code:e.dependantCode||null,emergency_name:e.emergencyName||"",emergency_relationship:e.emergencyRelationship||"",emergency_phone:e.emergencyPhone||"",consent_agreement:e.consentAgreement||!1,signature:e.signature||"",doctor:e.doctor||null,practice_number:e.practiceNumber||null,region_code:e.regionCode||"PTA",encrypted:!1,status:t?"draft":"completed"}),ah=e=>({id:e.id,patientName:e.patient_name,idNumber:e.id_number,maritalStatus:e.marital_status,gender:e.gender,employerSchool:e.employer_school,occupationGrade:e.occupation_grade,cellPhone:e.cell_phone,email:e.email,address:e.address,postalCode:e.postal_code,responsibleForPayment:e.responsible_for_payment,accountHolderName:e.account_holder_name,accountHolderAge:e.account_holder_age,gpName:e.gp_name,gpContact:e.gp_contact,allergies:e.allergies,medication:e.medication,chronicConditions:e.chronic_conditions,age:e.age,birthDate:e.birth_date,paymentPreference:e.payment_preference,medicalAidName:e.medical_aid_name,medicalAidNo:e.medical_aid_no,medicalAidPlan:e.medical_aid_plan,mainMember:e.main_member,dependantCode:e.dependant_code,emergencyName:e.emergency_name,emergencyRelationship:e.emergency_relationship,emergencyPhone:e.emergency_phone,consentAgreement:e.consent_agreement,signature:e.signature,doctor:e.doctor,practiceNumber:e.practice_number,regionCode:e.region_code,region:e.region_code,timestamp:e.timestamp,lastModified:e.last_modified}),Nd=async(e,t=!1)=>{try{const n=t?"form_drafts":"consent_forms",r=new Date().toISOString(),s={...Cw(e,t),timestamp:r,last_modified:r},{data:o,error:i}=await ji.from(n).insert([s]).select().single();if(i)throw console.error(`Supabase ${n} save error:`,i),i;return console.log(`Form saved to Supabase ${n}:`,o.id),ah(o)}catch(n){throw console.error("Error saving to Supabase:",n),n}},sR=async(e,t,n=!1)=>{try{const r=n?"form_drafts":"consent_forms",s=new Date().toISOString(),o={...Cw(t,n),last_modified:s},{data:i,error:a}=await ji.from(r).update(o).eq("id",e).select().single();if(a)throw console.error(`Supabase ${r} update error:`,a),a;return console.log(`Form updated in Supabase ${r}:`,i.id),ah(i)}catch(r){throw console.error("Error updating in Supabase:",r),r}},Ew=async(e=!1)=>{try{const t=e?"form_drafts":"consent_forms",{data:n,error:r}=await ji.from(t).select("*").order("last_modified",{ascending:!1});if(r)throw console.error(`Supabase ${t} fetch error:`,r),r;return(n||[]).map(ah)}catch(t){throw console.error("Error fetching from Supabase:",t),t}},oR=async(e,t=!1)=>{try{const n=t?"form_drafts":"consent_forms",{error:r}=await ji.from(n).delete().eq("id",e);if(r)throw console.error(`Supabase ${n} delete error:`,r),r;console.log(`Form deleted from Supabase ${n}:`,e)}catch(n){throw console.error("Error deleting from Supabase:",n),n}},iR=async()=>{try{const{data:e,error:t}=await ji.from("consent_forms").select("count").limit(1);return t?(console.error("Supabase connection test failed:",t),!1):(console.log("Supabase connection test successful"),!0)}catch(e){return console.error("Supabase connection test error:",e),!1}},aR=async()=>{try{if(!window.indexedDB)return console.warn("IndexedDB not supported in this browser"),!1;const t=await(await Qs()).count("forms");return console.log("IndexedDB connection test successful, forms count:",t),!0}catch(e){return console.error("IndexedDB connection test failed:",e),e instanceof DOMException&&(e.name==="QuotaExceededError"?console.error("Storage quota exceeded"):e.name==="SecurityError"?console.error("Security error - possibly private browsing mode"):e.name==="VersionError"&&console.error("Database version error")),!1}};let br={supabase:!1,indexedDB:!1};const Vm=async()=>{try{const[e,t]=await Promise.all([iR(),aR()]);return br={supabase:e,indexedDB:t},console.log("Storage capabilities initialized:",br),br}catch(e){return console.error("Error initializing storage:",e),br}},Hl=()=>({...br}),$o=e=>{br={...br,...e}},lR=async(e,t=!1)=>{const n=Hl();let r=null,s=null;if(t&&e.id){if(n.supabase)try{if((await Ew(!0)).find(a=>a.id===e.id))return r=await sR(e.id,e,t),console.log("Updated existing draft in Supabase"),r}catch(o){console.error("Supabase update check failed:",o),$o({supabase:!1})}if(n.indexedDB)try{if((await eh()).find(a=>a.id===e.id))return await MP(e.id,e),s={...e},console.log("Updated existing draft in IndexedDB"),s}catch(o){console.error("IndexedDB update failed:",o)}}if(n.supabase)try{return r=await Nd(e,t),console.log("Form saved to Supabase successfully"),r}catch(o){console.error("Supabase save failed, trying IndexedDB:",o),$o({supabase:!1})}if(n.indexedDB)try{const o=t?await DP(e):await IP(e);return s={...e,id:o},console.log("Form saved to IndexedDB as fallback"),s}catch(o){console.error("IndexedDB save also failed:",o),$o({indexedDB:!1})}throw new Error("All storage methods failed")},cR=async(e=!1)=>{const t=Hl();if(t.supabase)try{const n=await Ew(e);return console.log(`Retrieved ${n.length} forms from Supabase`),n}catch(n){console.error("Supabase fetch failed, trying IndexedDB:",n),$o({supabase:!1})}if(t.indexedDB)try{const n=e?await eh():await X0();return console.log(`Retrieved ${n.length} forms from IndexedDB`),n}catch(n){console.error("IndexedDB fetch also failed:",n),$o({indexedDB:!1})}return console.warn("No storage methods available, returning empty array"),[]},kw=async(e,t=!1)=>{const n=Hl();let r=!1,s=!1;if(n.supabase&&typeof e=="string")try{await oR(e,t),r=!0,console.log("Form deleted from Supabase")}catch(o){console.error("Supabase delete failed:",o)}if(n.indexedDB&&typeof e=="number")try{t?await Z0(e):console.warn("Delete completed form from IndexedDB not implemented"),s=!0,console.log("Form deleted from IndexedDB")}catch(o){console.error("IndexedDB delete failed:",o)}if(!r&&!s)throw new Error("Failed to delete form from all storage methods")},uR=async(e,t=!1)=>{const n={success:0,failed:0};for(const r of e)try{await kw(r,t),n.success++}catch(s){console.error(`Failed to delete form ${r}:`,s),n.failed++}if(n.failed>0)throw new Error(`Failed to delete ${n.failed} out of ${e.length} items`)},dR=async()=>{const e=Hl();if(!e.indexedDB||!e.supabase)return console.log("Sync skipped: required storage not available"),{success:0,failed:0};const t={success:0,failed:0};try{const n=await eh();for(const s of n)try{await Nd(s,!0),t.success++,await Z0(s.id)}catch(o){console.error("Failed to sync draft:",s.id,o),t.failed++}const r=await X0();for(const s of r)if(!s.synced)try{await Nd(s,!1),t.success++}catch(o){console.error("Failed to sync form:",s.id,o),t.failed++}console.log(`Sync completed: ${t.success} success, ${t.failed} failed`)}catch(n){console.error("Sync process error:",n)}return t},yn=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState({supabase:!1,indexedDB:!1}),[s,o]=h.useState(navigator.onLine),{toast:i}=_t();h.useEffect(()=>{(async()=>{try{const p=await Vm();r(p),t(!0),!p.supabase&&!p.indexedDB?i({title:"Storage Warning",description:"No storage methods available. Data may be lost.",variant:"destructive"}):p.supabase||i({title:"Offline Mode",description:"Using local storage only. Data will sync when online.",variant:"default"})}catch(p){console.error("Storage initialization failed:",p),i({title:"Storage Error",description:"Failed to initialize storage systems.",variant:"destructive"})}})()},[i]),h.useEffect(()=>{const f=async()=>{o(!0);const g=await Vm();if(r(g),g.supabase){i({title:"Back Online",description:"Connected to cloud storage. Syncing data..."});try{const x=await d();x.success>0&&i({title:"Sync Complete",description:`Successfully synced ${x.success} items.`})}catch(x){console.error("Auto-sync failed:",x)}}},p=()=>{o(!1),r(g=>({...g,supabase:!1})),i({title:"Offline Mode",description:"Using local storage only."})};return window.addEventListener("online",f),window.addEventListener("offline",p),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p)}},[i]);const a=async(f,p=!1)=>{try{const g=await lR(f,p);return!n.supabase&&n.indexedDB&&i({title:"Saved Locally",description:"Data saved to local storage. Will sync when online."}),g}catch(g){throw console.error("Save failed:",g),i({title:"Save Failed",description:"Unable to save form data.",variant:"destructive"}),g}},l=async(f=!1)=>{try{return await cR(f)}catch(p){return console.error("Get forms failed:",p),i({title:"Load Failed",description:"Unable to load form data.",variant:"destructive"}),[]}},c=async(f,p=!1)=>{try{await kw(f,p),i({title:"Deleted",description:"Form deleted successfully."})}catch(g){throw console.error("Delete failed:",g),i({title:"Delete Failed",description:"Unable to delete form.",variant:"destructive"}),g}},d=async()=>{try{return await dR()}catch(f){return console.error("Sync failed:",f),i({title:"Sync Failed",description:"Unable to sync data to cloud storage.",variant:"destructive"}),{success:0,failed:0}}};return{isInitialized:e,capabilities:n,saveForm:a,getForms:l,deleteForm:c,syncData:d,isOnline:s}};function H(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function fR(e,t){const n=h.createContext(t),r=o=>{const{children:i,...a}=o,l=h.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Hr(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];const c=f=>{var v;const{scope:p,children:g,...x}=f,m=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,w=h.useMemo(()=>x,Object.values(x));return u.jsx(m.Provider,{value:w,children:g})};c.displayName=o+"Provider";function d(f,p){var m;const g=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,x=h.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,hR(s,...t)]}function hR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Ge=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},pR=Wd.useId||(()=>{}),mR=0;function Qn(e){const[t,n]=h.useState(pR());return Ge(()=>{n(r=>r??String(mR++))},[e]),t?`radix-${t}`:""}function Jt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Lr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=gR({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=Jt(n),l=h.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else s(c)},[o,e,s,a]);return[i,l]}function gR({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),o=Jt(t);return h.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var vR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],J=vR.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Zn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yR(e,t){e&&ar.flushSync(()=>e.dispatchEvent(t))}function wR(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var xR="DismissableLayer",jd="dismissableLayer.update",bR="dismissableLayer.pointerDownOutside",SR="dismissableLayer.focusOutside",Hm,Pw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wl=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=h.useContext(Pw),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),x=te(t,C=>f(C)),m=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),y=d?m.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,_=ER(C=>{const k=C.target,j=[...c.branches].some(T=>T.contains(k));!S||j||(s==null||s(C),i==null||i(C),C.defaultPrevented||a==null||a())},p),E=kR(C=>{const k=C.target;[...c.branches].some(T=>T.contains(k))||(o==null||o(C),i==null||i(C),C.defaultPrevented||a==null||a())},p);return wR(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Hm=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Wm(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Hm)}},[d,p,n,c]),h.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Wm())},[d,c]),h.useEffect(()=>{const C=()=>g({});return document.addEventListener(jd,C),()=>document.removeEventListener(jd,C)},[]),u.jsx(J.div,{...l,ref:x,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,E.onFocusCapture),onBlurCapture:H(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,_.onPointerDownCapture)})});Wl.displayName=xR;var _R="DismissableLayerBranch",CR=h.forwardRef((e,t)=>{const n=h.useContext(Pw),r=h.useRef(null),s=te(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(J.div,{...e,ref:s})});CR.displayName=_R;function ER(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Nw(bR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kR(e,t=globalThis==null?void 0:globalThis.document){const n=Jt(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&Nw(SR,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wm(){const e=new CustomEvent(jd);document.dispatchEvent(e)}function Nw(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?yR(s,o):s.dispatchEvent(o)}var Zc="focusScope.autoFocusOnMount",eu="focusScope.autoFocusOnUnmount",Km={bubbles:!1,cancelable:!0},PR="FocusScope",Kl=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=h.useState(null),c=Jt(s),d=Jt(o),f=h.useRef(null),p=te(t,m=>l(m)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let m=function(b){if(g.paused||!a)return;const S=b.target;a.contains(S)?f.current=S:kn(f.current,{select:!0})},w=function(b){if(g.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||kn(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&kn(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),y.disconnect()}}},[r,a,g.paused]),h.useEffect(()=>{if(a){Gm.add(g);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Zc,Km);a.addEventListener(Zc,c),a.dispatchEvent(v),v.defaultPrevented||(NR(OR(jw(a)),{select:!0}),document.activeElement===m&&kn(a))}return()=>{a.removeEventListener(Zc,c),setTimeout(()=>{const v=new CustomEvent(eu,Km);a.addEventListener(eu,d),a.dispatchEvent(v),v.defaultPrevented||kn(m??document.body,{select:!0}),a.removeEventListener(eu,d),Gm.remove(g)},0)}}},[a,c,d,g]);const x=h.useCallback(m=>{if(!n&&!r||g.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const y=m.currentTarget,[b,S]=jR(y);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&kn(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&kn(S,{select:!0})):v===y&&m.preventDefault()}},[n,r,g.paused]);return u.jsx(J.div,{tabIndex:-1,...i,ref:p,onKeyDown:x})});Kl.displayName=PR;function NR(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(kn(r,{select:t}),document.activeElement!==n)return}function jR(e){const t=jw(e),n=qm(t,e),r=qm(t.reverse(),e);return[n,r]}function jw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qm(e,t){for(const n of e)if(!RR(n,{upTo:t}))return n}function RR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TR(e){return e instanceof HTMLInputElement&&"select"in e}function kn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&TR(e)&&t&&e.select()}}var Gm=AR();function AR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qm(e,t),e.unshift(t)},remove(t){var n;e=Qm(e,t),(n=e[0])==null||n.resume()}}}function Qm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function OR(e){return e.filter(t=>t.tagName!=="A")}var IR="Portal",ql=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=h.useState(!1);Ge(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Ay.createPortal(u.jsx(J.div,{...r,ref:t}),i):null});ql.displayName=IR;function DR(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var cr=e=>{const{present:t,children:n}=e,r=MR(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=te(r.ref,LR(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};cr.displayName="Presence";function MR(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,l]=DR(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const c=la(r.current);o.current=a==="mounted"?c:"none"},[a]),Ge(()=>{const c=r.current,d=s.current;if(d!==e){const p=o.current,g=la(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Ge(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=g=>{const m=la(r.current).includes(g.animationName);if(g.target===t&&m&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(o.current=la(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function la(e){return(e==null?void 0:e.animationName)||"none"}function LR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tu=0;function lh(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ym()),document.body.insertAdjacentElement("beforeend",e[1]??Ym()),tu++,()=>{tu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tu--}},[])}function Ym(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gt=function(){return Gt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gt.apply(this,arguments)};function Rw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function FR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Na="right-scroll-bar-position",ja="width-before-scroll-bar",$R="with-scroll-bars-hidden",UR="--removed-body-scroll-bar-size";function nu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BR(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var zR=typeof window<"u"?h.useLayoutEffect:h.useEffect,Jm=new WeakMap;function VR(e,t){var n=BR(null,function(r){return e.forEach(function(s){return nu(s,r)})});return zR(function(){var r=Jm.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||nu(a,null)}),o.forEach(function(a){s.has(a)||nu(a,i)})}Jm.set(n,e)},[e]),n}function HR(e){return e}function WR(e,t){t===void 0&&(t=HR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function KR(e){e===void 0&&(e={});var t=WR(null);return t.options=Gt({async:!0,ssr:!1},e),t}var Tw=function(e){var t=e.sideCar,n=Rw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Gt({},n))};Tw.isSideCarExport=!0;function qR(e,t){return e.useMedium(t),Tw}var Aw=KR(),ru=function(){},Gl=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:ru,onWheelCapture:ru,onTouchMoveCapture:ru}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noIsolation,x=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,y=e.gapMode,b=Rw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,_=VR([n,t]),E=Gt(Gt({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:Aw,removeScrollBar:c,shards:f,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:y}),i?h.cloneElement(h.Children.only(a),Gt(Gt({},E),{ref:_})):h.createElement(v,Gt({},E,{className:l,ref:_}),a))});Gl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gl.classNames={fullWidth:ja,zeroRight:Na};var GR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GR();return t&&e.setAttribute("nonce",t),e}function YR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function JR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QR())&&(YR(t,n),JR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZR=function(){var e=XR();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ow=function(){var e=ZR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},eT={left:0,top:0,right:0,gap:0},su=function(e){return parseInt(e||"",10)||0},tT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[su(n),su(r),su(s)]},nT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eT;var t=tT(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},rT=Ow(),ws="data-scroll-locked",sT=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($R,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ws,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Na,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ja,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Na," .").concat(Na,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ja," .").concat(ja,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ws,`] {
    `).concat(UR,": ").concat(a,`px;
  }
`)},Xm=function(){var e=parseInt(document.body.getAttribute(ws)||"0",10);return isFinite(e)?e:0},oT=function(){h.useEffect(function(){return document.body.setAttribute(ws,(Xm()+1).toString()),function(){var e=Xm()-1;e<=0?document.body.removeAttribute(ws):document.body.setAttribute(ws,e.toString())}},[])},iT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;oT();var o=h.useMemo(function(){return nT(s)},[s]);return h.createElement(rT,{styles:sT(o,!t,s,n?"":"!important")})},Rd=!1;if(typeof window<"u")try{var ca=Object.defineProperty({},"passive",{get:function(){return Rd=!0,!0}});window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Rd=!1}var Qr=Rd?{passive:!1}:!1,aT=function(e){return e.tagName==="TEXTAREA"},Iw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!aT(e)&&n[t]==="visible")},lT=function(e){return Iw(e,"overflowY")},cT=function(e){return Iw(e,"overflowX")},Zm=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Dw(e,r);if(s){var o=Mw(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},uT=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},dT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dw=function(e,t){return e==="v"?lT(t):cT(t)},Mw=function(e,t){return e==="v"?uT(t):dT(t)},fT=function(e,t){return e==="h"&&t==="rtl"?-1:1},hT=function(e,t,n,r,s){var o=fT(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,d=i>0,f=0,p=0;do{var g=Mw(e,a),x=g[0],m=g[1],w=g[2],v=m-w-o*x;(x||v)&&Dw(e,a)&&(f+=v,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eg=function(e){return[e.deltaX,e.deltaY]},tg=function(e){return e&&"current"in e?e.current:e},pT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gT=0,Yr=[];function vT(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(gT++)[0],o=h.useState(Ow)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=FR([e.lockRef.current],(e.shards||[]).map(tg),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var v=ua(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-v[0],S="deltaY"in m?m.deltaY:y[1]-v[1],_,E=m.target,C=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&C==="h"&&E.type==="range")return!1;var k=Zm(C,E);if(!k)return!0;if(k?_=C:(_=C==="v"?"h":"v",k=Zm(C,E)),!k)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=_),!_)return!0;var j=r.current||_;return hT(j,w,m,j==="h"?b:S,!0)},[]),l=h.useCallback(function(m){var w=m;if(!(!Yr.length||Yr[Yr.length-1]!==o)){var v="deltaY"in w?eg(w):ua(w),y=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&pT(_.delta,v)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(tg).filter(Boolean).filter(function(_){return _.contains(w.target)}),S=b.length>0?a(w,b[0]):!i.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),c=h.useCallback(function(m,w,v,y){var b={name:m,delta:w,target:v,should:y,shadowParent:yT(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=h.useCallback(function(m){n.current=ua(m),r.current=void 0},[]),f=h.useCallback(function(m){c(m.type,eg(m),m.target,a(m,e.lockRef.current))},[]),p=h.useCallback(function(m){c(m.type,ua(m),m.target,a(m,e.lockRef.current))},[]);h.useEffect(function(){return Yr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Qr),document.addEventListener("touchmove",l,Qr),document.addEventListener("touchstart",d,Qr),function(){Yr=Yr.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Qr),document.removeEventListener("touchmove",l,Qr),document.removeEventListener("touchstart",d,Qr)}},[]);var g=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:mT(s)}):null,g?h.createElement(iT,{gapMode:e.gapMode}):null)}function yT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wT=qR(Aw,vT);var Ql=h.forwardRef(function(e,t){return h.createElement(Gl,Gt({},e,{ref:t,sideCar:wT}))});Ql.classNames=Gl.classNames;var xT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jr=new WeakMap,da=new WeakMap,fa={},ou=0,Lw=function(e){return e&&(e.host||Lw(e.parentNode))},bT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Lw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ST=function(e,t,n,r){var s=bT(t,Array.isArray(e)?e:[e]);fa[n]||(fa[n]=new WeakMap);var o=fa[n],i=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),x=g!==null&&g!=="false",m=(Jr.get(p)||0)+1,w=(o.get(p)||0)+1;Jr.set(p,m),o.set(p,w),i.push(p),m===1&&x&&da.set(p,!0),w===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),a.clear(),ou++,function(){i.forEach(function(f){var p=Jr.get(f)-1,g=o.get(f)-1;Jr.set(f,p),o.set(f,g),p||(da.has(f)||f.removeAttribute(r),da.delete(f)),g||f.removeAttribute(n)}),ou--,ou||(Jr=new WeakMap,Jr=new WeakMap,da=new WeakMap,fa={})}},ch=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=xT(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ST(r,s,n,"aria-hidden")):function(){return null}},uh="Dialog",[Fw,$w]=Hr(uh),[_T,Lt]=Fw(uh),Uw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),l=h.useRef(null),[c=!1,d]=Lr({prop:r,defaultProp:s,onChange:o});return u.jsx(_T,{scope:t,triggerRef:a,contentRef:l,contentId:Qn(),titleId:Qn(),descriptionId:Qn(),open:c,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};Uw.displayName=uh;var Bw="DialogTrigger",zw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(Bw,n),o=te(t,s.triggerRef);return u.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hh(s.open),...r,ref:o,onClick:H(e.onClick,s.onOpenToggle)})});zw.displayName=Bw;var dh="DialogPortal",[CT,Vw]=Fw(dh,{forceMount:void 0}),Hw=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Lt(dh,t);return u.jsx(CT,{scope:t,forceMount:n,children:h.Children.map(r,i=>u.jsx(cr,{present:n||o.open,children:u.jsx(ql,{asChild:!0,container:s,children:i})}))})};Hw.displayName=dh;var ol="DialogOverlay",Ww=h.forwardRef((e,t)=>{const n=Vw(ol,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Lt(ol,e.__scopeDialog);return o.modal?u.jsx(cr,{present:r||o.open,children:u.jsx(ET,{...s,ref:t})}):null});Ww.displayName=ol;var ET=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(ol,n);return u.jsx(Ql,{as:Zn,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(J.div,{"data-state":hh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fr="DialogContent",Kw=h.forwardRef((e,t)=>{const n=Vw(Fr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Lt(Fr,e.__scopeDialog);return u.jsx(cr,{present:r||o.open,children:o.modal?u.jsx(kT,{...s,ref:t}):u.jsx(PT,{...s,ref:t})})});Kw.displayName=Fr;var kT=h.forwardRef((e,t)=>{const n=Lt(Fr,e.__scopeDialog),r=h.useRef(null),s=te(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return ch(o)},[]),u.jsx(qw,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:H(e.onFocusOutside,o=>o.preventDefault())})}),PT=h.forwardRef((e,t)=>{const n=Lt(Fr,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return u.jsx(qw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),qw=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Lt(Fr,n),l=h.useRef(null),c=te(t,l);return lh(),u.jsxs(u.Fragment,{children:[u.jsx(Kl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Wl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hh(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(jT,{titleId:a.titleId}),u.jsx(TT,{contentRef:l,descriptionId:a.descriptionId})]})]})}),fh="DialogTitle",Gw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(fh,n);return u.jsx(J.h2,{id:s.titleId,...r,ref:t})});Gw.displayName=fh;var Qw="DialogDescription",Yw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(Qw,n);return u.jsx(J.p,{id:s.descriptionId,...r,ref:t})});Yw.displayName=Qw;var Jw="DialogClose",Xw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(Jw,n);return u.jsx(J.button,{type:"button",...r,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})});Xw.displayName=Jw;function hh(e){return e?"open":"closed"}var Zw="DialogTitleWarning",[NT,ex]=fR(Zw,{contentName:Fr,titleName:fh,docsSlug:"dialog"}),jT=({titleId:e})=>{const t=ex(Zw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},RT="DialogDescriptionWarning",TT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ex(RT).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tx=Uw,nx=zw,rx=Hw,ph=Ww,mh=Kw,gh=Gw,vh=Yw,yh=Xw;const Yl=tx,AT=nx,OT=rx,sx=h.forwardRef(({className:e,...t},n)=>u.jsx(ph,{ref:n,className:q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sx.displayName=ph.displayName;const Ri=h.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(OT,{children:[u.jsx(sx,{}),u.jsxs(mh,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(yh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Yf,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ri.displayName=mh.displayName;const Ti=({className:e,...t})=>u.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ti.displayName="DialogHeader";const Ai=h.forwardRef(({className:e,...t},n)=>u.jsx(gh,{ref:n,className:q("text-lg font-semibold leading-none tracking-tight",e),...t}));Ai.displayName=gh.displayName;const ox=h.forwardRef(({className:e,...t},n)=>u.jsx(vh,{ref:n,className:q("text-sm text-muted-foreground",e),...t}));ox.displayName=vh.displayName;function wh(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function xh(e){const[t,n]=h.useState(void 0);return Ge(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bh="Checkbox",[IT,j2]=Hr(bh),[DT,MT]=IT(bh),ix=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=e,[p,g]=h.useState(null),x=te(t,S=>g(S)),m=h.useRef(!1),w=p?d||!!p.closest("form"):!0,[v=!1,y]=Lr({prop:s,defaultProp:o,onChange:c}),b=h.useRef(v);return h.useEffect(()=>{const S=p==null?void 0:p.form;if(S){const _=()=>y(b.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[p,y]),u.jsxs(DT,{scope:n,state:v,disabled:a,children:[u.jsx(J.button,{type:"button",role:"checkbox","aria-checked":Yn(v)?"mixed":v,"aria-required":i,"data-state":cx(v),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:x,onKeyDown:H(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:H(e.onClick,S=>{y(_=>Yn(_)?!0:!_),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&u.jsx(LT,{control:p,bubbles:!m.current,name:r,value:l,checked:v,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Yn(o)?!1:o})]})});ix.displayName=bh;var ax="CheckboxIndicator",lx=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=MT(ax,n);return u.jsx(cr,{present:r||Yn(o.state)||o.state===!0,children:u.jsx(J.span,{"data-state":cx(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});lx.displayName=ax;var LT=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...o}=e,i=h.useRef(null),a=wh(n),l=xh(t);h.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&g){const x=new Event("click",{bubbles:r});d.indeterminate=Yn(n),g.call(d,Yn(n)?!1:n),d.dispatchEvent(x)}},[a,n,r]);const c=h.useRef(Yn(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...o,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Yn(e){return e==="indeterminate"}function cx(e){return Yn(e)?"indeterminate":e?"checked":"unchecked"}var ux=ix,FT=lx;const xs=h.forwardRef(({className:e,...t},n)=>u.jsx(ux,{ref:n,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(FT,{className:q("flex items-center justify-center text-current"),children:u.jsx(y0,{className:"h-4 w-4"})})}));xs.displayName=ux.displayName;const $T=["top","right","bottom","left"],er=Math.min,at=Math.max,il=Math.round,ha=Math.floor,tr=e=>({x:e,y:e}),UT={left:"right",right:"left",bottom:"top",top:"bottom"},BT={start:"end",end:"start"};function Td(e,t,n){return at(e,er(t,n))}function mn(e,t){return typeof e=="function"?e(t):e}function gn(e){return e.split("-")[0]}function Zs(e){return e.split("-")[1]}function Sh(e){return e==="x"?"y":"x"}function _h(e){return e==="y"?"height":"width"}function nr(e){return["top","bottom"].includes(gn(e))?"y":"x"}function Ch(e){return Sh(nr(e))}function zT(e,t,n){n===void 0&&(n=!1);const r=Zs(e),s=Ch(e),o=_h(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=al(i)),[i,al(i)]}function VT(e){const t=al(e);return[Ad(e),t,Ad(t)]}function Ad(e){return e.replace(/start|end/g,t=>BT[t])}function HT(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function WT(e,t,n,r){const s=Zs(e);let o=HT(gn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Ad)))),o}function al(e){return e.replace(/left|right|bottom|top/g,t=>UT[t])}function KT(e){return{top:0,right:0,bottom:0,left:0,...e}}function dx(e){return typeof e!="number"?KT(e):{top:e,right:e,bottom:e,left:e}}function ll(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ng(e,t,n){let{reference:r,floating:s}=e;const o=nr(t),i=Ch(t),a=_h(i),l=gn(t),c=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Zs(t)){case"start":g[i]-=p*(n&&c?-1:1);break;case"end":g[i]+=p*(n&&c?-1:1);break}return g}const qT=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=ng(c,r,l),p=r,g={},x=0;for(let m=0;m<a.length;m++){const{name:w,fn:v}=a[m],{x:y,y:b,data:S,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:i,elements:{reference:e,floating:t}});d=y??d,f=b??f,g={...g,[w]:{...g[w],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(c=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=ng(c,p,l)),m=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function mi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=mn(t,e),x=dx(g),w=a[p?f==="floating"?"reference":"floating":f],v=ll(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=ll(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-_.top+x.top)/S.y,bottom:(_.bottom-v.bottom+x.bottom)/S.y,left:(v.left-_.left+x.left)/S.x,right:(_.right-v.right+x.right)/S.x}}const GT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=mn(e,t)||{};if(c==null)return{};const f=dx(d),p={x:n,y:r},g=Ch(s),x=_h(g),m=await i.getDimensions(c),w=g==="y",v=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[x]+o.reference[g]-p[g]-o.floating[x],_=p[g]-o.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let C=E?E[b]:0;(!C||!await(i.isElement==null?void 0:i.isElement(E)))&&(C=a.floating[b]||o.floating[x]);const k=S/2-_/2,j=C/2-m[x]/2-1,T=er(f[v],j),F=er(f[y],j),I=T,U=C-m[x]-F,O=C/2-m[x]/2+k,z=Td(I,O,U),M=!l.arrow&&Zs(s)!=null&&O!==z&&o.reference[x]/2-(O<I?T:F)-m[x]/2<0,V=M?O<I?O-I:O-U:0;return{[g]:p[g]+V,data:{[g]:z,centerOffset:O-z-V,...M&&{alignmentOffset:V}},reset:M}}}),QT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...w}=mn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=gn(s),y=nr(a),b=gn(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=p||(b||!m?[al(a)]:VT(a)),E=x!=="none";!p&&E&&_.push(...WT(a,m,x,S));const C=[a,..._],k=await mi(t,w),j=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&j.push(k[v]),f){const O=zT(s,i,S);j.push(k[O[0]],k[O[1]])}if(T=[...T,{placement:s,overflows:j}],!j.every(O=>O<=0)){var F,I;const O=(((F=o.flip)==null?void 0:F.index)||0)+1,z=C[O];if(z)return{data:{index:O,overflows:T},reset:{placement:z}};let M=(I=T.filter(V=>V.overflows[0]<=0).sort((V,P)=>V.overflows[1]-P.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(g){case"bestFit":{var U;const V=(U=T.filter(P=>{if(E){const A=nr(P.placement);return A===y||A==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(A=>A>0).reduce((A,L)=>A+L,0)]).sort((P,A)=>P[1]-A[1])[0])==null?void 0:U[0];V&&(M=V);break}case"initialPlacement":M=a;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function rg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sg(e){return $T.some(t=>e[t]>=0)}const YT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=mn(e,t);switch(r){case"referenceHidden":{const o=await mi(t,{...s,elementContext:"reference"}),i=rg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:sg(i)}}}case"escaped":{const o=await mi(t,{...s,altBoundary:!0}),i=rg(o,n.floating);return{data:{escapedOffsets:i,escaped:sg(i)}}}default:return{}}}}};async function JT(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=gn(n),a=Zs(n),l=nr(n)==="y",c=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=mn(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const XT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await JT(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},ZT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:w=>{let{x:v,y}=w;return{x:v,y}}},...l}=mn(e,t),c={x:n,y:r},d=await mi(t,l),f=nr(gn(s)),p=Sh(f);let g=c[p],x=c[f];if(o){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=g+d[w],b=g-d[v];g=Td(y,g,b)}if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=x+d[w],b=x-d[v];x=Td(y,x,b)}const m=a.fn({...t,[p]:g,[f]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:o,[f]:i}}}}}},eA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=mn(e,t),d={x:n,y:r},f=nr(s),p=Sh(f);let g=d[p],x=d[f];const m=mn(a,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=p==="y"?"height":"width",S=o.reference[p]-o.floating[b]+w.mainAxis,_=o.reference[p]+o.reference[b]-w.mainAxis;g<S?g=S:g>_&&(g=_)}if(c){var v,y;const b=p==="y"?"width":"height",S=["top","left"].includes(gn(s)),_=o.reference[f]-o.floating[b]+(S&&((v=i.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),E=o.reference[f]+o.reference[b]+(S?0:((y=i.offset)==null?void 0:y[f])||0)-(S?w.crossAxis:0);x<_?x=_:x>E&&(x=E)}return{[p]:g,[f]:x}}}},tA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=mn(e,t),d=await mi(t,c),f=gn(s),p=Zs(s),g=nr(s)==="y",{width:x,height:m}=o.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=x-d.left-d.right,S=er(m-d[w],y),_=er(x-d[v],b),E=!t.middlewareData.shift;let C=S,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),E&&!p){const T=at(d.left,0),F=at(d.right,0),I=at(d.top,0),U=at(d.bottom,0);g?k=x-2*(T!==0||F!==0?T+F:at(d.left,d.right)):C=m-2*(I!==0||U!==0?I+U:at(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:C});const j=await i.getDimensions(a.floating);return x!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function Jl(){return typeof window<"u"}function eo(e){return fx(e)?(e.nodeName||"").toLowerCase():"#document"}function dt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function en(e){var t;return(t=(fx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fx(e){return Jl()?e instanceof Node||e instanceof dt(e).Node:!1}function Dt(e){return Jl()?e instanceof Element||e instanceof dt(e).Element:!1}function Xt(e){return Jl()?e instanceof HTMLElement||e instanceof dt(e).HTMLElement:!1}function og(e){return!Jl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dt(e).ShadowRoot}function Oi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Mt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function nA(e){return["table","td","th"].includes(eo(e))}function Xl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Eh(e){const t=kh(),n=Dt(e)?Mt(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rA(e){let t=rr(e);for(;Xt(t)&&!Us(t);){if(Eh(t))return t;if(Xl(t))return null;t=rr(t)}return null}function kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Us(e){return["html","body","#document"].includes(eo(e))}function Mt(e){return dt(e).getComputedStyle(e)}function Zl(e){return Dt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rr(e){if(eo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||og(e)&&e.host||en(e);return og(t)?t.host:t}function hx(e){const t=rr(e);return Us(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xt(t)&&Oi(t)?t:hx(t)}function gi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=hx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=dt(s);if(o){const a=Od(i);return t.concat(i,i.visualViewport||[],Oi(s)?s:[],a&&n?gi(a):[])}return t.concat(s,gi(s,[],n))}function Od(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function px(e){const t=Mt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Xt(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=il(n)!==o||il(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Ph(e){return Dt(e)?e:e.contextElement}function bs(e){const t=Ph(e);if(!Xt(t))return tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=px(t);let i=(o?il(n.width):n.width)/r,a=(o?il(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const sA=tr(0);function mx(e){const t=dt(e);return!kh()||!t.visualViewport?sA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dt(e)?!1:t}function $r(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ph(e);let i=tr(1);t&&(r?Dt(r)&&(i=bs(r)):i=bs(e));const a=oA(o,n,r)?mx(o):tr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=dt(o),g=r&&Dt(r)?dt(r):r;let x=p,m=Od(x);for(;m&&r&&g!==x;){const w=bs(m),v=m.getBoundingClientRect(),y=Mt(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=b,c+=S,x=dt(m),m=Od(x)}}return ll({width:d,height:f,x:l,y:c})}function iA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=en(r),a=t?Xl(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=tr(1);const d=tr(0),f=Xt(r);if((f||!f&&!o)&&((eo(r)!=="body"||Oi(i))&&(l=Zl(r)),Xt(r))){const p=$r(r);c=bs(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function aA(e){return Array.from(e.getClientRects())}function Id(e,t){const n=Zl(e).scrollLeft;return t?t.left+n:$r(en(e)).left+n}function lA(e){const t=en(e),n=Zl(e),r=e.ownerDocument.body,s=at(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=at(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Id(e);const a=-n.scrollTop;return Mt(r).direction==="rtl"&&(i+=at(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function cA(e,t){const n=dt(e),r=en(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=kh();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}function uA(e,t){const n=$r(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Xt(e)?bs(e):tr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function ig(e,t,n){let r;if(t==="viewport")r=cA(e,n);else if(t==="document")r=lA(en(e));else if(Dt(t))r=uA(t,n);else{const s=mx(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return ll(r)}function gx(e,t){const n=rr(e);return n===t||!Dt(n)||Us(n)?!1:Mt(n).position==="fixed"||gx(n,t)}function dA(e,t){const n=t.get(e);if(n)return n;let r=gi(e,[],!1).filter(a=>Dt(a)&&eo(a)!=="body"),s=null;const o=Mt(e).position==="fixed";let i=o?rr(e):e;for(;Dt(i)&&!Us(i);){const a=Mt(i),l=Eh(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Oi(i)&&!l&&gx(e,i))?r=r.filter(d=>d!==i):s=a,i=rr(i)}return t.set(e,r),r}function fA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Xl(t)?[]:dA(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const f=ig(t,d,s);return c.top=at(f.top,c.top),c.right=er(f.right,c.right),c.bottom=er(f.bottom,c.bottom),c.left=at(f.left,c.left),c},ig(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function hA(e){const{width:t,height:n}=px(e);return{width:t,height:n}}function pA(e,t,n){const r=Xt(t),s=en(t),o=n==="fixed",i=$r(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=tr(0);if(r||!r&&!o)if((eo(t)!=="body"||Oi(s))&&(a=Zl(t)),r){const g=$r(t,!0,o,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&(l.x=Id(s));let c=0,d=0;if(s&&!r&&!o){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Id(s,g)}const f=i.left+a.scrollLeft-l.x-c,p=i.top+a.scrollTop-l.y-d;return{x:f,y:p,width:i.width,height:i.height}}function iu(e){return Mt(e).position==="static"}function ag(e,t){if(!Xt(e)||Mt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return en(e)===n&&(n=n.ownerDocument.body),n}function vx(e,t){const n=dt(e);if(Xl(e))return n;if(!Xt(e)){let s=rr(e);for(;s&&!Us(s);){if(Dt(s)&&!iu(s))return s;s=rr(s)}return n}let r=ag(e,t);for(;r&&nA(r)&&iu(r);)r=ag(r,t);return r&&Us(r)&&iu(r)&&!Eh(r)?n:r||rA(e)||n}const mA=async function(e){const t=this.getOffsetParent||vx,n=this.getDimensions,r=await n(e.floating);return{reference:pA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gA(e){return Mt(e).direction==="rtl"}const vA={convertOffsetParentRelativeRectToViewportRelativeRect:iA,getDocumentElement:en,getClippingRect:fA,getOffsetParent:vx,getElementRects:mA,getClientRects:aA,getDimensions:hA,getScale:bs,isElement:Dt,isRTL:gA};function yA(e,t){let n=null,r;const s=en(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const g=ha(d),x=ha(s.clientWidth-(c+f)),m=ha(s.clientHeight-(d+p)),w=ha(c),y={rootMargin:-g+"px "+-x+"px "+-m+"px "+-w+"px",threshold:at(0,er(1,l))||1};let b=!0;function S(_){const E=_[0].intersectionRatio;if(E!==l){if(!b)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return i(!0),o}function wA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ph(e),d=s||o?[...c?gi(c):[],...gi(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=c&&a?yA(c,n):null;let p=-1,g=null;i&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let x,m=l?$r(e):null;l&&w();function w(){const v=$r(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,x=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const xA=XT,bA=ZT,SA=QT,_A=tA,CA=YT,lg=GT,EA=eA,kA=(e,t,n)=>{const r=new Map,s={platform:vA,...n},o={...s.platform,_c:r};return qT(e,t,{...s,platform:o})};var Ra=typeof document<"u"?h.useLayoutEffect:h.useEffect;function cl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!cl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function yx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cg(e,t){const n=yx(e);return Math.round(t*n)/n}function au(e){const t=h.useRef(e);return Ra(()=>{t.current=e}),t}function PA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(r);cl(p,r)||g(r);const[x,m]=h.useState(null),[w,v]=h.useState(null),y=h.useCallback(P=>{P!==E.current&&(E.current=P,m(P))},[]),b=h.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),S=o||x,_=i||w,E=h.useRef(null),C=h.useRef(null),k=h.useRef(d),j=l!=null,T=au(l),F=au(s),I=au(c),U=h.useCallback(()=>{if(!E.current||!C.current)return;const P={placement:t,strategy:n,middleware:p};F.current&&(P.platform=F.current),kA(E.current,C.current,P).then(A=>{const L={...A,isPositioned:I.current!==!1};O.current&&!cl(k.current,L)&&(k.current=L,ar.flushSync(()=>{f(L)}))})},[p,t,n,F,I]);Ra(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[c]);const O=h.useRef(!1);Ra(()=>(O.current=!0,()=>{O.current=!1}),[]),Ra(()=>{if(S&&(E.current=S),_&&(C.current=_),S&&_){if(T.current)return T.current(S,_,U);U()}},[S,_,U,T,j]);const z=h.useMemo(()=>({reference:E,floating:C,setReference:y,setFloating:b}),[y,b]),M=h.useMemo(()=>({reference:S,floating:_}),[S,_]),V=h.useMemo(()=>{const P={position:n,left:0,top:0};if(!M.floating)return P;const A=cg(M.floating,d.x),L=cg(M.floating,d.y);return a?{...P,transform:"translate("+A+"px, "+L+"px)",...yx(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:L}},[n,a,M.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:U,refs:z,elements:M,floatingStyles:V}),[d,U,z,M,V])}const NA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?lg({element:r.current,padding:s}).fn(n):{}:r?lg({element:r,padding:s}).fn(n):{}}}},jA=(e,t)=>({...xA(e),options:[e,t]}),RA=(e,t)=>({...bA(e),options:[e,t]}),TA=(e,t)=>({...EA(e),options:[e,t]}),AA=(e,t)=>({...SA(e),options:[e,t]}),OA=(e,t)=>({..._A(e),options:[e,t]}),IA=(e,t)=>({...CA(e),options:[e,t]}),DA=(e,t)=>({...NA(e),options:[e,t]});var MA="Arrow",wx=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return u.jsx(J.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});wx.displayName=MA;var LA=wx;function FA(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][l])||a,w=h.useMemo(()=>x,Object.values(x));return u.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][l])||a,x=h.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,$A(s,...t)]}function $A(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Nh="Popper",[xx,ec]=FA(Nh),[UA,bx]=xx(Nh),Sx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return u.jsx(UA,{scope:t,anchor:r,onAnchorChange:s,children:n})};Sx.displayName=Nh;var _x="PopperAnchor",Cx=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=bx(_x,n),i=h.useRef(null),a=te(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:u.jsx(J.div,{...s,ref:a})});Cx.displayName=_x;var jh="PopperContent",[BA,zA]=xx(jh),Ex=h.forwardRef((e,t)=>{var $,ce,Ae,ie,re,se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...m}=e,w=bx(jh,n),[v,y]=h.useState(null),b=te(t,st=>y(st)),[S,_]=h.useState(null),E=xh(S),C=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,j=r+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(c)?c:[c],I=F.length>0,U={padding:T,boundary:F.filter(HA),altBoundary:I},{refs:O,floatingStyles:z,placement:M,isPositioned:V,middlewareData:P}=PA({strategy:"fixed",placement:j,whileElementsMounted:(...st)=>wA(...st,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[jA({mainAxis:s+k,alignmentAxis:i}),l&&RA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?TA():void 0,...U}),l&&AA({...U}),OA({...U,apply:({elements:st,rects:$t,availableWidth:no,availableHeight:ro})=>{const{width:so,height:NS}=$t.reference,Mi=st.floating.style;Mi.setProperty("--radix-popper-available-width",`${no}px`),Mi.setProperty("--radix-popper-available-height",`${ro}px`),Mi.setProperty("--radix-popper-anchor-width",`${so}px`),Mi.setProperty("--radix-popper-anchor-height",`${NS}px`)}}),S&&DA({element:S,padding:a}),WA({arrowWidth:C,arrowHeight:k}),p&&IA({strategy:"referenceHidden",...U})]}),[A,L]=Nx(M),B=Jt(x);Ge(()=>{V&&(B==null||B())},[V,B]);const ne=($=P.arrow)==null?void 0:$.x,Ue=(ce=P.arrow)==null?void 0:ce.y,be=((Ae=P.arrow)==null?void 0:Ae.centerOffset)!==0,[Ft,Be]=h.useState();return Ge(()=>{v&&Be(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ft,"--radix-popper-transform-origin":[(ie=P.transformOrigin)==null?void 0:ie.x,(re=P.transformOrigin)==null?void 0:re.y].join(" "),...((se=P.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(BA,{scope:n,placedSide:A,onArrowChange:_,arrowX:ne,arrowY:Ue,shouldHideArrow:be,children:u.jsx(J.div,{"data-side":A,"data-align":L,...m,ref:b,style:{...m.style,animation:V?void 0:"none"}})})})});Ex.displayName=jh;var kx="PopperArrow",VA={top:"bottom",right:"left",bottom:"top",left:"right"},Px=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=zA(kx,r),i=VA[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(LA,{...s,ref:n,style:{...s.style,display:"block"}})})});Px.displayName=kx;function HA(e){return e!==null}var WA=e=>({name:"transformOrigin",options:e,fn(t){var w,v,y;const{placement:n,rects:r,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=Nx(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",m="";return c==="bottom"?(x=i?f:`${p}px`,m=`${-l}px`):c==="top"?(x=i?f:`${p}px`,m=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,m=i?f:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,m=i?f:`${g}px`),{data:{x,y:m}}}});function Nx(e){const[t,n="center"]=e.split("-");return[t,n]}var jx=Sx,Rh=Cx,Rx=Ex,Tx=Px,Th="Popover",[Ax,R2]=Hr(Th,[ec]),Ii=ec(),[KA,ur]=Ax(Th),Ox=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Ii(t),l=h.useRef(null),[c,d]=h.useState(!1),[f=!1,p]=Lr({prop:r,defaultProp:s,onChange:o});return u.jsx(jx,{...a,children:u.jsx(KA,{scope:t,contentId:Qn(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:h.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:n})})};Ox.displayName=Th;var Ix="PopoverAnchor",qA=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ur(Ix,n),o=Ii(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return h.useEffect(()=>(i(),()=>a()),[i,a]),u.jsx(Rh,{...o,...r,ref:t})});qA.displayName=Ix;var Dx="PopoverTrigger",Mx=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ur(Dx,n),o=Ii(n),i=te(t,s.triggerRef),a=u.jsx(J.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Bx(s.open),...r,ref:i,onClick:H(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(Rh,{asChild:!0,...o,children:a})});Mx.displayName=Dx;var Ah="PopoverPortal",[GA,QA]=Ax(Ah,{forceMount:void 0}),Lx=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=ur(Ah,t);return u.jsx(GA,{scope:t,forceMount:n,children:u.jsx(cr,{present:n||o.open,children:u.jsx(ql,{asChild:!0,container:s,children:r})})})};Lx.displayName=Ah;var Bs="PopoverContent",Fx=h.forwardRef((e,t)=>{const n=QA(Bs,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=ur(Bs,e.__scopePopover);return u.jsx(cr,{present:r||o.open,children:o.modal?u.jsx(YA,{...s,ref:t}):u.jsx(JA,{...s,ref:t})})});Fx.displayName=Bs;var YA=h.forwardRef((e,t)=>{const n=ur(Bs,e.__scopePopover),r=h.useRef(null),s=te(t,r),o=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return ch(i)},[]),u.jsx(Ql,{as:Zn,allowPinchZoom:!0,children:u.jsx($x,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:H(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),JA=h.forwardRef((e,t)=>{const n=ur(Bs,e.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return u.jsx($x,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),$x=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,p=ur(Bs,n),g=Ii(n);return lh(),u.jsx(Kl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:u.jsx(Rx,{"data-state":Bx(p.open),role:"dialog",id:p.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ux="PopoverClose",XA=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ur(Ux,n);return u.jsx(J.button,{type:"button",...r,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})});XA.displayName=Ux;var ZA="PopoverArrow",eO=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ii(n);return u.jsx(Tx,{...s,...r,ref:t})});eO.displayName=ZA;function Bx(e){return e?"open":"closed"}var tO=Ox,nO=Mx,rO=Lx,zx=Fx;const sO=tO,oO=nO,Vx=h.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>u.jsx(rO,{children:u.jsx(zx,{ref:s,align:t,sideOffset:n,className:q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Vx.displayName=zx.displayName;const Hx=({currentRegion:e,onRegionSelect:t,isFromDraft:n=!1,isDetected:r=!1})=>{if(!e)return null;const s=()=>n?"bg-purple-100 text-purple-800":r?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",o=()=>n?"From Draft":r?"Auto-detected":"Manual";return u.jsxs(sO,{children:[u.jsx(oO,{asChild:!0,children:u.jsxs(Ce,{variant:"ghost",size:"sm",className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s()} hover:opacity-80 transition-opacity cursor-pointer`,children:[u.jsx(Tl,{className:"w-3 h-3 mr-1"}),e.code," - ",e.name,u.jsx(Wf,{className:"w-3 h-3 ml-1"})]})}),u.jsxs(Vx,{className:"w-80 p-0",align:"start",children:[u.jsxs("div",{className:"p-3 border-b bg-gray-50",children:[u.jsx("h4",{className:"font-medium text-sm text-gray-900",children:"Select Region & Doctor"}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",o()]})]}),u.jsx("div",{className:"p-3 space-y-2",children:Object.values(Ke).map(i=>u.jsxs("button",{onClick:()=>t(i),className:`w-full text-left p-3 rounded-lg border transition-colors ${e.code===i.code?"border-[#ef4805] bg-orange-50 text-[#ef4805]":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[u.jsx("div",{className:"font-medium text-sm",children:i.name}),u.jsx("div",{className:"text-sm text-gray-600",children:i.doctor}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Practice: ",i.practiceNumber]})]},i.code))})]})]})},iO=({draft:e,onDelete:t,onDoctorChange:n,formatDate:r,getDoctorOptions:s,onContinue:o,isSelected:i=!1,onToggleSelection:a,showCheckbox:l=!1})=>{const c=()=>{const x=s(),m=x.find(v=>v.code===e.regionCode)||x[0],w={...e,regionCode:m.code,region:m.name,doctor:m.doctor};window.location.href=`/consent-form?draft=${encodeURIComponent(JSON.stringify(w))}`,o()},d=x=>{a==null||a()},f=x=>{x.stopPropagation()},p=x=>{n(e,x.code)},g=()=>{const x=s(),m=x.find(w=>w.code===e.regionCode)||x[0];return{code:e.regionCode||(m==null?void 0:m.code)||"PTA",name:e.region||(m==null?void 0:m.name)||"Pretoria",doctor:(m==null?void 0:m.doctor)||"Dr. Unknown",practiceNumber:"0123456"}};return u.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all hover:shadow-md ${i?"border-[#ef4805] bg-orange-50":"border-gray-200 hover:border-gray-300"}`,onClick:c,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[l&&u.jsx(xs,{checked:i,onCheckedChange:d,onClick:f,className:"mt-1 h-4 w-4"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(NE,{className:"w-4 h-4 text-gray-500"}),u.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.patientName||"Unnamed Patient"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_E,{className:"w-3 h-3"}),u.jsxs("span",{children:["Last saved: ",r(e.lastModified||e.timestamp)]})]}),e.regionCode&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Tl,{className:"w-3 h-3"}),u.jsxs("span",{children:["Region: ",e.regionCode]})]})]}),(e.idNumber||e.cellPhone)&&u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e.idNumber&&u.jsxs("span",{children:["ID: ",e.idNumber]}),e.idNumber&&e.cellPhone&&u.jsx("span",{children:"  "}),e.cellPhone&&u.jsxs("span",{children:["Phone: ",e.cellPhone]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx(Hx,{currentRegion:g(),onRegionSelect:p}),u.jsx(Ce,{variant:"outline",size:"sm",onClick:x=>t(e.id,x),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:u.jsx(_0,{className:"w-4 h-4"})})]})]})})};var Wx="AlertDialog",[aO,T2]=Hr(Wx,[$w]),wn=$w(),Kx=e=>{const{__scopeAlertDialog:t,...n}=e,r=wn(t);return u.jsx(tx,{...r,...n,modal:!0})};Kx.displayName=Wx;var lO="AlertDialogTrigger",qx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=wn(n);return u.jsx(nx,{...s,...r,ref:t})});qx.displayName=lO;var cO="AlertDialogPortal",Gx=e=>{const{__scopeAlertDialog:t,...n}=e,r=wn(t);return u.jsx(rx,{...r,...n})};Gx.displayName=cO;var uO="AlertDialogOverlay",Qx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=wn(n);return u.jsx(ph,{...s,...r,ref:t})});Qx.displayName=uO;var Ss="AlertDialogContent",[dO,fO]=aO(Ss),Yx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=wn(n),i=h.useRef(null),a=te(t,i),l=h.useRef(null);return u.jsx(NT,{contentName:Ss,titleName:Jx,docsSlug:"alert-dialog",children:u.jsx(dO,{scope:n,cancelRef:l,children:u.jsxs(mh,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:H(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(K0,{children:r}),u.jsx(pO,{contentRef:i})]})})})});Yx.displayName=Ss;var Jx="AlertDialogTitle",Xx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=wn(n);return u.jsx(gh,{...s,...r,ref:t})});Xx.displayName=Jx;var Zx="AlertDialogDescription",eb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=wn(n);return u.jsx(vh,{...s,...r,ref:t})});eb.displayName=Zx;var hO="AlertDialogAction",tb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=wn(n);return u.jsx(yh,{...s,...r,ref:t})});tb.displayName=hO;var nb="AlertDialogCancel",rb=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=fO(nb,n),o=wn(n),i=te(t,s);return u.jsx(yh,{...o,...r,ref:i})});rb.displayName=nb;var pO=({contentRef:e})=>{const t=`\`${Ss}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ss}\` by passing a \`${Zx}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ss}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mO=Kx,gO=qx,vO=Gx,sb=Qx,ob=Yx,ib=tb,ab=rb,lb=Xx,cb=eb;const Oh=mO,Ih=gO,yO=vO,ub=h.forwardRef(({className:e,...t},n)=>u.jsx(sb,{className:q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ub.displayName=sb.displayName;const tc=h.forwardRef(({className:e,...t},n)=>u.jsxs(yO,{children:[u.jsx(ub,{}),u.jsx(ob,{ref:n,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));tc.displayName=ob.displayName;const nc=({className:e,...t})=>u.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",e),...t});nc.displayName="AlertDialogHeader";const rc=({className:e,...t})=>u.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rc.displayName="AlertDialogFooter";const sc=h.forwardRef(({className:e,...t},n)=>u.jsx(lb,{ref:n,className:q("text-lg font-semibold",e),...t}));sc.displayName=lb.displayName;const oc=h.forwardRef(({className:e,...t},n)=>u.jsx(cb,{ref:n,className:q("text-sm text-muted-foreground",e),...t}));oc.displayName=cb.displayName;const ic=h.forwardRef(({className:e,...t},n)=>u.jsx(ib,{ref:n,className:q(Zf(),e),...t}));ic.displayName=ib.displayName;const ac=h.forwardRef(({className:e,...t},n)=>u.jsx(ab,{ref:n,className:q(Zf({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ac.displayName=ab.displayName;const wO=({totalDrafts:e,selectedCount:t,isSelectAll:n,onToggleSelectAll:r,onBulkDelete:s,isBulkDeleting:o,onClearSelection:i})=>e===0?null:u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(xs,{id:"select-all",checked:n||t===e,onCheckedChange:r,className:"h-4 w-4"}),u.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select All (",e,")"]}),t>0&&u.jsxs("span",{className:"text-sm text-gray-500",children:[t," selected"]})]}),t>0&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ce,{variant:"outline",size:"sm",onClick:i,disabled:o,children:"Clear Selection"}),u.jsxs(Oh,{children:[u.jsx(Ih,{asChild:!0,children:u.jsxs(Ce,{variant:"destructive",size:"sm",disabled:o,className:"flex items-center space-x-1",children:[u.jsx(_0,{className:"w-4 h-4"}),u.jsxs("span",{children:["Delete ",t," Selected"]})]})}),u.jsxs(tc,{children:[u.jsxs(nc,{children:[u.jsx(sc,{children:"Delete Selected Drafts"}),u.jsxs(oc,{children:["Are you sure you want to delete ",t," selected draft",t!==1?"s":"","? This action cannot be undone."]})]}),u.jsxs(rc,{children:[u.jsx(ac,{children:"Cancel"}),u.jsx(ic,{onClick:s,className:"bg-red-600 hover:bg-red-700",children:o?"Deleting...":"Delete Selected"})]})]})]})]})]}),xO=()=>{const[e,t]=h.useState(new Set),[n,r]=h.useState(!1);return _t(),{selectedDrafts:e,isSelectAll:n,toggleDraftSelection:c=>{const d=new Set(e);d.has(c)?d.delete(c):d.add(c),t(d),r(!1)},toggleSelectAll:c=>{n||e.size===c.length?(t(new Set),r(!1)):(t(new Set(c)),r(!0))},clearSelection:()=>{t(new Set),r(!1)},getSelectedCount:()=>e.size,getSelectedDrafts:()=>Array.from(e)}},bO=({drafts:e,isLoading:t,error:n,onRetry:r,onDeleteDraft:s,onBulkDeleteDrafts:o,onDoctorChange:i,formatDate:a,getDoctorOptions:l,onContinue:c,isBulkDeleting:d})=>{const{selectedDrafts:f,isSelectAll:p,toggleDraftSelection:g,toggleSelectAll:x,clearSelection:m,getSelectedCount:w,getSelectedDrafts:v}=xO();if(t)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin w-8 h-8 mx-auto border-4 border-gray-300 border-t-[#ef4805] rounded-full mb-4"}),u.jsx("p",{className:"text-gray-500",children:"Loading your saved forms..."})]});if(n&&!t)return u.jsxs("div",{className:"text-center py-12 text-red-500",children:[u.jsx(Kf,{className:"w-16 h-16 mx-auto mb-4 text-red-400"}),u.jsx("h3",{className:"text-lg font-medium text-red-500 mb-2",children:"Error Loading Drafts"}),u.jsx("p",{children:n}),u.jsx(Ce,{onClick:r,variant:"outline",className:"mt-4",children:"Try Again"})]});if(!t&&!n&&e.length===0)return u.jsxs("div",{className:"text-center py-12 text-gray-500",children:[u.jsx(x0,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Saved Forms"}),u.jsx("p",{className:"text-gray-500",children:"You don't have any unfinished forms yet."}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Start a new form and it will be automatically saved as you progress."})]});const y=()=>{const S=v();o(S),m()},b=e.map(S=>S.id);return u.jsxs("div",{className:"space-y-4",children:[u.jsx(wO,{totalDrafts:e.length,selectedCount:w(),isSelectAll:p,onToggleSelectAll:()=>x(b),onBulkDelete:y,isBulkDeleting:d,onClearSelection:m}),u.jsx("div",{className:"px-4",children:u.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Found ",e.length," unfinished form",e.length!==1?"s":"",". Click on any form to continue where you left off."]})}),u.jsx("div",{className:"space-y-2",children:e.map(S=>u.jsx(iO,{draft:S,onDelete:s,onDoctorChange:i,formatDate:a,getDoctorOptions:l,onContinue:c,isSelected:f.has(S.id),onToggleSelection:()=>g(S.id),showCheckbox:!0},S.id))})]})},SO=async()=>{try{if(["emergencyFormDraft","formSession"].forEach(t=>localStorage.removeItem(t)),"caches"in window){const n=(await caches.keys()).filter(r=>r.includes("form")||r.includes("mia-consent"));await Promise.all(n.map(r=>caches.delete(r)))}console.log("Form caches cleared")}catch(e){console.error("Error clearing form caches:",e)}},_O=async()=>{try{const{initDB:e}=await Ys(async()=>{const{initDB:t}=await Promise.resolve().then(()=>NP);return{initDB:t}},void 0);await e(),console.log("IndexedDB connection refreshed")}catch(e){console.error("Error refreshing IndexedDB:",e)}},CO=()=>{try{if(!window.indexedDB)return!0;try{localStorage.setItem("test","test"),localStorage.removeItem("test")}catch{return!0}return!1}catch{return!0}},db=({onRefresh:e,variant:t="outline",size:n="sm"})=>{const[r,s]=h.useState(!1),{toast:o}=_t(),i=async()=>{s(!0);try{await SO(),await _O(),e&&e(),o({title:"Cache Refreshed",description:"Form data cache has been refreshed successfully."})}catch(l){console.error("Cache refresh failed:",l),o({title:"Refresh Failed",description:"Unable to refresh cache. Try reloading the page.",variant:"destructive"})}finally{s(!1)}},a=CO();return u.jsxs(Oh,{children:[u.jsx(Ih,{asChild:!0,children:u.jsx(Ce,{variant:t,size:n,className:a?"text-amber-600 border-amber-300":"",children:r?u.jsx(ii,{className:"w-4 h-4 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),a&&u.jsx(nl,{className:"w-3 h-3 ml-1 text-amber-500"}),"Refresh Cache"]})})}),u.jsxs(tc,{children:[u.jsxs(nc,{children:[u.jsx(sc,{children:"Refresh Form Cache"}),u.jsxs(oc,{children:["This will clear temporary form data cache and refresh the connection to local storage. Any unsaved form progress will be preserved, but the app may reload to ensure proper functionality.",a&&u.jsxs("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded text-amber-800 text-sm",children:[u.jsx(nl,{className:"w-4 h-4 inline mr-1"}),"Cache issues detected - refresh recommended"]})]})]}),u.jsxs(rc,{children:[u.jsx(ac,{children:"Cancel"}),u.jsx(ic,{onClick:i,disabled:r,children:r?"Refreshing...":"Refresh Cache"})]})]})]})},EO=e=>{const[t,n]=h.useState([]),[r,s]=h.useState(!1),[o,i]=h.useState(null),[a,l]=h.useState(!1),{toast:c}=_t(),{getForms:d,deleteForm:f,isInitialized:p}=yn();h.useEffect(()=>{e&&p&&g()},[e,p]);const g=async()=>{s(!0),i(null);try{const b=await d(!0);n(b),console.log("Loaded drafts:",b.length)}catch(b){console.error("Failed to load drafts:",b),i("Could not load saved forms. Please try again."),c({title:"Error Loading Drafts",description:"Could not load your saved forms",variant:"destructive"})}finally{s(!1)}},x=async(b,S)=>{S.preventDefault(),S.stopPropagation();try{await f(b,!0),c({title:"Draft Deleted",description:"Form draft was successfully removed"}),await g()}catch(_){console.error("Failed to delete draft:",_),c({title:"Delete Failed",description:"Could not delete the draft. Please try again.",variant:"destructive"})}},m=async b=>{if(b.length!==0){l(!0);try{await uR(b,!0),c({title:"Drafts Deleted",description:`Successfully deleted ${b.length} draft${b.length!==1?"s":""}`}),await g()}catch(S){console.error("Failed to bulk delete drafts:",S),c({title:"Bulk Delete Failed",description:"Could not delete some drafts. Please try again.",variant:"destructive"})}finally{l(!1)}}},w=b=>new Date(b).toLocaleDateString("en-ZA",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),v=()=>[{code:"CPT",name:"Cape Town",doctor:"Dr. Soni"},{code:"PTA",name:"Pretoria",doctor:"Dr. Vorster"},{code:"JHB",name:"Johannesburg",doctor:"Dr. Essop"}];return{drafts:t,isLoading:r,error:o,isBulkDeleting:a,loadDrafts:g,handleDeleteDraft:x,handleBulkDeleteDrafts:m,handleDoctorChange:(b,S)=>{const E=v().find(C=>C.code===S);if(E){const C={...b,regionCode:E.code,region:E.name,doctor:E.doctor};window.location.href=`/consent-form?draft=${encodeURIComponent(JSON.stringify(C))}`}},formatDate:w,getDoctorOptions:v}},kO=({onDraftsChanged:e})=>{const[t,n]=h.useState(!1),{drafts:r,isLoading:s,error:o,isBulkDeleting:i,loadDrafts:a,handleDeleteDraft:l,handleBulkDeleteDrafts:c,handleDoctorChange:d,formatDate:f,getDoctorOptions:p}=EO(t),g=()=>{n(!1)},x=async(y,b)=>{await l(y,b),e&&e()},m=async y=>{await c(y),e&&e()},w=y=>{n(y),!y&&e&&e()},v=async()=>{await a(),e&&e()};return u.jsxs(Yl,{open:t,onOpenChange:w,children:[u.jsx(AT,{asChild:!0,children:u.jsxs(Ce,{variant:"outline",size:"lg",className:"inline-flex items-center px-6 py-3 bg-white text-[#ef4805] font-semibold rounded-lg border-2 border-[#ef4805] hover:bg-orange-50 transition-colors",children:[u.jsx(qf,{className:"w-5 h-5 mr-2"}),"Resume Draft"]})}),u.jsxs(Ri,{className:"max-w-4xl max-h-[80vh]",children:[u.jsx(Ti,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ai,{className:"text-xl font-bold text-gray-900",children:"Resume a Saved Form"}),u.jsx(ox,{className:"text-sm text-gray-500",children:"Select a previously saved form to continue where you left off, or use bulk actions to manage multiple drafts"})]}),u.jsx(db,{onRefresh:v,size:"sm"})]})}),u.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:u.jsx(bO,{drafts:r,isLoading:s,error:o,onRetry:a,onDeleteDraft:x,onBulkDeleteDrafts:m,onDoctorChange:d,formatDate:f,getDoctorOptions:p,onContinue:g,isBulkDeleting:i})})]})]})};function ug(e,[t,n]){return Math.min(n,Math.max(t,e))}function PO(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][l])||a,w=h.useMemo(()=>x,Object.values(x));return u.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][l])||a,x=h.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,NO(s,...t)]}function NO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function fb(e){const t=e+"CollectionProvider",[n,r]=PO(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:m}=g,w=Le.useRef(null),v=Le.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:v,collectionRef:w,children:m})};i.displayName=t;const a=e+"CollectionSlot",l=Le.forwardRef((g,x)=>{const{scope:m,children:w}=g,v=o(a,m),y=te(x,v.collectionRef);return u.jsx(Zn,{ref:y,children:w})});l.displayName=a;const c=e+"CollectionItemSlot",d="data-radix-collection-item",f=Le.forwardRef((g,x)=>{const{scope:m,children:w,...v}=g,y=Le.useRef(null),b=te(x,y),S=o(c,m);return Le.useEffect(()=>(S.itemMap.set(y,{ref:y,...v}),()=>void S.itemMap.delete(y))),u.jsx(Zn,{[d]:"",ref:b,children:w})});f.displayName=c;function p(g){const x=o(e+"CollectionConsumer",g);return Le.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},p,r]}var jO=h.createContext(void 0);function Dh(e){const t=h.useContext(jO);return e||t||"ltr"}var RO="VisuallyHidden",hb=h.forwardRef((e,t)=>u.jsx(J.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hb.displayName=RO;var TO=[" ","Enter","ArrowUp","ArrowDown"],AO=[" ","Enter"],Di="Select",[lc,cc,OO]=fb(Di),[to,A2]=Hr(Di,[OO,ec]),uc=ec(),[IO,dr]=to(Di),[DO,MO]=to(Di),pb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:x}=e,m=uc(t),[w,v]=h.useState(null),[y,b]=h.useState(null),[S,_]=h.useState(!1),E=Dh(c),[C=!1,k]=Lr({prop:r,defaultProp:s,onChange:o}),[j,T]=Lr({prop:i,defaultProp:a,onChange:l}),F=h.useRef(null),I=w?x||!!w.closest("form"):!0,[U,O]=h.useState(new Set),z=Array.from(U).map(M=>M.props.value).join(";");return u.jsx(jx,{...m,children:u.jsxs(IO,{required:g,scope:t,trigger:w,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Qn(),value:j,onValueChange:T,open:C,onOpenChange:k,dir:E,triggerPointerDownPosRef:F,disabled:p,children:[u.jsx(lc.Provider,{scope:t,children:u.jsx(DO,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(M=>{O(V=>new Set(V).add(M))},[]),onNativeOptionRemove:h.useCallback(M=>{O(V=>{const P=new Set(V);return P.delete(M),P})},[]),children:n})}),I?u.jsxs($b,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:M=>T(M.target.value),disabled:p,form:x,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};pb.displayName=Di;var mb="SelectTrigger",gb=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=uc(n),i=dr(mb,n),a=i.disabled||r,l=te(t,i.onTriggerChange),c=cc(n),d=h.useRef("touch"),[f,p,g]=Ub(m=>{const w=c().filter(b=>!b.disabled),v=w.find(b=>b.value===i.value),y=Bb(w,m,v);y!==void 0&&i.onValueChange(y.value)}),x=m=>{a||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(Rh,{asChild:!0,...o,children:u.jsx(J.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Fb(i.value)?"":void 0,...s,ref:l,onClick:H(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:H(s.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:H(s.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(w&&m.key===" ")&&TO.includes(m.key)&&(x(),m.preventDefault())})})})});gb.displayName=mb;var vb="SelectValue",yb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=dr(vb,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=te(t,l.onValueNodeChange);return Ge(()=>{c(d)},[c,d]),u.jsx(J.span,{...a,ref:f,style:{pointerEvents:"none"},children:Fb(l.value)?u.jsx(u.Fragment,{children:i}):o})});yb.displayName=vb;var LO="SelectIcon",wb=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(J.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});wb.displayName=LO;var FO="SelectPortal",xb=e=>u.jsx(ql,{asChild:!0,...e});xb.displayName=FO;var Ur="SelectContent",bb=h.forwardRef((e,t)=>{const n=dr(Ur,e.__scopeSelect),[r,s]=h.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ar.createPortal(u.jsx(Sb,{scope:e.__scopeSelect,children:u.jsx(lc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(_b,{...e,ref:t})});bb.displayName=Ur;var Et=10,[Sb,fr]=to(Ur),$O="SelectContentImpl",_b=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:w,...v}=e,y=dr(Ur,n),[b,S]=h.useState(null),[_,E]=h.useState(null),C=te(t,$=>S($)),[k,j]=h.useState(null),[T,F]=h.useState(null),I=cc(n),[U,O]=h.useState(!1),z=h.useRef(!1);h.useEffect(()=>{if(b)return ch(b)},[b]),lh();const M=h.useCallback($=>{const[ce,...Ae]=I().map(se=>se.ref.current),[ie]=Ae.slice(-1),re=document.activeElement;for(const se of $)if(se===re||(se==null||se.scrollIntoView({block:"nearest"}),se===ce&&_&&(_.scrollTop=0),se===ie&&_&&(_.scrollTop=_.scrollHeight),se==null||se.focus(),document.activeElement!==re))return},[I,_]),V=h.useCallback(()=>M([k,b]),[M,k,b]);h.useEffect(()=>{U&&V()},[U,V]);const{onOpenChange:P,triggerPointerDownPosRef:A}=y;h.useEffect(()=>{if(b){let $={x:0,y:0};const ce=ie=>{var re,se;$={x:Math.abs(Math.round(ie.pageX)-(((re=A.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((se=A.current)==null?void 0:se.y)??0))}},Ae=ie=>{$.x<=10&&$.y<=10?ie.preventDefault():b.contains(ie.target)||P(!1),document.removeEventListener("pointermove",ce),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,P,A]),h.useEffect(()=>{const $=()=>P(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[P]);const[L,B]=Ub($=>{const ce=I().filter(re=>!re.disabled),Ae=ce.find(re=>re.ref.current===document.activeElement),ie=Bb(ce,$,Ae);ie&&setTimeout(()=>ie.ref.current.focus())}),ne=h.useCallback(($,ce,Ae)=>{const ie=!z.current&&!Ae;(y.value!==void 0&&y.value===ce||ie)&&(j($),ie&&(z.current=!0))},[y.value]),Ue=h.useCallback(()=>b==null?void 0:b.focus(),[b]),be=h.useCallback(($,ce,Ae)=>{const ie=!z.current&&!Ae;(y.value!==void 0&&y.value===ce||ie)&&F($)},[y.value]),Ft=r==="popper"?Dd:Cb,Be=Ft===Dd?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:m,avoidCollisions:w}:{};return u.jsx(Sb,{scope:n,content:b,viewport:_,onViewportChange:E,itemRefCallback:ne,selectedItem:k,onItemLeave:Ue,itemTextRefCallback:be,focusSelectedItem:V,selectedItemText:T,position:r,isPositioned:U,searchRef:L,children:u.jsx(Ql,{as:Zn,allowPinchZoom:!0,children:u.jsx(Kl,{asChild:!0,trapped:y.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:H(s,$=>{var ce;(ce=y.trigger)==null||ce.focus({preventScroll:!0}),$.preventDefault()}),children:u.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx(Ft,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:$=>$.preventDefault(),...v,...Be,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:H(v.onKeyDown,$=>{const ce=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!ce&&$.key.length===1&&B($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ie=I().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes($.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const re=$.target,se=ie.indexOf(re);ie=ie.slice(se+1)}setTimeout(()=>M(ie)),$.preventDefault()}})})})})})})});_b.displayName=$O;var UO="SelectItemAlignedPosition",Cb=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=dr(Ur,n),i=fr(Ur,n),[a,l]=h.useState(null),[c,d]=h.useState(null),f=te(t,C=>d(C)),p=cc(n),g=h.useRef(!1),x=h.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:y}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&w&&v){const C=o.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(o.dir!=="rtl"){const re=T.left-k.left,se=j.left-re,st=C.left-se,$t=C.width+st,no=Math.max($t,k.width),ro=window.innerWidth-Et,so=ug(se,[Et,Math.max(Et,ro-no)]);a.style.minWidth=$t+"px",a.style.left=so+"px"}else{const re=k.right-T.right,se=window.innerWidth-j.right-re,st=window.innerWidth-C.right-se,$t=C.width+st,no=Math.max($t,k.width),ro=window.innerWidth-Et,so=ug(se,[Et,Math.max(Et,ro-no)]);a.style.minWidth=$t+"px",a.style.right=so+"px"}const F=p(),I=window.innerHeight-Et*2,U=m.scrollHeight,O=window.getComputedStyle(c),z=parseInt(O.borderTopWidth,10),M=parseInt(O.paddingTop,10),V=parseInt(O.borderBottomWidth,10),P=parseInt(O.paddingBottom,10),A=z+M+U+P+V,L=Math.min(w.offsetHeight*5,A),B=window.getComputedStyle(m),ne=parseInt(B.paddingTop,10),Ue=parseInt(B.paddingBottom,10),be=C.top+C.height/2-Et,Ft=I-be,Be=w.offsetHeight/2,$=w.offsetTop+Be,ce=z+M+$,Ae=A-ce;if(ce<=be){const re=F.length>0&&w===F[F.length-1].ref.current;a.style.bottom="0px";const se=c.clientHeight-m.offsetTop-m.offsetHeight,st=Math.max(Ft,Be+(re?Ue:0)+se+V),$t=ce+st;a.style.height=$t+"px"}else{const re=F.length>0&&w===F[0].ref.current;a.style.top="0px";const st=Math.max(be,z+m.offsetTop+(re?ne:0)+Be)+Ae;a.style.height=st+"px",m.scrollTop=ce-be+m.offsetTop}a.style.margin=`${Et}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,a,c,m,w,v,o.dir,r]);Ge(()=>b(),[b]);const[S,_]=h.useState();Ge(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);const E=h.useCallback(C=>{C&&x.current===!0&&(b(),y==null||y(),x.current=!1)},[b,y]);return u.jsx(zO,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:u.jsx(J.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Cb.displayName=UO;var BO="SelectPopperPosition",Dd=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Et,...o}=e,i=uc(n);return u.jsx(Rx,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dd.displayName=BO;var[zO,Mh]=to(Ur,{}),Md="SelectViewport",Eb=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=fr(Md,n),i=Mh(Md,n),a=te(t,o.onViewportChange),l=h.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(lc.Slot,{scope:n,children:u.jsx(J.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:H(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const x=window.innerHeight-Et*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<x){const y=v+g,b=Math.min(x,y),S=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Eb.displayName=Md;var kb="SelectGroup",[VO,HO]=to(kb),WO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qn();return u.jsx(VO,{scope:n,id:s,children:u.jsx(J.div,{role:"group","aria-labelledby":s,...r,ref:t})})});WO.displayName=kb;var Pb="SelectLabel",Nb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=HO(Pb,n);return u.jsx(J.div,{id:s.id,...r,ref:t})});Nb.displayName=Pb;var ul="SelectItem",[KO,jb]=to(ul),Rb=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=dr(ul,n),l=fr(ul,n),c=a.value===r,[d,f]=h.useState(o??""),[p,g]=h.useState(!1),x=te(t,y=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,y,r,s)}),m=Qn(),w=h.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(KO,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:h.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(lc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(J.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:H(i.onFocus,()=>g(!0)),onBlur:H(i.onBlur,()=>g(!1)),onClick:H(i.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:H(i.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:H(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:H(i.onPointerMove,y=>{var b;w.current=y.pointerType,s?(b=l.onItemLeave)==null||b.call(l):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:H(i.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(AO.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});Rb.displayName=ul;var Co="SelectItemText",Tb=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=dr(Co,n),a=fr(Co,n),l=jb(Co,n),c=MO(Co,n),[d,f]=h.useState(null),p=te(t,v=>f(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,v,l.value,l.disabled)}),g=d==null?void 0:d.textContent,x=h.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=c;return Ge(()=>(m(x),()=>w(x)),[m,w,x]),u.jsxs(u.Fragment,{children:[u.jsx(J.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ar.createPortal(o.children,i.valueNode):null]})});Tb.displayName=Co;var Ab="SelectItemIndicator",Ob=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jb(Ab,n).isSelected?u.jsx(J.span,{"aria-hidden":!0,...r,ref:t}):null});Ob.displayName=Ab;var Ld="SelectScrollUpButton",Ib=h.forwardRef((e,t)=>{const n=fr(Ld,e.__scopeSelect),r=Mh(Ld,e.__scopeSelect),[s,o]=h.useState(!1),i=te(t,r.onScrollButtonChange);return Ge(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(Mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Ib.displayName=Ld;var Fd="SelectScrollDownButton",Db=h.forwardRef((e,t)=>{const n=fr(Fd,e.__scopeSelect),r=Mh(Fd,e.__scopeSelect),[s,o]=h.useState(!1),i=te(t,r.onScrollButtonChange);return Ge(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(Mb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Db.displayName=Fd;var Mb=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=fr("SelectScrollButton",n),i=h.useRef(null),a=cc(n),l=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>l(),[l]),Ge(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(J.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:H(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:H(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:H(s.onPointerLeave,()=>{l()})})}),qO="SelectSeparator",Lb=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(J.div,{"aria-hidden":!0,...r,ref:t})});Lb.displayName=qO;var $d="SelectArrow",GO=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=uc(n),o=dr($d,n),i=fr($d,n);return o.open&&i.position==="popper"?u.jsx(Tx,{...s,...r,ref:t}):null});GO.displayName=$d;function Fb(e){return e===""||e===void 0}var $b=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=h.useRef(null),o=te(t,s),i=wh(n);return h.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[i,n]),u.jsx(hb,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});$b.displayName="BubbleSelect";function Ub(e){const t=Jt(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Bb(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=QO(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function QO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YO=pb,zb=gb,JO=yb,XO=wb,ZO=xb,Vb=bb,eI=Eb,Hb=Nb,Wb=Rb,tI=Tb,nI=Ob,Kb=Ib,qb=Db,Gb=Lb;const rI=YO,sI=JO,Qb=h.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(zb,{ref:r,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(XO,{asChild:!0,children:u.jsx(Wf,{className:"h-4 w-4 opacity-50"})})]}));Qb.displayName=zb.displayName;const Yb=h.forwardRef(({className:e,...t},n)=>u.jsx(Kb,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(CE,{className:"h-4 w-4"})}));Yb.displayName=Kb.displayName;const Jb=h.forwardRef(({className:e,...t},n)=>u.jsx(qb,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Wf,{className:"h-4 w-4"})}));Jb.displayName=qb.displayName;const Xb=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(ZO,{children:u.jsxs(Vb,{ref:s,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(Yb,{}),u.jsx(eI,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(Jb,{})]})}));Xb.displayName=Vb.displayName;const oI=h.forwardRef(({className:e,...t},n)=>u.jsx(Hb,{ref:n,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oI.displayName=Hb.displayName;const Zb=h.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(Wb,{ref:r,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(nI,{children:u.jsx(y0,{className:"h-4 w-4"})})}),u.jsx(tI,{children:t})]}));Zb.displayName=Wb.displayName;const iI=h.forwardRef(({className:e,...t},n)=>u.jsx(Gb,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",e),...t}));iI.displayName=Gb.displayName;const eS=({onRegionSelect:e,currentRegion:t,isVisible:n})=>{var i,a,l;const[r,s]=Le.useState((t==null?void 0:t.code)||""),o=c=>{s(c);const d=Ke[c];d&&e(d)};return n?u.jsxs(ci,{className:"mb-6 border-orange-200 bg-orange-50",children:[u.jsxs(ui,{children:[u.jsxs(di,{className:"flex items-center gap-2 text-[#ef4805]",children:[u.jsx(Tl,{className:"w-5 h-5"}),"Select Your Region"]}),u.jsx(fi,{children:"Please select your location to ensure the form is submitted to the correct practice."})]}),u.jsx(hi,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs(rI,{value:r,onValueChange:o,children:[u.jsx(Qb,{className:"w-full",children:u.jsx(sI,{placeholder:"Choose your region..."})}),u.jsx(Xb,{children:Object.values(Ke).map(c=>u.jsx(Zb,{value:c.code,children:u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-medium",children:c.name}),u.jsx("span",{className:"text-sm text-gray-500",children:c.doctor})]})},c.code))})]}),r&&u.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[u.jsxs("p",{className:"text-sm text-gray-600",children:[u.jsx("strong",{children:"Selected:"})," ",(i=Ke[r])==null?void 0:i.name," - ",(a=Ke[r])==null?void 0:a.doctor]}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Practice Number: ",(l=Ke[r])==null?void 0:l.practiceNumber]})]})]})})]}):null},aI=({onRefresh:e})=>{const[t,n]=h.useState([]),[r,s]=h.useState(!1),[o,i]=h.useState(!1),{getForms:a,syncData:l,capabilities:c}=yn(),{isOnline:d}=th(),{toast:f}=_t();h.useEffect(()=>{p()},[]);const p=async()=>{s(!0);try{const w=(await a(!1)).filter(v=>!v.synced&&v.status==="completed");n(w)}catch(m){console.error("Failed to load pending forms:",m),f({title:"Cache Issue",description:"Unable to load pending forms. Try refreshing the cache.",variant:"destructive"})}finally{s(!1)}},g=async()=>{if(!d){f({title:"Offline",description:"Cannot sync while offline. Please check your connection.",variant:"destructive"});return}i(!0);try{const m=await l();m.success>0?(f({title:"Sync Successful",description:`Successfully uploaded ${m.success} form${m.success!==1?"s":""}.`}),await p(),e==null||e()):m.failed>0?f({title:"Sync Issues",description:`${m.failed} form${m.failed!==1?"s":""} failed to upload. Will retry automatically.`,variant:"destructive"}):f({title:"Nothing to Sync",description:"All forms are already uploaded."})}catch(m){console.error("Manual sync failed:",m),f({title:"Sync Failed",description:"Failed to sync forms. Please try again.",variant:"destructive"})}finally{i(!1)}},x=async()=>{await p()};return t.length===0&&!r?null:u.jsxs(ci,{className:"mb-6",children:[u.jsx(ui,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(di,{className:"flex items-center gap-2 text-amber-600",children:[u.jsx(qf,{className:"w-5 h-5"}),"Pending Upload (",t.length,")"]}),u.jsx(fi,{children:"Forms captured offline waiting to be uploaded to the server"})]}),u.jsx(db,{onRefresh:x})]})}),u.jsx(hi,{children:r?u.jsxs("div",{className:"text-center py-4",children:[u.jsx(ii,{className:"w-6 h-6 animate-spin mx-auto text-gray-400"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading pending forms..."})]}):u.jsxs("div",{className:"space-y-3",children:[t.map((m,w)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ld,{className:"w-4 h-4 text-amber-600"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:m.patientName||"Unknown Patient"}),u.jsxs("p",{className:"text-xs text-gray-500",children:[m.submissionId,"  ",m.timestamp?new Date(m.timestamp).toLocaleString():"Unknown time"]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:!d&&u.jsxs("div",{className:"flex items-center",children:[u.jsx(nl,{className:"w-4 h-4 text-amber-500"}),u.jsx("span",{className:"sr-only",children:"Offline - will sync when connection restored"})]})})]},m.id||w)),d&&c.supabase&&u.jsx(Ce,{onClick:g,disabled:o,className:"w-full mt-4",variant:"outline",children:o?u.jsxs(u.Fragment,{children:[u.jsx(ii,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ld,{className:"w-4 h-4 mr-2"}),"Upload All Now"]})}),!d&&u.jsx("div",{className:"mt-4 p-3 bg-gray-50 border rounded-lg",children:u.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[u.jsx(Qf,{className:"w-4 h-4 inline mr-1"}),"Will automatically upload when connection is restored"]})})]})})]})},lI=()=>{const e=Gs(),[t,n]=h.useState([]),[r,s]=h.useState(!1),[o,i]=h.useState(0),{isOnline:a}=th(),{currentRegion:l,detectAndSetRegion:c,regionDetected:d,showManualSelector:f,setRegionManually:p,showRegionSelector:g}=Ml(),{getForms:x,capabilities:m,isInitialized:w}=yn();console.log("Index component loaded"),console.log("Using new Mia logo: /mia-consent-offline-form/icon-uploads/2741077b-1d2b-4fa2-9829-1d43a1a54427.png"),h.useEffect(()=>{w&&v()},[w,o]);const v=async()=>{if(w){s(!0);try{const E=await x(!0);n(E),console.log(`Loaded ${E.length} draft forms`)}catch(E){console.error("Failed to load drafts:",E)}finally{s(!1)}}},y=()=>{i(E=>E+1)},b=async()=>{d||await c(),e("/consent-form")},S=()=>u.jsx("div",{className:"flex items-center gap-2 text-sm",children:a?u.jsxs(u.Fragment,{children:[u.jsx(Qf,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-green-600",children:"Online"})]}):u.jsxs(u.Fragment,{children:[u.jsx(jE,{className:"w-4 h-4 text-orange-600"}),u.jsx("span",{className:"text-orange-600",children:"Offline"})]})}),_=()=>u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Tl,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-blue-600",children:l?l.name:"Detecting location..."}),l&&u.jsx(Ce,{variant:"ghost",size:"sm",onClick:g,className:"text-xs h-6 px-2",children:"Change"})]});return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"bg-[#ef4805] p-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"bg-white p-3 inline-block rounded-lg",children:u.jsx("img",{src:"/mia-consent-offline-form/icon-uploads/2741077b-1d2b-4fa2-9829-1d43a1a54427.png",alt:"Mia Healthcare",className:"h-16 w-auto",onError:E=>{console.error("New Mia logo failed to load:",E),console.log("Attempted path:",E.currentTarget.src)},onLoad:()=>{console.log("New Mia logo loaded successfully")}})})})}),u.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[u.jsxs("div",{className:"text-center mb-8 mt-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Mia Healthcare."}),u.jsx("p",{className:"text-xl text-gray-600",children:"Dental Consent Form"})]}),u.jsxs("div",{className:"flex justify-between items-center mb-8 p-4 bg-white rounded-lg shadow-sm",children:[u.jsx(S,{}),u.jsx(_,{})]}),u.jsx(eS,{onRegionSelect:p,currentRegion:l,isVisible:f}),u.jsx(aI,{onRefresh:y}),t.length>0&&u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsxs("p",{className:"text-blue-800 font-medium",children:["You have ",t.length," unfinished form",t.length!==1?"s":""," saved as drafts"]}),u.jsx("p",{className:"text-blue-600 text-sm mt-1",children:'Use "Resume Draft" below to continue where you left off'})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[u.jsxs(ci,{className:"hover:shadow-lg transition-shadow",children:[u.jsxs(ui,{children:[u.jsxs(di,{className:"flex items-center gap-2",children:[u.jsx(x0,{className:"w-6 h-6 text-[#ef4805]"}),"Start New Form"]}),u.jsx(fi,{children:"Begin a new dental consent form for a patient"})]}),u.jsx(hi,{children:u.jsx(Ce,{onClick:b,className:"w-full h-14 text-lg bg-[#ef4805] hover:bg-[#d63d04] text-white font-semibold",size:"lg",children:"Start New Form"})})]}),u.jsxs(ci,{className:"hover:shadow-lg transition-shadow",children:[u.jsxs(ui,{children:[u.jsxs(di,{className:"flex items-center gap-2",children:[u.jsx(ii,{className:"w-6 h-6 text-blue-600"}),"Resume Draft (",t.length,")"]}),u.jsx(fi,{children:"Continue working on a previously saved draft form"})]}),u.jsx(hi,{children:u.jsx("div",{className:"w-full h-14 flex items-center",children:u.jsx(kO,{onDraftsChanged:y})})})]})]}),w&&u.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:["Storage: ",m.supabase?"Cloud + Local":m.indexedDB?"Local (IndexedDB)":"Local (Basic)",u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:"Drafts saved locally  Completed forms go to cloud database"})]})]})]})},cI={id:Date.now(),patientName:"",idNumber:"",cellPhone:"",email:"",dateOfBirth:"",gender:"",maritalStatus:"",emergencyContactName:"",emergencyContactNumber:"",medicalAidScheme:"",medicalAidNumber:"",accountHolderName:"",accountHolderIdNumber:"",relationshipToPatient:"",paymentMethod:"",allergies:"",medications:"",medicalConditions:"",previousDentalWork:"",consentAgreement:!1,timestamp:new Date().toISOString(),regionCode:"",status:"draft"},uI=()=>{const[e,t]=h.useState(cI),[n,r]=h.useState(!1),s=h.useCallback((i,a)=>{t(l=>({...l,[i]:a,id:l.id||Date.now(),lastModified:new Date().toISOString()})),r(!0)},[]),o=h.useCallback((i,a,l)=>{t(c=>({...c,[i]:l,id:c.id||Date.now(),lastModified:new Date().toISOString()})),r(!0)},[]);return{formData:e,setFormData:h.useCallback(i=>{t({...i,id:i.id||Date.now(),lastModified:new Date().toISOString()}),r(!1)},[]),handleInputChange:s,handleCheckboxChange:o,isDirty:n,setIsDirty:r}},dI=({setFormData:e})=>{const t=ki(),[n]=cP(),[r,s]=h.useState(!1),{toast:o}=_t(),{isInitialized:i}=yn(),{regionDetectionComplete:a,detectAndSetRegion:l}=Ml();h.useEffect(()=>{i&&c()},[i]);const c=async()=>{var f;try{const p=localStorage.getItem("emergencyFormDraft");if(p)try{const w=JSON.parse(p);console.log("Found emergency draft, recovering..."),e(w),localStorage.removeItem("emergencyFormDraft"),o({title:"Form Recovered",description:"Recovered your form from an unexpected closure"});return}catch(w){console.error("Failed to parse emergency draft:",w),localStorage.removeItem("emergencyFormDraft")}const g=n.get("draft");if(g)try{const w=JSON.parse(decodeURIComponent(g));await d(w);return}catch(w){console.error("Failed to parse draft from URL:",w),o({title:"Error Resuming Draft",description:"Invalid draft data in URL",variant:"destructive"})}const x=(f=t.state)==null?void 0:f.resumeDraft;if(x){await d(x);return}const m=await l();e(w=>({...w,region:m.name,regionCode:m.code,doctor:m.doctor,practiceNumber:m.practiceNumber}))}catch(p){console.error("Form initialization error:",p),o({title:"Form Initialization Error",description:"Failed to initialize form. Please refresh the page.",variant:"destructive"})}},d=async f=>{if(s(!0),e(f),f.regionCode&&Ke[f.regionCode]){const p=Ke[f.regionCode];await l(p)}else{const p=Ke.PTA;await l(p)}o({title:"Draft Resumed",description:`Continuing form for ${f.patientName||"patient"}`}),s(!1)};return{isResuming:r,setIsResuming:s}},tS=()=>({saveToFallbackStorage:t=>{try{const n={...t,timestamp:new Date().toISOString(),fallbackStorage:!0,status:"draft"};return localStorage.setItem("formDraftFallback",JSON.stringify(n)),console.log("Saved to localStorage fallback as draft"),!0}catch(n){console.error("Fallback storage failed:",n);try{return sessionStorage.setItem("formDraftSession",JSON.stringify({...t,status:"draft"})),console.log("Saved to sessionStorage as draft"),!0}catch(r){return console.error("Session storage also failed:",r),!1}}}}),fI=({isOnline:e,setLastSaved:t,setIsDirty:n,setJustSaved:r,setRetryCount:s})=>{const{toast:o}=_t(),{saveForm:i,capabilities:a}=yn(),{saveToFallbackStorage:l}=tS();return{saveForm:async d=>{console.log("Manual save triggered - saving as DRAFT only",{id:d.id});const f={...d,timestamp:new Date().toISOString(),status:"draft",id:d.id||Date.now()};if(!a.indexedDB){if(l(f))return o({title:"Draft Saved",description:e?"Form saved as draft to browser storage":"Form saved as draft locally (offline)",variant:"default"}),t(new Date),n(!1),r(!0),f.id;o({title:"Save Failed",description:"Unable to save form data - please copy important information",variant:"destructive"});return}try{const p=await i(f,!0);return t(new Date),n(!1),r(!0),s(0),o({title:"Draft Saved",description:e?"Form saved as draft locally - not submitted to cloud":"Form saved as draft locally (offline)"}),console.log("Manual save completed with ID:",(p==null?void 0:p.id)||p),(p==null?void 0:p.id)||p}catch(p){if(console.error("Manual save error:",p),l(f))return o({title:"Draft Saved",description:"Saved as draft to browser backup",variant:"default"}),t(new Date),n(!1),r(!0),f.id;o({title:"Save Error",description:"Failed to save draft. Please try again.",variant:"destructive"})}}}},lu="formSessionId",nS=()=>{const[e,t]=h.useState(()=>{const s=localStorage.getItem(lu);return s||`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`});return h.useEffect(()=>{localStorage.setItem(lu,e)},[e]),{sessionId:e,clearSession:()=>{localStorage.removeItem(lu);const s=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;t(s)},startNewSession:()=>{const s=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;t(s)}}},hI=({retryCount:e,setLastSaved:t,setIsDirty:n,setRetryCount:r})=>{const[s,o]=h.useState("idle"),{toast:i}=_t(),{saveForm:a,capabilities:l}=yn(),{saveToFallbackStorage:c}=tS(),{sessionId:d}=nS(),f=h.useRef(!1);return{autoSave:async g=>{if(f.current){console.log("Auto-save already in progress, skipping");return}if(!g.patientName&&!g.idNumber&&!g.cellPhone){console.log("Auto-save skipped: insufficient data to save");return}if(console.log("Auto-save triggered for session ID:",d),!l.indexedDB){console.log("Auto-save skipped: No IndexedDB available, trying fallback"),c({...g,status:"draft",id:d})?(t(new Date),n(!1),o("success")):o("error");return}f.current=!0,o("saving");try{const x={...g,timestamp:new Date().toISOString(),autoSaved:!0,status:"draft",id:d,lastModified:new Date().toISOString()};await a(x,!0),t(new Date),n(!1),o("success"),r(()=>0),console.log("Auto-saved as draft successfully with session ID:",d)}catch(x){console.error("Auto-save failed:",x),o("error"),r(w=>w+1),c({...g,status:"draft",id:d})?(t(new Date),n(!1),o("success"),console.log("Auto-save failed but fallback succeeded")):(console.error("Both auto-save and fallback failed"),e>=2&&i({title:"Auto-save Issues",description:"Having trouble saving automatically. Please save manually.",variant:"destructive",duration:5e3}))}finally{f.current=!1}},autoSaveStatus:s}},pI=({isOnline:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(!1),[o,i]=h.useState(0),[a,l]=h.useState(!1),c=()=>{l(!1)},{saveForm:d}=fI({isOnline:e,setLastSaved:n,setIsDirty:s,setJustSaved:l,setRetryCount:i}),{autoSave:f,autoSaveStatus:p}=hI({retryCount:o,setLastSaved:n,setIsDirty:s,setRetryCount:i});return{lastSaved:t,isDirty:r,setIsDirty:s,saveForm:d,autoSave:f,formatLastSaved:()=>t?t.toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"}):"",autoSaveStatus:p,retryCount:o,justSaved:a,resetJustSaved:c}},rS=({isOnline:e,onOfflineSubmission:t,onOnlineSubmission:n,onValidationErrors:r})=>{Gs();const{toast:s}=_t(),{saveForm:o,deleteForm:i,syncData:a,capabilities:l,getForms:c}=yn(),{clearSession:d}=nS(),f=g=>{var m,w,v;const x=[];return console.log("Validating form data:",{patientName:g.patientName,idNumber:g.idNumber,cellPhone:g.cellPhone,consentAgreement:g.consentAgreement}),(m=g.patientName)!=null&&m.trim()||x.push("Patient name is required"),(w=g.idNumber)!=null&&w.trim()||x.push("ID number is required"),(v=g.cellPhone)!=null&&v.trim()||x.push("Cell phone number is required"),g.consentAgreement||x.push("You must agree to the consent form"),console.log("Validation result:",{isValid:x.length===0,errors:x}),{isValid:x.length===0,errors:x}};return{submitForm:async(g,x,m)=>{try{console.log("Starting form submission process...",{formData:{patientName:g.patientName,idNumber:g.idNumber,cellPhone:g.cellPhone,consentAgreement:g.consentAgreement},isResuming:m,draftId:g.id});const w=f(g);if(!w.isValid)return console.log("Validation failed:",w.errors),r&&r(w.errors),s({title:"Validation Error",description:"Please complete all required fields before submitting.",variant:"destructive"}),{success:!1,message:"Please fix validation errors before submitting"};console.log("Form validation passed, proceeding with submission...");const v={...g,timestamp:new Date().toISOString(),synced:l.supabase&&e,submissionId:`${g.regionCode||(x==null?void 0:x.code)||"UNK"}-${Date.now()}`,status:"completed"};console.log("Saving completed form...",{id:v.id,status:v.status});const y=await o(v,!1);if(console.log("Form saved successfully:",y),g.id&&m)try{console.log("Deleting draft form after successful submission...",g.id),await i(g.id,!0),console.log("Draft deleted successfully after submission")}catch(b){console.error("Draft deletion failed after submission (may not exist):",b)}if(g.id)try{const S=(await c(!0)).filter(_=>_.id===g.id||_.patientName===g.patientName&&_.idNumber===g.idNumber);for(const _ of S)try{console.log("Cleaning up related draft:",_.id),await i(_.id,!0)}catch(E){console.error("Cleanup error for draft:",_.id,E)}}catch(b){console.error("Error during draft cleanup:",b)}if(d(),console.log("Form session cleared after successful submission"),!e||!l.supabase){console.log("Processing offline submission...");const S=(await c(!1)).filter(_=>!_.synced&&_.status==="completed");return console.log("Triggering offline submission dialog...",{pendingCount:S.length,currentForm:v.patientName}),t&&setTimeout(()=>{t(v,S)},100),{success:!0,message:"Form captured offline"}}else{console.log("Processing online submission...");try{await a(),console.log("Post-submission sync completed")}catch(b){console.error("Post-submission sync failed:",b)}return console.log("Triggering online success dialog..."),n&&setTimeout(()=>{n(v)},100),{success:!0,message:"Form submitted successfully"}}}catch(w){return console.error("Form submission error:",w),s({title:"Submission Error",description:"Failed to submit form. Please try again.",variant:"destructive"}),{success:!1,message:"Form submission failed"}}}}},mI=({formData:e,isDirty:t,setIsDirty:n,isOnline:r})=>{const{currentRegion:s}=Ml(),{capabilities:o,isInitialized:i}=yn(),{lastSaved:a,saveForm:l,autoSave:c,formatLastSaved:d,autoSaveStatus:f,retryCount:p,justSaved:g,resetJustSaved:x}=pI({isOnline:r}),{submitForm:m}=rS({isOnline:r}),w=h.useRef(null),v=h.useRef(""),y=h.useRef(!1);return h.useEffect(()=>{if(!i||!t||Object.keys(e).length===0)return;w.current&&clearTimeout(w.current);const _=JSON.stringify(e);if(_===v.current||y.current)return;const E=45e3;w.current=setTimeout(async()=>{if(t&&!y.current){console.log("Auto-save triggered - saving as DRAFT",{capabilities:o,isDirty:t,hasData:Object.keys(e).length>0,autoSaveStatus:f}),y.current=!0,v.current=_;try{await c(e)}catch(k){console.error("Auto-save failed:",k)}finally{y.current=!1}}},E);const C=k=>{if(t&&!y.current){if(o.indexedDB||window.localStorage)try{o.indexedDB?c(e):localStorage.setItem("emergencyFormDraft",JSON.stringify({...e,timestamp:new Date().toISOString(),emergency:!0,status:"draft"}))}catch(j){console.error("Emergency save failed:",j)}k.preventDefault(),k.returnValue="You have unsaved changes. Are you sure you want to leave?"}};return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C),w.current&&clearTimeout(w.current)}},[t,e,o,c,f,i]),{saveForm:async()=>{if(y.current){console.log("Manual save skipped - auto-save in progress");return}const _=await l(e);_&&(console.log("Form saved as draft with ID:",_),v.current=JSON.stringify(e))},submitForm:async()=>{await m(e,s,!1)},lastSaved:a,formatLastSaved:d,autoSaveStatus:f,retryCount:p,justSaved:g,resetJustSaved:x}},gI=()=>{const[e,t]=h.useState("patientDetails"),{isOnline:n}=th(),{capabilities:r}=yn(),{currentRegion:s,regionDetected:o,showManualSelector:i,setRegionManually:a,showRegionSelector:l,hideRegionSelector:c,isRegionFromDraft:d,isRegionDetected:f}=Ml(),{formData:p,setFormData:g,handleInputChange:x,handleCheckboxChange:m,isDirty:w,setIsDirty:v}=uI(),{isResuming:y}=dI({setFormData:g}),{saveForm:b,submitForm:S,lastSaved:_,formatLastSaved:E,autoSaveStatus:C,retryCount:k,justSaved:j,resetJustSaved:T}=mI({formData:p,isDirty:w,setIsDirty:v,isOnline:n});return{activeSection:e,setActiveSection:t,formData:p,handleInputChange:x,handleCheckboxChange:m,saveForm:b,submitForm:S,isOnline:n,currentRegion:s,regionDetected:o,showManualSelector:i,setRegionManually:a,showRegionSelector:l,hideRegionSelector:c,isResuming:y,lastSaved:_,isDirty:w,formatLastSaved:E,dbInitialized:r.supabase||r.indexedDB,autoSaveStatus:C,retryCount:k,justSaved:j,resetJustSaved:T,isRegionFromDraft:d,isRegionDetected:f}},vI=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(""),[s,o]=h.useState(!1),[i,a]=h.useState(!1),[l,c]=h.useState(!1),[d,f]=h.useState(),[p,g]=h.useState(),[x,m]=h.useState([]),[w,v]=h.useState([]),[y,b]=h.useState(!1),S=gI(),{submitForm:_}=rS({isOnline:S.isOnline,onOfflineSubmission:(j,T)=>{console.log("Offline submission callback triggered",{patientName:j.patientName,pendingCount:T.length}),f(j),m(T),c(!0),b(!1)},onOnlineSubmission:j=>{console.log("Online submission callback triggered",{patientName:j.patientName}),g(j),a(!0),b(!1)},onValidationErrors:j=>{console.log("Validation errors callback triggered",{errors:j}),v(j),b(!0),window.scrollTo({top:0,behavior:"smooth"})}});return{...S,showSaveConfirmation:e,setShowSaveConfirmation:t,saveMessage:n,showOfflineDialog:s,setShowOfflineDialog:o,showOnlineSuccessDialog:i,setShowOnlineSuccessDialog:a,showOfflineSummaryDialog:l,setShowOfflineSummaryDialog:c,offlineFormData:d,onlineFormData:p,pendingForms:x,validationErrors:w,showValidationErrors:y,handleSave:async()=>{try{console.log("Manual save initiated..."),await S.saveForm(),r("Form saved successfully to "+(S.dbInitialized?"cloud storage":"local storage")),t(!0),setTimeout(()=>t(!1),3e3)}catch(j){console.error("Save failed:",j)}},handleSubmit:async()=>{try{console.log("Form submission initiated...",{patientName:S.formData.patientName,consentAgreement:S.formData.consentAgreement}),b(!1),v([]);const j=await _(S.formData,S.currentRegion,S.isResuming);console.log("Submission result:",j)}catch(j){console.error("Submit failed:",j)}},handleDiscard:()=>{console.log("Form discarded")}}},yI=({currentRegion:e,regionDetected:t,isResuming:n})=>(console.log("ConsentFormHeader - Using new Mia logo: /mia-consent-offline-form/icon-uploads/2741077b-1d2b-4fa2-9829-1d43a1a54427.png"),u.jsx("div",{className:"bg-[#ef4805] p-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"bg-white p-3 inline-block rounded-lg",children:u.jsx("img",{src:"/mia-consent-offline-form/icon-uploads/2741077b-1d2b-4fa2-9829-1d43a1a54427.png",alt:"Mia Healthcare",className:"h-16 w-auto",onError:r=>{console.error("ConsentFormHeader - New Mia logo failed to load:",r),console.log("ConsentFormHeader - Attempted path:",r.currentTarget.src)},onLoad:()=>{console.log("ConsentFormHeader - New Mia logo loaded successfully")}})})})})),wI=({currentSection:e,sections:t})=>{const n=()=>(t.findIndex(s=>s.id===e)+1)/t.length*100;return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),u.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(n()),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-[#ef4805] h-2 rounded-full transition-all duration-300",style:{width:`${n()}%`}})})]})},xI=({isOnline:e,currentRegion:t,isDirty:n,lastSaved:r,formatLastSaved:s,onSave:o,dbInitialized:i=!0,autoSaveStatus:a="idle",retryCount:l=0,onRegionSelect:c,isRegionFromDraft:d=!1,isRegionDetected:f=!1})=>{const p=()=>{switch(a){case"saving":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(kE,{className:"w-3 h-3 mr-1 animate-spin"}),"Auto-saving..."]});case"success":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u.jsx(Rl,{className:"w-3 h-3 mr-1"}),e?"Synced to cloud":"Saved locally"]});case"error":return u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(Yf,{className:"w-3 h-3 mr-1"}),"Auto-save failed ",l>0&&`(${l} retries)`]});default:return null}},g=()=>e&&i?u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u.jsx(Gf,{className:"w-3 h-3 mr-1"}),"Cloud Storage Active"]}):i?u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[u.jsx(b0,{className:"w-3 h-3 mr-1"}),"Local Storage Only"]}):u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[u.jsx(w0,{className:"w-3 h-3 mr-1"}),"Browser Storage Only"]});return u.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3 mb-6 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-y-2",children:[u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e?"Online":"Offline"}),g(),t&&c&&u.jsx(Hx,{currentRegion:t,onRegionSelect:c,isFromDraft:d,isDetected:f}),n&&a!=="saving"&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[u.jsx(Kf,{className:"w-3 h-3 mr-1"}),"Unsaved changes"]}),p(),r&&u.jsxs("span",{className:"text-xs text-gray-500",children:["Last saved: ",s()]})]}),u.jsx("div",{className:"flex space-x-2",children:u.jsxs("button",{onClick:o,className:`flex items-center px-3 py-1.5 text-sm rounded-lg transition-colors ${a==="error"||l>0?"bg-red-100 text-red-700 hover:bg-red-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:[u.jsx(S0,{className:"w-4 h-4 mr-1"}),a==="error"||l>0?"Save Now":"Save"]})})]})},bI=({currentRegion:e,regionDetected:t,isResuming:n,children:r})=>u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold text-[#ef4805] mb-2",children:["Mia Information and Consent Form ",(e==null?void 0:e.code)||"PTA",n&&u.jsx("span",{className:"text-lg text-gray-600 ml-2",children:"(Resumed)"})]}),u.jsxs("p",{className:"text-gray-600",children:[(e==null?void 0:e.doctor)||"Dr. Vorster"," Practice Number: ",(e==null?void 0:e.practiceNumber)||"1227831"]}),t&&e&&u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Region: ",e.name," (",e.code,")"]})]}),u.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-6",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[u.jsx(Kf,{className:"w-4 h-4 inline mr-1"}),"Your progress is automatically saved every 30 seconds. You can safely close and resume later."]})}),r]}),SI=({sections:e,activeSection:t,setActiveSection:n,onSave:r,onSubmit:s})=>{const[o,i]=h.useState(!1),[a,l]=h.useState(!1),c=e.findIndex(p=>p.id===t),d=async()=>{if(!o){i(!0);try{await r()}finally{i(!1)}}},f=async()=>{if(!a){console.log("Submit button clicked - calling onSubmit..."),l(!0);try{await s()}finally{l(!1)}}};return u.jsxs("div",{className:"flex flex-col space-y-4 mt-8 pt-6 border-t border-gray-200",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs(Ce,{onClick:()=>{c>0&&n(e[c-1].id)},disabled:c===0,variant:"outline",className:"flex items-center gap-2 h-12 px-6 text-base font-medium border-2 border-gray-300 hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(v0,{className:"w-5 h-5"}),"Previous"]}),c===e.length-1?u.jsxs(Ce,{onClick:f,disabled:a,className:"flex items-center gap-2 h-12 px-8 bg-[#ef4805] text-white text-base font-medium hover:bg-[#d63d04] transition-colors disabled:opacity-50",children:[u.jsx(PE,{className:"w-5 h-5"}),a?"Submitting...":"Submit Form"]}):u.jsxs(Ce,{onClick:()=>{c<e.length-1&&n(e[c+1].id)},className:"flex items-center gap-2 h-12 px-6 bg-[#ef4805] text-white text-base font-medium hover:bg-[#d63d04] transition-colors",children:["Next",u.jsx(bE,{className:"w-5 h-5"})]})]}),u.jsxs(Ce,{onClick:d,disabled:o,variant:"outline",className:"w-full h-12 flex items-center justify-center gap-2 text-base font-medium border-2 border-blue-300 text-blue-700 hover:bg-blue-50 disabled:opacity-50",children:[u.jsx(S0,{className:"w-5 h-5"}),o?"Saving Draft...":"Save as Draft (Local Only)"]})]})},_I=({isDirty:e,justSaved:t,onSave:n,onDiscard:r,onResetJustSaved:s})=>{const o=Gs(),[i,a]=h.useState(!1),[l,c]=h.useState(!1),d=()=>{if(t){s(),o("/");return}e?a(!0):o("/")},f=async()=>{c(!0);try{await n(),o("/")}finally{c(!1),a(!1)}},p=()=>{r(),o("/"),a(!1)};return u.jsxs(Oh,{open:i,onOpenChange:a,children:[u.jsx(Ih,{asChild:!0,children:u.jsxs(Ce,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[u.jsx(v0,{className:"w-4 h-4"}),"Back to Start"]})}),u.jsxs(tc,{className:"max-w-md mx-4",children:[u.jsxs(nc,{children:[u.jsx(sc,{children:"Save Progress?"}),u.jsx(oc,{children:"You have unsaved changes. Would you like to save your progress before returning to the start?"})]}),u.jsxs(rc,{className:"flex-col sm:flex-row gap-2",children:[u.jsx(ac,{onClick:p,className:"w-full sm:w-auto",children:"Discard Changes"}),u.jsx(ic,{onClick:f,disabled:l,className:"w-full sm:w-auto bg-[#ef4805] hover:bg-[#d63d04]",children:l?"Saving...":"Save & Exit"})]})]})]})},CI=({errors:e,isVisible:t})=>!t||e.length===0?null:u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(nl,{className:"w-5 h-5 text-red-600"}),u.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Please fix the following errors before submitting:"})]}),u.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.map((n,r)=>u.jsx("li",{className:"text-sm text-red-700",children:n},r))})]}),EI=({id:e,title:t,isActive:n,onToggle:r,children:s})=>u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>r(e),className:`w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors ${n?"bg-[#ef4805] text-white":"text-gray-700"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"font-medium",children:t}),n?u.jsx(SE,{className:"w-4 h-4"}):u.jsx(xE,{className:"w-4 h-4"})]})}),n&&u.jsx("div",{className:"p-6 space-y-6",children:s})]}),sS=h.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));sS.displayName="Input";var kI="Label",oS=h.forwardRef((e,t)=>u.jsx(J.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oS.displayName=kI;var iS=oS;const PI=Hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),aS=h.forwardRef(({className:e,...t},n)=>u.jsx(iS,{ref:n,className:q(PI(),e),...t}));aS.displayName=iS.displayName;const NI=e=>{if(!e||e.trim()==="")return{isValid:!1,message:"Phone number is required"};const t=e.replace(/\D/g,"");return t.length<10||t.length>15?{isValid:!1,message:"Phone number must be 10-15 digits"}:/^[\d\s-()+]+$/.test(e)?{isValid:!0}:{isValid:!1,message:"Phone number can only contain digits, spaces, dashes, parentheses, and plus sign"}},jI=e=>!e||e.trim()===""?{isValid:!1,message:"Email is required"}:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)?{isValid:!0}:{isValid:!1,message:"Please enter a valid email address"},nn=({type:e,value:t,onChange:n,placeholder:r,required:s=!1,className:o="",label:i,onValidationChange:a})=>{const[l,c]=h.useState(""),[d,f]=h.useState(!1),p=w=>{if(!s&&!w.trim()){c(""),a==null||a(!0);return}let v;switch(e){case"phone":case"tel":v=NI(w);break;case"email":v=jI(w);break;default:v={isValid:!0}}v.isValid?(c(""),a==null||a(!0)):(c(v.message||"Invalid input"),a==null||a(!1))};h.useEffect(()=>{d&&p(t)},[t,d]);const g=w=>{let v=w.target.value;(e==="phone"||e==="tel")&&(v=v.replace(/[^\d\s\-\(\)\+]/g,"")),n(v)},x=()=>{f(!0),p(t)},m=e==="phone"||e==="tel"?"tel":e==="email"?"email":e==="date"?"date":"text";return u.jsxs("div",{className:"space-y-2",children:[i&&u.jsx(aS,{htmlFor:i,className:"block text-sm font-medium text-gray-700",children:i}),u.jsx(sS,{id:i,type:m,value:t,onChange:g,onBlur:x,placeholder:r,className:`${o} ${l&&d?"border-red-500 focus-visible:ring-red-500":""}`}),l&&d&&u.jsx("p",{className:"text-sm text-red-600",children:l})]})},RI=({formData:e,updateFormData:t,validationErrors:n})=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b pb-2",children:"Patient Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(nn,{type:"text",label:"Patient Name",value:e.patientName||"",onChange:r=>t({patientName:r}),placeholder:"Enter full name",required:!0}),u.jsx(nn,{type:"text",label:"ID Number",value:e.idNumber||"",onChange:r=>t({idNumber:r}),placeholder:"Enter ID number",required:!0}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),u.jsxs("select",{value:e.maritalStatus||"",onChange:r=>t({maritalStatus:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Select status"}),u.jsx("option",{value:"single",children:"Single"}),u.jsx("option",{value:"married",children:"Married"}),u.jsx("option",{value:"divorced",children:"Divorced"}),u.jsx("option",{value:"widowed",children:"Widowed"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),u.jsxs("select",{value:e.gender||"",onChange:r=>t({gender:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Select gender"}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsx(nn,{type:"date",label:"Date of Birth",value:e.birthDate||"",onChange:r=>t({birthDate:r})}),u.jsx(nn,{type:"text",label:"Employer/School",value:e.employerSchool||"",onChange:r=>t({employerSchool:r}),placeholder:"Enter employer or school name"}),u.jsx(nn,{type:"text",label:"Occupation/Grade",value:e.occupationGrade||"",onChange:r=>t({occupationGrade:r}),placeholder:"Enter occupation or grade"}),u.jsx(nn,{type:"phone",label:"Cell Phone",value:e.cellPhone||"",onChange:r=>t({cellPhone:r}),placeholder:"Enter cell phone number",required:!0}),u.jsx(nn,{type:"email",label:"Email",value:e.email||"",onChange:r=>t({email:r}),placeholder:"Enter email address"}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(nn,{type:"text",label:"Address",value:e.address||"",onChange:r=>t({address:r}),placeholder:"Enter full address"})}),u.jsx(nn,{type:"text",label:"Postal Code",value:e.postalCode||"",onChange:r=>t({postalCode:r}),placeholder:"Enter postal code"})]})]});function TI(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),l=n.length;n=[...n,i];function c(f){const{scope:p,children:g,...x}=f,m=(p==null?void 0:p[e][l])||a,w=h.useMemo(()=>x,Object.values(x));return u.jsx(m.Provider,{value:w,children:g})}function d(f,p){const g=(p==null?void 0:p[e][l])||a,x=h.useContext(g);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,AI(s,...t)]}function AI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var cu="rovingFocusGroup.onEntryFocus",OI={bubbles:!1,cancelable:!0},dc="RovingFocusGroup",[Ud,lS,II]=fb(dc),[DI,cS]=TI(dc,[II]),[MI,LI]=DI(dc),uS=h.forwardRef((e,t)=>u.jsx(Ud.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Ud.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(FI,{...e,ref:t})})}));uS.displayName=dc;var FI=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),g=te(t,p),x=Dh(o),[m=null,w]=Lr({prop:i,defaultProp:a,onChange:l}),[v,y]=h.useState(!1),b=Jt(c),S=lS(n),_=h.useRef(!1),[E,C]=h.useState(0);return h.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(cu,b),()=>k.removeEventListener(cu,b)},[b]),u.jsx(MI,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:m,onItemFocus:h.useCallback(k=>w(k),[w]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>C(k=>k-1),[]),children:u.jsx(J.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:H(e.onMouseDown,()=>{_.current=!0}),onFocus:H(e.onFocus,k=>{const j=!_.current;if(k.target===k.currentTarget&&j&&!v){const T=new CustomEvent(cu,OI);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const F=S().filter(M=>M.focusable),I=F.find(M=>M.active),U=F.find(M=>M.id===m),z=[I,U,...F].filter(Boolean).map(M=>M.ref.current);hS(z,d)}}_.current=!1}),onBlur:H(e.onBlur,()=>y(!1))})})}),dS="RovingFocusGroupItem",fS=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=Qn(),l=o||a,c=LI(dS,n),d=c.currentTabStopId===l,f=lS(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),u.jsx(Ud.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(J.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:H(e.onMouseDown,x=>{r?c.onItemFocus(l):x.preventDefault()}),onFocus:H(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:H(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=BI(x,c.orientation,c.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(x.currentTarget);v=c.loop?zI(v,y+1):v.slice(y+1)}setTimeout(()=>hS(v))}})})})});fS.displayName=dS;var $I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function BI(e,t,n){const r=UI(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $I[r]}function hS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function zI(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VI=uS,HI=fS,Lh="Radio",[WI,pS]=Hr(Lh),[KI,qI]=WI(Lh),mS=h.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:i,value:a="on",onCheck:l,form:c,...d}=e,[f,p]=h.useState(null),g=te(t,w=>p(w)),x=h.useRef(!1),m=f?c||!!f.closest("form"):!0;return u.jsxs(KI,{scope:n,checked:s,disabled:i,children:[u.jsx(J.button,{type:"button",role:"radio","aria-checked":s,"data-state":yS(s),"data-disabled":i?"":void 0,disabled:i,value:a,...d,ref:g,onClick:H(e.onClick,w=>{s||l==null||l(),m&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),m&&u.jsx(GI,{control:f,bubbles:!x.current,name:r,value:a,checked:s,required:o,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});mS.displayName=Lh;var gS="RadioIndicator",vS=h.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,o=qI(gS,n);return u.jsx(cr,{present:r||o.checked,children:u.jsx(J.span,{"data-state":yS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});vS.displayName=gS;var GI=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=h.useRef(null),i=wh(n),a=xh(t);return h.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==n&&f){const p=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(p)}},[i,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yS(e){return e?"checked":"unchecked"}var QI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fh="RadioGroup",[YI,O2]=Hr(Fh,[cS,pS]),wS=cS(),xS=pS(),[JI,XI]=YI(Fh),bS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:i=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=e,g=wS(n),x=Dh(c),[m,w]=Lr({prop:o,defaultProp:s,onChange:f});return u.jsx(JI,{scope:n,name:r,required:i,disabled:a,value:m,onValueChange:w,children:u.jsx(VI,{asChild:!0,...g,orientation:l,dir:x,loop:d,children:u.jsx(J.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":a?"":void 0,dir:x,...p,ref:t})})})});bS.displayName=Fh;var SS="RadioGroupItem",_S=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,o=XI(SS,n),i=o.disabled||r,a=wS(n),l=xS(n),c=h.useRef(null),d=te(t,c),f=o.value===s.value,p=h.useRef(!1);return h.useEffect(()=>{const g=m=>{QI.includes(m.key)&&(p.current=!0)},x=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",x)}},[]),u.jsx(HI,{asChild:!0,...a,focusable:!i,active:f,children:u.jsx(mS,{disabled:i,required:o.required,checked:f,...l,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:H(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:H(s.onFocus,()=>{var g;p.current&&((g=c.current)==null||g.click())})})})});_S.displayName=SS;var ZI="RadioGroupIndicator",CS=h.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=xS(n);return u.jsx(vS,{...s,...r,ref:t})});CS.displayName=ZI;var ES=bS,kS=_S,e2=CS;const $h=h.forwardRef(({className:e,...t},n)=>u.jsx(ES,{className:q("grid gap-2",e),...t,ref:n}));$h.displayName=ES.displayName;const vi=h.forwardRef(({className:e,...t},n)=>u.jsx(kS,{ref:n,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:u.jsx(e2,{className:"flex items-center justify-center",children:u.jsx(EE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vi.displayName=kS.displayName;const t2=({formData:e,onInputChange:t})=>u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-xl font-semibold text-[#ef4805] mb-4",children:"Account Holder Details"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"13. Person Responsible for Account Payment *"}),u.jsxs($h,{value:e.responsibleForPayment||"",onValueChange:n=>t("responsibleForPayment",n),children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vi,{value:"Parent/Main member/Someone else",id:"parentMember"}),u.jsx("label",{htmlFor:"parentMember",className:"text-sm",children:"Parent/Main member/Someone else"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vi,{value:"Myself",id:"myself"}),u.jsx("label",{htmlFor:"myself",className:"text-sm",children:"Myself"})]})]})]}),e.responsibleForPayment==="Parent/Main member/Someone else"&&u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"14. Name and Surname"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.accountHolderName||"",onChange:n=>t("accountHolderName",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"15. Age"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.accountHolderAge||"",onChange:n=>t("accountHolderAge",n.target.value)})]})]})})]}),n2=({formData:e,onInputChange:t})=>u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-xl font-semibold text-[#ef4805] mb-4",children:"Payment and Emergency Contact"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"25. Payment Preference"}),u.jsxs($h,{value:e.paymentPreference||"",onValueChange:n=>t("paymentPreference",n),children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vi,{value:"Card/EFT/Snapcan",id:"cardEft"}),u.jsx("label",{htmlFor:"cardEft",className:"text-sm",children:"Card/EFT/Snapcan"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(vi,{value:"Medical Aid",id:"medicalAid"}),u.jsx("label",{htmlFor:"medicalAid",className:"text-sm",children:"Medical Aid"})]})]})]}),e.paymentPreference==="Medical Aid"&&u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"26. Medical Aid Name *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.medicalAidName||"",onChange:n=>t("medicalAidName",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"27. Medical Aid No. *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.medicalAidNo||"",onChange:n=>t("medicalAidNo",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"28. Plan *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.medicalAidPlan||"",onChange:n=>t("medicalAidPlan",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"29. Main Member *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.mainMember||"",onChange:n=>t("mainMember",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"30. Dependant Code (if applicable)"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.dependantCode||"",onChange:n=>t("dependantCode",n.target.value)})]})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"31. Emergency Contact Name and Surname *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.emergencyName||"",onChange:n=>t("emergencyName",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"32. Relationship *"}),u.jsx("input",{type:"text",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.emergencyRelationship||"",onChange:n=>t("emergencyRelationship",n.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"33. Cell Phone Number *"}),u.jsx("input",{type:"tel",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.emergencyPhone||"",onChange:n=>t("emergencyPhone",n.target.value)})]})]})]}),r2=({formData:e,onInputChange:t,onCheckboxChange:n})=>{const r=(s,o)=>{o?t(s,"Nil"):t(s,"")};return u.jsxs(u.Fragment,{children:[u.jsx("h2",{className:"text-xl font-semibold text-[#ef4805] mb-4",children:"Medical History"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"34. GP's Name (optional)"}),u.jsx("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.gpName||"",onChange:s=>t("gpName",s.target.value)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"35. GP's Contact No. (optional)"}),u.jsx("input",{type:"tel",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.gpContact||"",onChange:s=>t("gpContact",s.target.value)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"36. Chronic Conditions"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:["Alzheimers","Anaemia","Arthritis","Asthma/Lung Disease","Bleeding Disorders","On warfarin/Aspirin or anticoagulants","Cancer Treatment","Diabetes","Dizziness/Fainting Spells","Epilepsy","Rheumatic Fever","Heart Disease","High/low Blood Pressure","Hepatitis/Liver Disease","HIV/Aids","Sinusitis","Ulcers","Other"].map(s=>u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",value:s,className:"mr-2",checked:(e.chronicConditions||[]).includes(s),onChange:o=>n("chronicConditions",s,o.target.checked)}),u.jsx("span",{className:"text-sm",children:s})]},s))}),u.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[u.jsx(xs,{id:"noChronicConditions",checked:e.chronicConditions==="None",onCheckedChange:s=>{s?t("chronicConditions","None"):t("chronicConditions","")}}),u.jsx("label",{htmlFor:"noChronicConditions",className:"text-sm text-gray-600",children:"No chronic conditions"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"37. Allergies *"}),u.jsx("input",{type:"text",required:!0,placeholder:"Please answer 'Nil' if you have no allergies",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.allergies||"",onChange:s=>t("allergies",s.target.value)}),u.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[u.jsx(xs,{id:"nilAllergies",checked:e.allergies==="Nil",onCheckedChange:s=>r("allergies",s===!0)}),u.jsx("label",{htmlFor:"nilAllergies",className:"text-sm text-gray-600",children:"No allergies (Nil)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"42. Medication *"}),u.jsx("input",{type:"text",required:!0,placeholder:"Please answer 'Nil' if you are not on any medication",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#ef4805] focus:border-transparent",value:e.medication||"",onChange:s=>t("medication",s.target.value)}),u.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[u.jsx(xs,{id:"nilMedication",checked:e.medication==="Nil",onCheckedChange:s=>r("medication",s===!0)}),u.jsx("label",{htmlFor:"nilMedication",className:"text-sm text-gray-600",children:"No medication (Nil)"})]})]})]})},s2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(()=>localStorage.getItem("consentAccepted")==="true"),s=h.useRef(null);h.useEffect(()=>{const i=s.current;if(!i)return;const a=()=>{i.scrollTop+i.clientHeight>=i.scrollHeight-5&&t(!0)};return i.addEventListener("scroll",a),setTimeout(()=>{i.scrollHeight<=i.clientHeight+5&&t(!0)},200),()=>i.removeEventListener("scroll",a)},[]);const o=()=>{localStorage.setItem("consentAccepted","true"),r(!0)};return u.jsxs("div",{className:"max-w-2xl mx-auto p-4 text-left",children:[u.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Consent and Agreement"}),u.jsxs("details",{className:"mb-4 border border-gray-300 rounded",children:[u.jsx("summary",{className:"cursor-pointer p-3 bg-gray-100 font-medium",children:"View Consent and Agreement Form"}),u.jsxs("div",{ref:s,className:"max-h-72 overflow-y-scroll p-4 border-t border-gray-300 text-sm space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-orange-600",children:"Consent Form Contents"}),u.jsx("p",{children:"1. I, the undersigned, hereby give my voluntary consent for dental examination, diagnosis and treatment as deemed necessary by the dental professional in attendance."}),u.jsx("p",{children:"2. I understand that dental treatment may involve procedures such as cleaning, scaling, polishing, and the use of diagnostic tools including X-rays or photos."}),u.jsx("p",{children:"3. I understand the nature and purpose of the treatment and acknowledge that no guarantees or assurances have been made to me concerning the results of the procedure."}),u.jsx("p",{children:"4. I understand that there may be risks and complications associated with dental treatment, including but not limited to sensitivity, discomfort, and allergic reactions."}),u.jsx("p",{children:"5. I confirm that I have disclosed all relevant medical history and current medications."}),u.jsx("p",{children:"6. I understand that the dental provider may refer me for further treatment if necessary, and that this referral may incur additional costs not covered during the screening."}),u.jsx("p",{children:"7. I acknowledge that I have the right to ask questions and that I may withdraw my consent at any time before or during the treatment."}),u.jsx("p",{children:"8. I give consent for my dental records to be shared with other healthcare professionals if needed for further treatment or referral."}),u.jsx("p",{children:"9. I understand the confidentiality of my health information and consent to the collection and use of this information for medical and administrative purposes."}),u.jsx("p",{children:"10. I confirm that I have read and understood the information above, and that I am signing this consent voluntarily and without coercion."})]})]}),u.jsxs("label",{className:"flex items-start space-x-2 mt-4",children:[u.jsx("input",{type:"checkbox",disabled:!e,checked:n,onChange:o,className:"mt-1"}),u.jsx("span",{children:"I have read and agree to the Consent and Agreement terms above."})]}),!e&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please scroll to the bottom to enable the checkbox."})]})},Uh=()=>({sections:h.useMemo(()=>[{id:"patientDetails",title:"1. Patient Details",component:RI},{id:"accountHolder",title:"2. Account Holder Details",component:t2},{id:"paymentEmergency",title:"3. Payment and Emergency Contact",component:n2},{id:"medicalHistory",title:"4. Medical History",component:r2},{id:"consent",title:"5. Consent",component:s2}],[])}),o2=({activeSection:e,formData:t,handleInputChange:n,handleCheckboxChange:r,validationErrors:s})=>{const{sections:o}=Uh(),i=l=>{Object.keys(l).forEach(c=>{const d=l[c];typeof d=="string"&&n(c,d)})},a=()=>{const l=o.find(d=>d.id===e);if(!l)return null;const c=l.component;return l.id==="patientDetails"?u.jsx(c,{formData:t,updateFormData:i,validationErrors:s,onInputChange:n,onCheckboxChange:r}):u.jsx(c,{formData:t,updateFormData:i,validationErrors:s,onInputChange:n,onCheckboxChange:r})};return u.jsx(u.Fragment,{children:a()})},i2=({activeSection:e,setActiveSection:t,formData:n,handleInputChange:r,handleCheckboxChange:s,validationErrors:o})=>{const{sections:i}=Uh();return u.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:u.jsx("div",{className:"border-b border-gray-200",children:i.map(a=>u.jsx(EI,{id:a.id,title:a.title,isActive:e===a.id,onToggle:t,children:e===a.id&&u.jsx(o2,{activeSection:e,formData:n,handleInputChange:r,handleCheckboxChange:s,validationErrors:o})},a.id))})})},a2=({currentRegion:e,regionDetected:t,isResuming:n,activeSection:r,setActiveSection:s,formData:o,handleInputChange:i,handleCheckboxChange:a,isDirty:l,justSaved:c,onSave:d,onSubmit:f,onDiscard:p,onResetJustSaved:g,isOnline:x,lastSaved:m,formatLastSaved:w,dbInitialized:v,autoSaveStatus:y,retryCount:b,showManualSelector:S,setRegionManually:_,isRegionFromDraft:E,isRegionDetected:C,validationErrors:k,showValidationErrors:j})=>{const{sections:T}=Uh();return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(yI,{currentRegion:e,regionDetected:t,isResuming:n}),u.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[u.jsx("div",{className:"mb-6",children:u.jsx(_I,{isDirty:l,justSaved:c,onSave:d,onDiscard:p,onResetJustSaved:g})}),u.jsx(eS,{onRegionSelect:_,currentRegion:e,isVisible:S}),u.jsx(wI,{currentSection:r,sections:T}),u.jsx(xI,{isOnline:x,currentRegion:e,isDirty:l,lastSaved:m,formatLastSaved:w,onSave:d,dbInitialized:v,autoSaveStatus:y,retryCount:b,onRegionSelect:_,isRegionFromDraft:E,isRegionDetected:C}),u.jsx(CI,{errors:k,isVisible:j}),u.jsx(i2,{activeSection:r,setActiveSection:s,formData:o,handleInputChange:i,handleCheckboxChange:a,validationErrors:k}),u.jsx(bI,{currentRegion:e,regionDetected:t,isResuming:n,children:u.jsx(SI,{sections:T,activeSection:r,setActiveSection:s,onSave:d,onSubmit:f})})]})]})},l2=({show:e,message:t,duration:n=3e3,isOnline:r=!1,isAutoSave:s=!1})=>{if(h.useEffect(()=>{if(e){const c=()=>s?r?"Auto-saved to cloud":"Auto-saved locally":r?"Draft saved to cloud":"Draft saved locally",d=()=>s?r?"Your changes have been automatically saved to the cloud database":"Your changes have been automatically saved to local storage and will sync when online":r?"Your draft has been saved to the cloud database":"Your draft has been saved locally and will sync when online";I0({title:c(),description:d(),duration:n})}},[e,t,n,r,s]),!e)return null;const o=()=>r?u.jsx(Gf,{className:"w-6 h-6 text-green-600"}):u.jsx(b0,{className:"w-6 h-6 text-blue-600"}),i=()=>r?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200",a=()=>r?"text-green-900":"text-blue-900",l=()=>r?"text-green-700":"text-blue-700";return u.jsx("div",{className:`fixed top-4 right-4 z-50 ${i()} rounded-lg p-4 shadow-lg animate-fade-in`,children:u.jsxs("div",{className:"flex items-center space-x-3",children:[o(),u.jsxs("div",{children:[u.jsx("p",{className:`font-medium ${a()}`,children:s?r?"Auto-saved to Cloud":"Auto-saved Locally":"Draft Saved Successfully"}),u.jsx("p",{className:`text-sm ${l()}`,children:r?"Saved to cloud database":"Saved locally - will sync when online"})]})]})})},c2=({isOpen:e,onClose:t,formData:n})=>u.jsx(Yl,{open:e,onOpenChange:t,children:u.jsxs(Ri,{className:"sm:max-w-md",children:[u.jsx(Ti,{children:u.jsxs(Ai,{className:"flex items-center gap-2 text-green-600",children:[u.jsx(Rl,{className:"w-6 h-6"}),"Form Captured Successfully"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[u.jsx(ld,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Your consent form has been saved locally"})]}),(n==null?void 0:n.patientName)&&u.jsxs("p",{className:"text-sm text-gray-600",children:["Patient: ",u.jsx("span",{className:"font-medium",children:n.patientName})]}),(n==null?void 0:n.submissionId)&&u.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",n.submissionId]})]}),u.jsxs("div",{className:"border-t pt-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[u.jsx(Qf,{className:"w-4 h-4"}),u.jsx("span",{children:"Currently offline"})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{className:"font-medium mb-1",children:"What happens next:"}),u.jsxs("ul",{className:"space-y-1 text-xs",children:[u.jsx("li",{children:" Form is safely stored on this device"}),u.jsx("li",{children:" Will automatically upload when internet connection is restored"}),u.jsx("li",{children:" You can continue working with other forms"}),u.jsx("li",{children:' Check "Pending Upload" section for sync status'})]})]})]}),u.jsx(Ce,{onClick:t,className:"w-full",children:"Continue"})]})]})}),u2=({isOpen:e,onClose:t,formData:n})=>{const r=Gs(),s=()=>{console.log("OnlineSuccessDialog: Closing and navigating to home"),t(),r("/")};return u.jsx(Yl,{open:e,onOpenChange:s,children:u.jsxs(Ri,{className:"sm:max-w-md",children:[u.jsx(Ti,{children:u.jsxs(Ai,{className:"flex items-center gap-2 text-green-600",children:[u.jsx(Rl,{className:"w-6 h-6"}),"Form Successfully Uploaded to Cloud"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[u.jsx(Gf,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Your consent form has been successfully uploaded to the cloud database"})]}),(n==null?void 0:n.patientName)&&u.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["Patient: ",n.patientName]}),(n==null?void 0:n.submissionId)&&u.jsxs("p",{className:"text-sm text-gray-600",children:["Submission ID: ",n.submissionId]})]}),u.jsx("div",{className:"border-t pt-4 space-y-3",children:u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{className:"font-medium mb-1",children:"What happened:"}),u.jsxs("ul",{className:"space-y-1 text-xs",children:[u.jsx("li",{children:" Form submitted and saved to cloud database"}),u.jsx("li",{children:" Data is securely stored and accessible from any device"}),u.jsx("li",{children:" Form has been removed from local drafts"})]})]})}),u.jsx(Ce,{onClick:s,className:"w-full bg-green-600 hover:bg-green-700",children:"Return to Start"})]})]})})},d2=({isOpen:e,onClose:t,currentForm:n,pendingForms:r})=>{const s=Gs(),o=()=>{console.log("OfflineSummaryDialog: Closing and navigating to home"),t(),s("/")};return u.jsx(Yl,{open:e,onOpenChange:o,children:u.jsxs(Ri,{className:"sm:max-w-lg max-h-[80vh] overflow-y-auto",children:[u.jsx(Ti,{children:u.jsxs(Ai,{className:"flex items-center gap-2 text-amber-600",children:[u.jsx(Rl,{className:"w-6 h-6"}),"Form Captured - Offline Mode"]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg",children:[u.jsx(w0,{className:"w-8 h-8 text-amber-600 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-amber-800 font-medium",children:"Your consent form has been saved locally and will upload when online"})]}),(n==null?void 0:n.patientName)&&u.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:["Latest: ",n.patientName]})]}),u.jsxs("div",{className:"border-t pt-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[u.jsx(qf,{className:"w-4 h-4"}),u.jsxs("span",{children:["All Pending Offline Submissions (",r.length,")"]})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 max-h-48 overflow-y-auto",children:r.length>0?u.jsx("ul",{className:"space-y-2",children:r.map((i,a)=>u.jsxs("li",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"font-medium",children:i.patientName||"Unknown Patient"}),u.jsx("span",{className:"text-gray-500 text-xs",children:i.timestamp?new Date(i.timestamp).toLocaleString():"Unknown time"})]},i.id||a))}):u.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No pending submissions"})}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{className:"font-medium mb-1",children:"What happens next:"}),u.jsxs("ul",{className:"space-y-1 text-xs",children:[u.jsx("li",{children:" All forms are safely stored on this device"}),u.jsx("li",{children:" Will automatically upload when internet connection is restored"}),u.jsx("li",{children:" You can continue working with new forms"})]})]})]}),u.jsx(Ce,{onClick:o,className:"w-full",children:"Return to Start"})]})]})})},f2=({showSaveConfirmation:e,saveMessage:t,isOnline:n,showOfflineDialog:r,setShowOfflineDialog:s,showOnlineSuccessDialog:o,setShowOnlineSuccessDialog:i,showOfflineSummaryDialog:a,setShowOfflineSummaryDialog:l,offlineFormData:c,onlineFormData:d,pendingForms:f})=>u.jsxs(u.Fragment,{children:[u.jsx(l2,{show:e,message:t,isOnline:n,isAutoSave:!1}),u.jsx(c2,{isOpen:r,onClose:()=>s(!1),formData:c}),u.jsx(u2,{isOpen:o,onClose:()=>i(!1),formData:d}),u.jsx(d2,{isOpen:a,onClose:()=>l(!1),currentForm:c,pendingForms:f})]}),h2=()=>{const e=vI();return u.jsxs(u.Fragment,{children:[u.jsx(a2,{currentRegion:e.currentRegion,regionDetected:e.regionDetected,isResuming:e.isResuming,activeSection:e.activeSection,setActiveSection:e.setActiveSection,formData:e.formData,handleInputChange:e.handleInputChange,handleCheckboxChange:e.handleCheckboxChange,isDirty:e.isDirty,justSaved:e.justSaved,onSave:e.handleSave,onSubmit:e.handleSubmit,onDiscard:e.handleDiscard,onResetJustSaved:e.resetJustSaved,isOnline:e.isOnline,lastSaved:e.lastSaved,formatLastSaved:e.formatLastSaved,dbInitialized:e.dbInitialized,autoSaveStatus:e.autoSaveStatus,retryCount:e.retryCount,showManualSelector:e.showManualSelector,setRegionManually:e.setRegionManually,isRegionFromDraft:e.isRegionFromDraft,isRegionDetected:e.isRegionDetected,validationErrors:e.validationErrors,showValidationErrors:e.showValidationErrors}),u.jsx(f2,{showSaveConfirmation:e.showSaveConfirmation,saveMessage:e.saveMessage,isOnline:e.isOnline,showOfflineDialog:e.showOfflineDialog,setShowOfflineDialog:e.setShowOfflineDialog,showOnlineSuccessDialog:e.showOnlineSuccessDialog,setShowOnlineSuccessDialog:e.setShowOnlineSuccessDialog,showOfflineSummaryDialog:e.showOfflineSummaryDialog,setShowOfflineSummaryDialog:e.setShowOfflineSummaryDialog,offlineFormData:e.offlineFormData,onlineFormData:e.onlineFormData,pendingForms:e.pendingForms})]})},p2=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(!1),[s,o]=h.useState(()=>localStorage.getItem("consentAccepted")==="true"),[i,a]=h.useState(navigator.onLine),l=h.useRef(null);h.useEffect(()=>{fetch("/mia-consent-offline-form/terms.html").then(d=>{if(!d.ok)throw new Error("Failed to fetch terms.html");return d.text()}).then(d=>{t(d),setTimeout(()=>{const f=l.current;f&&f.scrollHeight<=f.clientHeight+5&&r(!0)},250)}).catch(d=>{console.error("Terms fetch failed:",d),t("<p style='color:red'> Failed to load Terms and Conditions. Please try again later.</p>")})},[]),h.useEffect(()=>{const d=()=>{if(!l.current)return;const{scrollTop:p,scrollHeight:g,clientHeight:x}=l.current;p+x>=g-5&&r(!0)},f=l.current;return f==null||f.addEventListener("scroll",d),()=>f==null?void 0:f.removeEventListener("scroll",d)},[e]),h.useEffect(()=>{const d=()=>a(navigator.onLine);return window.addEventListener("online",d),window.addEventListener("offline",d),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",d)}},[]);const c=()=>{localStorage.setItem("consentAccepted","true"),o(!0)};return u.jsxs("div",{className:"max-w-2xl mx-auto p-4 text-left",children:[u.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Patient Consent Form"}),u.jsxs("details",{className:"mb-4 border border-gray-300 rounded",children:[u.jsx("summary",{className:"cursor-pointer p-3 bg-gray-100 font-medium",children:"View Terms and Conditions"}),u.jsx("div",{ref:l,className:"max-h-72 overflow-y-scroll p-4 border-t border-gray-300 text-sm",dangerouslySetInnerHTML:{__html:e}})]}),i&&u.jsx("a",{href:"https://johan-potgieter-info.github.io/mia-consent-offline-form/terms.html",className:"text-sm text-blue-600 underline mb-4 block",target:"_blank",rel:"noopener noreferrer",children:"View latest online version of Terms & Conditions"}),u.jsxs("label",{className:"flex items-start space-x-2 mt-4",children:[u.jsx("input",{type:"checkbox",disabled:!n,checked:s,onChange:c,className:"mt-1"}),u.jsx("span",{children:"I have read and agree to the Terms and Conditions."})]}),!n&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please scroll to the bottom of the terms to enable the checkbox."})]})},m2=()=>{const e=ki();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},g2=new _C,PS=()=>u.jsxs(EC,{client:g2,children:[u.jsx(mk,{}),u.jsx(lP,{basename:"/mia-consent-offline-form",children:u.jsxs(sP,{children:[u.jsx(So,{path:"/",element:u.jsx(lI,{})}),u.jsx(So,{path:"/consent-form",element:u.jsx(h2,{})}),u.jsx(So,{path:"/consent-page",element:u.jsx(p2,{})}),u.jsx(So,{path:"*",element:u.jsx(m2,{})})]})})]});"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(function(e){for(let t of e)(t.scope.includes("lovableproject.com")||!t.scope.includes("mia-consent-offline-form"))&&(console.log("Unregistering old service worker:",t.scope),t.unregister())}),window.addEventListener("load",()=>{const e="/mia-consent-offline-form/sw.js";navigator.serviceWorker.register(`${e}?v=${Date.now()}`,{scope:"/mia-consent-offline-form/"}).then(t=>{console.log(" Mia Healthcare SW registered successfully:",t.scope),t.addEventListener("updatefound",()=>{const n=t.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New SW available, will activate on next visit")})}),setInterval(()=>{t.update()},5*60*1e3)}).catch(t=>{console.error(" SW registration failed:",t),console.log("Attempted SW URL:",e)})}));Lf(document.getElementById("root")).render(u.jsx(PS,{}));"serviceWorker"in navigator&&(Lf(document.getElementById("root")).render(u.jsx(PS,{})),navigator.serviceWorker.ready.then(e=>{"sync"in e&&e.sync.register("sync-consent").then(()=>{console.log("[SW] Background sync registered")}).catch(console.error),"periodicSync"in e&&e.periodicSync.register("update-consent-data",{minInterval:24*60*60*1e3}).then(()=>{console.log("[SW] Periodic sync registered")}).catch(console.error)}));
